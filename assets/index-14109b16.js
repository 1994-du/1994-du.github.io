(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Jr(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const re={},Jt=[],Xe=()=>{},Po=()=>!1,er=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),qr=e=>e.startsWith("onUpdate:"),Te=Object.assign,Qr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ro=Object.prototype.hasOwnProperty,z=(e,t)=>Ro.call(e,t),Y=Array.isArray,qt=e=>Pn(e)==="[object Map]",tr=e=>Pn(e)==="[object Set]",Ns=e=>Pn(e)==="[object Date]",B=e=>typeof e=="function",me=e=>typeof e=="string",rt=e=>typeof e=="symbol",oe=e=>e!==null&&typeof e=="object",Wl=e=>(oe(e)||B(e))&&B(e.then)&&B(e.catch),jl=Object.prototype.toString,Pn=e=>jl.call(e),Mo=e=>Pn(e).slice(8,-1),Vl=e=>Pn(e)==="[object Object]",Zr=e=>me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_n=Jr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Do=/-(\w)/g,St=nr(e=>e.replace(Do,(t,n)=>n?n.toUpperCase():"")),Fo=/\B([A-Z])/g,Ht=nr(e=>e.replace(Fo,"-$1").toLowerCase()),Hl=nr(e=>e.charAt(0).toUpperCase()+e.slice(1)),hr=nr(e=>e?`on${Hl(e)}`:""),Nt=(e,t)=>!Object.is(e,t),$n=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Kl=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Yl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ss;const rr=()=>Ss||(Ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zr(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],l=me(r)?Uo(r):zr(r);if(l)for(const s in l)t[s]=l[s]}return t}else if(me(e)||oe(e))return e}const ko=/;(?![^(]*\))/g,wo=/:([^]+)/,xo=/\/\*[^]*?\*\//g;function Uo(e){const t={};return e.replace(xo,"").split(ko).forEach(n=>{if(n){const r=n.split(wo);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function es(e){let t="";if(me(e))t=e;else if(Y(e))for(let n=0;n<e.length;n++){const r=es(e[n]);r&&(t+=r+" ")}else if(oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const $o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wo=Jr($o);function Gl(e){return!!e||e===""}function jo(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=sr(e[r],t[r]);return n}function sr(e,t){if(e===t)return!0;let n=Ns(e),r=Ns(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=rt(e),r=rt(t),n||r)return e===t;if(n=Y(e),r=Y(t),n||r)return n&&r?jo(e,t):!1;if(n=oe(e),r=oe(t),n||r){if(!n||!r)return!1;const l=Object.keys(e).length,s=Object.keys(t).length;if(l!==s)return!1;for(const i in e){const o=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(o&&!a||!o&&a||!sr(e[i],t[i]))return!1}}return String(e)===String(t)}function Vo(e,t){return e.findIndex(n=>sr(n,t))}const Bl=e=>!!(e&&e.__v_isRef===!0),$t=e=>me(e)?e:e==null?"":Y(e)||oe(e)&&(e.toString===jl||!B(e.toString))?Bl(e)?$t(e.value):JSON.stringify(e,Xl,2):String(e),Xl=(e,t)=>Bl(t)?Xl(e,t.value):qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,l],s)=>(n[pr(r,s)+" =>"]=l,n),{})}:tr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>pr(n))}:rt(t)?pr(t):oe(t)&&!Y(t)&&!Vl(t)?String(t):t,pr=(e,t="")=>{var n;return rt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xe;class Jl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xe,!t&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=xe;try{return xe=this,t()}finally{xe=n}}}on(){xe=this}off(){xe=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function Ho(e){return new Jl(e)}function Ko(){return xe}let le;const gr=new WeakSet;class ql{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xe&&xe.active&&xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gr.has(this)&&(gr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Cs(this),zl(this);const t=le,n=Je;le=this,Je=!0;try{return this.fn()}finally{ei(this),le=t,Je=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)rs(t);this.deps=this.depsTail=void 0,Cs(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ar(this)&&this.run()}get dirty(){return Ar(this)}}let Ql=0,mn,hn;function Zl(e,t=!1){if(e.flags|=8,t){e.next=hn,hn=e;return}e.next=mn,mn=e}function ts(){Ql++}function ns(){if(--Ql>0)return;if(hn){let t=hn;for(hn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;mn;){let t=mn;for(mn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function zl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ei(e){let t,n=e.depsTail,r=n;for(;r;){const l=r.prevDep;r.version===-1?(r===n&&(n=l),rs(r),Yo(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=l}e.deps=t,e.depsTail=n}function Ar(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ti(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ti(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===vn))return;e.globalVersion=vn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Ar(e)){e.flags&=-3;return}const n=le,r=Je;le=e,Je=!0;try{zl(e);const l=e.fn(e._value);(t.version===0||Nt(l,e._value))&&(e._value=l,t.version++)}catch(l){throw t.version++,l}finally{le=n,Je=r,ei(e),e.flags&=-3}}function rs(e,t=!1){const{dep:n,prevSub:r,nextSub:l}=e;if(r&&(r.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)rs(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Yo(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Je=!0;const ni=[];function At(){ni.push(Je),Je=!1}function Pt(){const e=ni.pop();Je=e===void 0?!0:e}function Cs(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=le;le=void 0;try{t()}finally{le=n}}}let vn=0;class Go{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ss{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!le||!Je||le===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==le)n=this.activeLink=new Go(le,this),le.deps?(n.prevDep=le.depsTail,le.depsTail.nextDep=n,le.depsTail=n):le.deps=le.depsTail=n,ri(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=le.depsTail,n.nextDep=void 0,le.depsTail.nextDep=n,le.depsTail=n,le.deps===n&&(le.deps=r)}return n}trigger(t){this.version++,vn++,this.notify(t)}notify(t){ts();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ns()}}}function ri(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ri(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Pr=new WeakMap,jt=Symbol(""),Rr=Symbol(""),Tn=Symbol("");function ye(e,t,n){if(Je&&le){let r=Pr.get(e);r||Pr.set(e,r=new Map);let l=r.get(n);l||(r.set(n,l=new ss),l.map=r,l.key=n),l.track()}}function mt(e,t,n,r,l,s){const i=Pr.get(e);if(!i){vn++;return}const o=a=>{a&&a.trigger()};if(ts(),t==="clear")i.forEach(o);else{const a=Y(e),d=a&&Zr(n);if(a&&n==="length"){const _=Number(r);i.forEach((h,b)=>{(b==="length"||b===Tn||!rt(b)&&b>=_)&&o(h)})}else switch((n!==void 0||i.has(void 0))&&o(i.get(n)),d&&o(i.get(Tn)),t){case"add":a?d&&o(i.get("length")):(o(i.get(jt)),qt(e)&&o(i.get(Rr)));break;case"delete":a||(o(i.get(jt)),qt(e)&&o(i.get(Rr)));break;case"set":qt(e)&&o(i.get(jt));break}}ns()}function Yt(e){const t=Z(e);return t===e?t:(ye(t,"iterate",Tn),Ve(e)?t:t.map(Oe))}function lr(e){return ye(e=Z(e),"iterate",Tn),e}const Bo={__proto__:null,[Symbol.iterator](){return br(this,Symbol.iterator,Oe)},concat(...e){return Yt(this).concat(...e.map(t=>Y(t)?Yt(t):t))},entries(){return br(this,"entries",e=>(e[1]=Oe(e[1]),e))},every(e,t){return ut(this,"every",e,t,void 0,arguments)},filter(e,t){return ut(this,"filter",e,t,n=>n.map(Oe),arguments)},find(e,t){return ut(this,"find",e,t,Oe,arguments)},findIndex(e,t){return ut(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ut(this,"findLast",e,t,Oe,arguments)},findLastIndex(e,t){return ut(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ut(this,"forEach",e,t,void 0,arguments)},includes(...e){return Er(this,"includes",e)},indexOf(...e){return Er(this,"indexOf",e)},join(e){return Yt(this).join(e)},lastIndexOf(...e){return Er(this,"lastIndexOf",e)},map(e,t){return ut(this,"map",e,t,void 0,arguments)},pop(){return ln(this,"pop")},push(...e){return ln(this,"push",e)},reduce(e,...t){return As(this,"reduce",e,t)},reduceRight(e,...t){return As(this,"reduceRight",e,t)},shift(){return ln(this,"shift")},some(e,t){return ut(this,"some",e,t,void 0,arguments)},splice(...e){return ln(this,"splice",e)},toReversed(){return Yt(this).toReversed()},toSorted(e){return Yt(this).toSorted(e)},toSpliced(...e){return Yt(this).toSpliced(...e)},unshift(...e){return ln(this,"unshift",e)},values(){return br(this,"values",Oe)}};function br(e,t,n){const r=lr(e),l=r[t]();return r!==e&&!Ve(e)&&(l._next=l.next,l.next=()=>{const s=l._next();return s.value&&(s.value=n(s.value)),s}),l}const Xo=Array.prototype;function ut(e,t,n,r,l,s){const i=lr(e),o=i!==e&&!Ve(e),a=i[t];if(a!==Xo[t]){const h=a.apply(e,s);return o?Oe(h):h}let d=n;i!==e&&(o?d=function(h,b){return n.call(this,Oe(h),b,e)}:n.length>2&&(d=function(h,b){return n.call(this,h,b,e)}));const _=a.call(i,d,r);return o&&l?l(_):_}function As(e,t,n,r){const l=lr(e);let s=n;return l!==e&&(Ve(e)?n.length>3&&(s=function(i,o,a){return n.call(this,i,o,a,e)}):s=function(i,o,a){return n.call(this,i,Oe(o),a,e)}),l[t](s,...r)}function Er(e,t,n){const r=Z(e);ye(r,"iterate",Tn);const l=r[t](...n);return(l===-1||l===!1)&&as(n[0])?(n[0]=Z(n[0]),r[t](...n)):l}function ln(e,t,n=[]){At(),ts();const r=Z(e)[t].apply(e,n);return ns(),Pt(),r}const Jo=Jr("__proto__,__v_isRef,__isVue"),si=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(rt));function qo(e){rt(e)||(e=String(e));const t=Z(this);return ye(t,"has",e),t.hasOwnProperty(e)}class li{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const l=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!l;if(n==="__v_isReadonly")return l;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(l?s?ia:ci:s?ai:oi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=Y(t);if(!l){let a;if(i&&(a=Bo[n]))return a;if(n==="hasOwnProperty")return qo}const o=Reflect.get(t,n,Ie(t)?t:r);return(rt(n)?si.has(n):Jo(n))||(l||ye(t,"get",n),s)?o:Ie(o)?i&&Zr(n)?o:o.value:oe(o)?l?ui(o):is(o):o}}class ii extends li{constructor(t=!1){super(!1,t)}set(t,n,r,l){let s=t[n];if(!this._isShallow){const a=Vt(s);if(!Ve(r)&&!Vt(r)&&(s=Z(s),r=Z(r)),!Y(t)&&Ie(s)&&!Ie(r))return a?!1:(s.value=r,!0)}const i=Y(t)&&Zr(n)?Number(n)<t.length:z(t,n),o=Reflect.set(t,n,r,Ie(t)?t:l);return t===Z(l)&&(i?Nt(r,s)&&mt(t,"set",n,r):mt(t,"add",n,r)),o}deleteProperty(t,n){const r=z(t,n);t[n];const l=Reflect.deleteProperty(t,n);return l&&r&&mt(t,"delete",n,void 0),l}has(t,n){const r=Reflect.has(t,n);return(!rt(n)||!si.has(n))&&ye(t,"has",n),r}ownKeys(t){return ye(t,"iterate",Y(t)?"length":jt),Reflect.ownKeys(t)}}class Qo extends li{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Zo=new ii,zo=new Qo,ea=new ii(!0);const Mr=e=>e,Fn=e=>Reflect.getPrototypeOf(e);function ta(e,t,n){return function(...r){const l=this.__v_raw,s=Z(l),i=qt(s),o=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,d=l[e](...r),_=n?Mr:t?Dr:Oe;return!t&&ye(s,"iterate",a?Rr:jt),{next(){const{value:h,done:b}=d.next();return b?{value:h,done:b}:{value:o?[_(h[0]),_(h[1])]:_(h),done:b}},[Symbol.iterator](){return this}}}}function kn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function na(e,t){const n={get(l){const s=this.__v_raw,i=Z(s),o=Z(l);e||(Nt(l,o)&&ye(i,"get",l),ye(i,"get",o));const{has:a}=Fn(i),d=t?Mr:e?Dr:Oe;if(a.call(i,l))return d(s.get(l));if(a.call(i,o))return d(s.get(o));s!==i&&s.get(l)},get size(){const l=this.__v_raw;return!e&&ye(Z(l),"iterate",jt),Reflect.get(l,"size",l)},has(l){const s=this.__v_raw,i=Z(s),o=Z(l);return e||(Nt(l,o)&&ye(i,"has",l),ye(i,"has",o)),l===o?s.has(l):s.has(l)||s.has(o)},forEach(l,s){const i=this,o=i.__v_raw,a=Z(o),d=t?Mr:e?Dr:Oe;return!e&&ye(a,"iterate",jt),o.forEach((_,h)=>l.call(s,d(_),d(h),i))}};return Te(n,e?{add:kn("add"),set:kn("set"),delete:kn("delete"),clear:kn("clear")}:{add(l){!t&&!Ve(l)&&!Vt(l)&&(l=Z(l));const s=Z(this);return Fn(s).has.call(s,l)||(s.add(l),mt(s,"add",l,l)),this},set(l,s){!t&&!Ve(s)&&!Vt(s)&&(s=Z(s));const i=Z(this),{has:o,get:a}=Fn(i);let d=o.call(i,l);d||(l=Z(l),d=o.call(i,l));const _=a.call(i,l);return i.set(l,s),d?Nt(s,_)&&mt(i,"set",l,s):mt(i,"add",l,s),this},delete(l){const s=Z(this),{has:i,get:o}=Fn(s);let a=i.call(s,l);a||(l=Z(l),a=i.call(s,l)),o&&o.call(s,l);const d=s.delete(l);return a&&mt(s,"delete",l,void 0),d},clear(){const l=Z(this),s=l.size!==0,i=l.clear();return s&&mt(l,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(l=>{n[l]=ta(l,e,t)}),n}function ls(e,t){const n=na(e,t);return(r,l,s)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?r:Reflect.get(z(n,l)&&l in r?n:r,l,s)}const ra={get:ls(!1,!1)},sa={get:ls(!1,!0)},la={get:ls(!0,!1)};const oi=new WeakMap,ai=new WeakMap,ci=new WeakMap,ia=new WeakMap;function oa(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aa(e){return e.__v_skip||!Object.isExtensible(e)?0:oa(Mo(e))}function is(e){return Vt(e)?e:os(e,!1,Zo,ra,oi)}function ca(e){return os(e,!1,ea,sa,ai)}function ui(e){return os(e,!0,zo,la,ci)}function os(e,t,n,r,l){if(!oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=l.get(e);if(s)return s;const i=aa(e);if(i===0)return e;const o=new Proxy(e,i===2?r:n);return l.set(e,o),o}function Qt(e){return Vt(e)?Qt(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function as(e){return e?!!e.__v_raw:!1}function Z(e){const t=e&&e.__v_raw;return t?Z(t):e}function ua(e){return!z(e,"__v_skip")&&Object.isExtensible(e)&&Kl(e,"__v_skip",!0),e}const Oe=e=>oe(e)?is(e):e,Dr=e=>oe(e)?ui(e):e;function Ie(e){return e?e.__v_isRef===!0:!1}function Ot(e){return di(e,!1)}function fi(e){return di(e,!0)}function di(e,t){return Ie(e)?e:new fa(e,t)}class fa{constructor(t,n){this.dep=new ss,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Z(t),this._value=n?t:Oe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ve(t)||Vt(t);t=r?t:Z(t),Nt(t,n)&&(this._rawValue=t,this._value=r?t:Oe(t),this.dep.trigger())}}function fn(e){return Ie(e)?e.value:e}const da={get:(e,t,n)=>t==="__v_raw"?e:fn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const l=e[t];return Ie(l)&&!Ie(n)?(l.value=n,!0):Reflect.set(e,t,n,r)}};function _i(e){return Qt(e)?e:new Proxy(e,da)}class _a{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ss(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&le!==this)return Zl(this,!0),!0}get value(){const t=this.dep.track();return ti(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ma(e,t,n=!1){let r,l;return B(e)?r=e:(r=e.get,l=e.set),new _a(r,l,n)}const wn={},Kn=new WeakMap;let Wt;function ha(e,t=!1,n=Wt){if(n){let r=Kn.get(n);r||Kn.set(n,r=[]),r.push(e)}}function pa(e,t,n=re){const{immediate:r,deep:l,once:s,scheduler:i,augmentJob:o,call:a}=n,d=E=>l?E:Ve(E)||l===!1||l===0?ht(E,1):ht(E);let _,h,b,I,M=!1,D=!1;if(Ie(e)?(h=()=>e.value,M=Ve(e)):Qt(e)?(h=()=>d(e),M=!0):Y(e)?(D=!0,M=e.some(E=>Qt(E)||Ve(E)),h=()=>e.map(E=>{if(Ie(E))return E.value;if(Qt(E))return d(E);if(B(E))return a?a(E,2):E()})):B(e)?t?h=a?()=>a(e,2):e:h=()=>{if(b){At();try{b()}finally{Pt()}}const E=Wt;Wt=_;try{return a?a(e,3,[I]):e(I)}finally{Wt=E}}:h=Xe,t&&l){const E=h,S=l===!0?1/0:l;h=()=>ht(E(),S)}const w=Ko(),F=()=>{_.stop(),w&&w.active&&Qr(w.effects,_)};if(s&&t){const E=t;t=(...S)=>{E(...S),F()}}let j=D?new Array(e.length).fill(wn):wn;const T=E=>{if(!(!(_.flags&1)||!_.dirty&&!E))if(t){const S=_.run();if(l||M||(D?S.some((y,k)=>Nt(y,j[k])):Nt(S,j))){b&&b();const y=Wt;Wt=_;try{const k=[S,j===wn?void 0:D&&j[0]===wn?[]:j,I];a?a(t,3,k):t(...k),j=S}finally{Wt=y}}}else _.run()};return o&&o(T),_=new ql(h),_.scheduler=i?()=>i(T,!1):T,I=E=>ha(E,!1,_),b=_.onStop=()=>{const E=Kn.get(_);if(E){if(a)a(E,4);else for(const S of E)S();Kn.delete(_)}},t?r?T(!0):j=_.run():i?i(T.bind(null,!0),!0):_.run(),F.pause=_.pause.bind(_),F.resume=_.resume.bind(_),F.stop=F,F}function ht(e,t=1/0,n){if(t<=0||!oe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ie(e))ht(e.value,t,n);else if(Y(e))for(let r=0;r<e.length;r++)ht(e[r],t,n);else if(tr(e)||qt(e))e.forEach(r=>{ht(r,t,n)});else if(Vl(e)){for(const r in e)ht(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&ht(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Rn(e,t,n,r){try{return r?e(...r):e()}catch(l){ir(l,t,n)}}function st(e,t,n,r){if(B(e)){const l=Rn(e,t,n,r);return l&&Wl(l)&&l.catch(s=>{ir(s,t,n)}),l}if(Y(e)){const l=[];for(let s=0;s<e.length;s++)l.push(st(e[s],t,n,r));return l}}function ir(e,t,n,r=!0){const l=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||re;if(t){let o=t.parent;const a=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const _=o.ec;if(_){for(let h=0;h<_.length;h++)if(_[h](e,a,d)===!1)return}o=o.parent}if(s){At(),Rn(s,null,10,[e,a,d]),Pt();return}}ga(e,n,l,r,i)}function ga(e,t,n,r=!0,l=!1){if(l)throw e;console.error(e)}const Pe=[];let ze=-1;const Zt=[];let Lt=null,Gt=0;const mi=Promise.resolve();let Yn=null;function hi(e){const t=Yn||mi;return e?t.then(this?e.bind(this):e):t}function ba(e){let t=ze+1,n=Pe.length;for(;t<n;){const r=t+n>>>1,l=Pe[r],s=In(l);s<e||s===e&&l.flags&2?t=r+1:n=r}return t}function cs(e){if(!(e.flags&1)){const t=In(e),n=Pe[Pe.length-1];!n||!(e.flags&2)&&t>=In(n)?Pe.push(e):Pe.splice(ba(t),0,e),e.flags|=1,pi()}}function pi(){Yn||(Yn=mi.then(bi))}function Ea(e){Y(e)?Zt.push(...e):Lt&&e.id===-1?Lt.splice(Gt+1,0,e):e.flags&1||(Zt.push(e),e.flags|=1),pi()}function Ps(e,t,n=ze+1){for(;n<Pe.length;n++){const r=Pe[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Pe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function gi(e){if(Zt.length){const t=[...new Set(Zt)].sort((n,r)=>In(n)-In(r));if(Zt.length=0,Lt){Lt.push(...t);return}for(Lt=t,Gt=0;Gt<Lt.length;Gt++){const n=Lt[Gt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Lt=null,Gt=0}}const In=e=>e.id==null?e.flags&2?-1:1/0:e.id;function bi(e){const t=Xe;try{for(ze=0;ze<Pe.length;ze++){const n=Pe[ze];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Rn(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;ze<Pe.length;ze++){const n=Pe[ze];n&&(n.flags&=-2)}ze=-1,Pe.length=0,gi(),Yn=null,(Pe.length||Zt.length)&&bi()}}let Ue=null,Ei=null;function Gn(e){const t=Ue;return Ue=e,Ei=e&&e.type.__scopeId||null,t}function va(e,t=Ue,n){if(!t||e._n)return e;const r=(...l)=>{r._d&&Ws(-1);const s=Gn(t);let i;try{i=e(...l)}finally{Gn(s),r._d&&Ws(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Rs(e,t){if(Ue===null)return e;const n=cr(Ue),r=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[s,i,o,a=re]=t[l];s&&(B(s)&&(s={mounted:s,updated:s}),s.deep&&ht(i),r.push({dir:s,instance:n,value:i,oldValue:void 0,arg:o,modifiers:a}))}return e}function kt(e,t,n,r){const l=e.dirs,s=t&&t.dirs;for(let i=0;i<l.length;i++){const o=l[i];s&&(o.oldValue=s[i].value);let a=o.dir[r];a&&(At(),st(a,n,8,[e.el,o,e,t]),Pt())}}const Ta=Symbol("_vte"),Ia=e=>e.__isTeleport;function us(e,t){e.shapeFlag&6&&e.component?(e.transition=t,us(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function fs(e,t){return B(e)?(()=>Te({name:e.name},t,{setup:e}))():e}function vi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Bn(e,t,n,r,l=!1){if(Y(e)){e.forEach((M,D)=>Bn(M,t&&(Y(t)?t[D]:t),n,r,l));return}if(pn(r)&&!l){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Bn(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?cr(r.component):r.el,i=l?null:s,{i:o,r:a}=e,d=t&&t.r,_=o.refs===re?o.refs={}:o.refs,h=o.setupState,b=Z(h),I=h===re?()=>!1:M=>z(b,M);if(d!=null&&d!==a&&(me(d)?(_[d]=null,I(d)&&(h[d]=null)):Ie(d)&&(d.value=null)),B(a))Rn(a,o,12,[i,_]);else{const M=me(a),D=Ie(a);if(M||D){const w=()=>{if(e.f){const F=M?I(a)?h[a]:_[a]:a.value;l?Y(F)&&Qr(F,s):Y(F)?F.includes(s)||F.push(s):M?(_[a]=[s],I(a)&&(h[a]=_[a])):(a.value=[s],e.k&&(_[e.k]=a.value))}else M?(_[a]=i,I(a)&&(h[a]=i)):D&&(a.value=i,e.k&&(_[e.k]=i))};i?(w.id=-1,we(w,n)):w()}}}rr().requestIdleCallback;rr().cancelIdleCallback;const pn=e=>!!e.type.__asyncLoader,Ti=e=>e.type.__isKeepAlive;function La(e,t){Ii(e,"a",t)}function ya(e,t){Ii(e,"da",t)}function Ii(e,t,n=Ne){const r=e.__wdc||(e.__wdc=()=>{let l=n;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(or(t,r,n),n){let l=n.parent;for(;l&&l.parent;)Ti(l.parent.vnode)&&Oa(r,t,n,l),l=l.parent}}function Oa(e,t,n,r){const l=or(t,e,r,!0);_s(()=>{Qr(r[t],l)},n)}function or(e,t,n=Ne,r=!1){if(n){const l=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{At();const o=Dn(n),a=st(t,n,e,i);return o(),Pt(),a});return r?l.unshift(s):l.push(s),s}}const gt=e=>(t,n=Ne)=>{(!Nn||e==="sp")&&or(e,(...r)=>t(...r),n)},Li=gt("bm"),ds=gt("m"),Na=gt("bu"),Sa=gt("u"),Ca=gt("bum"),_s=gt("um"),Aa=gt("sp"),Pa=gt("rtg"),Ra=gt("rtc");function Ma(e,t=Ne){or("ec",e,t)}const Da=Symbol.for("v-ndc");function Ms(e,t,n,r){let l;const s=n&&n[r],i=Y(e);if(i||me(e)){const o=i&&Qt(e);let a=!1;o&&(a=!Ve(e),e=lr(e)),l=new Array(e.length);for(let d=0,_=e.length;d<_;d++)l[d]=t(a?Oe(e[d]):e[d],d,void 0,s&&s[d])}else if(typeof e=="number"){l=new Array(e);for(let o=0;o<e;o++)l[o]=t(o+1,o,void 0,s&&s[o])}else if(oe(e))if(e[Symbol.iterator])l=Array.from(e,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(e);l=new Array(o.length);for(let a=0,d=o.length;a<d;a++){const _=o[a];l[a]=t(e[_],_,a,s&&s[a])}}else l=[];return n&&(n[r]=l),l}const Fr=e=>e?Vi(e)?cr(e):Fr(e.parent):null,gn=Te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fr(e.parent),$root:e=>Fr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ms(e),$forceUpdate:e=>e.f||(e.f=()=>{cs(e.update)}),$nextTick:e=>e.n||(e.n=hi.bind(e.proxy)),$watch:e=>tc.bind(e)}),vr=(e,t)=>e!==re&&!e.__isScriptSetup&&z(e,t),Fa={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:l,props:s,accessCache:i,type:o,appContext:a}=e;let d;if(t[0]!=="$"){const I=i[t];if(I!==void 0)switch(I){case 1:return r[t];case 2:return l[t];case 4:return n[t];case 3:return s[t]}else{if(vr(r,t))return i[t]=1,r[t];if(l!==re&&z(l,t))return i[t]=2,l[t];if((d=e.propsOptions[0])&&z(d,t))return i[t]=3,s[t];if(n!==re&&z(n,t))return i[t]=4,n[t];kr&&(i[t]=0)}}const _=gn[t];let h,b;if(_)return t==="$attrs"&&ye(e.attrs,"get",""),_(e);if((h=o.__cssModules)&&(h=h[t]))return h;if(n!==re&&z(n,t))return i[t]=4,n[t];if(b=a.config.globalProperties,z(b,t))return b[t]},set({_:e},t,n){const{data:r,setupState:l,ctx:s}=e;return vr(l,t)?(l[t]=n,!0):r!==re&&z(r,t)?(r[t]=n,!0):z(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:l,propsOptions:s}},i){let o;return!!n[i]||e!==re&&z(e,i)||vr(t,i)||(o=s[0])&&z(o,i)||z(r,i)||z(gn,i)||z(l.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:z(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ds(e){return Y(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let kr=!0;function ka(e){const t=ms(e),n=e.proxy,r=e.ctx;kr=!1,t.beforeCreate&&Fs(t.beforeCreate,e,"bc");const{data:l,computed:s,methods:i,watch:o,provide:a,inject:d,created:_,beforeMount:h,mounted:b,beforeUpdate:I,updated:M,activated:D,deactivated:w,beforeDestroy:F,beforeUnmount:j,destroyed:T,unmounted:E,render:S,renderTracked:y,renderTriggered:k,errorCaptured:W,serverPrefetch:U,expose:te,inheritAttrs:he,components:X,directives:ue,filters:lt}=t;if(d&&wa(d,r,null),i)for(const ee in i){const q=i[ee];B(q)&&(r[ee]=q.bind(n))}if(l){const ee=l.call(n,n);oe(ee)&&(e.data=is(ee))}if(kr=!0,s)for(const ee in s){const q=s[ee],De=B(q)?q.bind(n,n):B(q.get)?q.get.bind(n,n):Xe,qe=!B(q)&&B(q.set)?q.set.bind(n):Xe,pe=Ye({get:De,set:qe});Object.defineProperty(r,ee,{enumerable:!0,configurable:!0,get:()=>pe.value,set:be=>pe.value=be})}if(o)for(const ee in o)yi(o[ee],r,n,ee);if(a){const ee=B(a)?a.call(n):a;Reflect.ownKeys(ee).forEach(q=>{Va(q,ee[q])})}_&&Fs(_,e,"c");function se(ee,q){Y(q)?q.forEach(De=>ee(De.bind(n))):q&&ee(q.bind(n))}if(se(Li,h),se(ds,b),se(Na,I),se(Sa,M),se(La,D),se(ya,w),se(Ma,W),se(Ra,y),se(Pa,k),se(Ca,j),se(_s,E),se(Aa,U),Y(te))if(te.length){const ee=e.exposed||(e.exposed={});te.forEach(q=>{Object.defineProperty(ee,q,{get:()=>n[q],set:De=>n[q]=De})})}else e.exposed||(e.exposed={});S&&e.render===Xe&&(e.render=S),he!=null&&(e.inheritAttrs=he),X&&(e.components=X),ue&&(e.directives=ue),U&&vi(e)}function wa(e,t,n=Xe){Y(e)&&(e=wr(e));for(const r in e){const l=e[r];let s;oe(l)?"default"in l?s=bn(l.from||r,l.default,!0):s=bn(l.from||r):s=bn(l),Ie(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[r]=s}}function Fs(e,t,n){st(Y(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function yi(e,t,n,r){let l=r.includes(".")?Ui(n,r):()=>n[r];if(me(e)){const s=t[e];B(s)&&en(l,s)}else if(B(e))en(l,e.bind(n));else if(oe(e))if(Y(e))e.forEach(s=>yi(s,t,n,r));else{const s=B(e.handler)?e.handler.bind(n):t[e.handler];B(s)&&en(l,s,e)}}function ms(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:l,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,o=s.get(t);let a;return o?a=o:!l.length&&!n&&!r?a=t:(a={},l.length&&l.forEach(d=>Xn(a,d,i,!0)),Xn(a,t,i)),oe(t)&&s.set(t,a),a}function Xn(e,t,n,r=!1){const{mixins:l,extends:s}=t;s&&Xn(e,s,n,!0),l&&l.forEach(i=>Xn(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const o=xa[i]||n&&n[i];e[i]=o?o(e[i],t[i]):t[i]}return e}const xa={data:ks,props:ws,emits:ws,methods:dn,computed:dn,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:dn,directives:dn,watch:$a,provide:ks,inject:Ua};function ks(e,t){return t?e?function(){return Te(B(e)?e.call(this,this):e,B(t)?t.call(this,this):t)}:t:e}function Ua(e,t){return dn(wr(e),wr(t))}function wr(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ce(e,t){return e?[...new Set([].concat(e,t))]:t}function dn(e,t){return e?Te(Object.create(null),e,t):t}function ws(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Te(Object.create(null),Ds(e),Ds(t??{})):t}function $a(e,t){if(!e)return t;if(!t)return e;const n=Te(Object.create(null),e);for(const r in t)n[r]=Ce(e[r],t[r]);return n}function Oi(){return{app:null,config:{isNativeTag:Po,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wa=0;function ja(e,t){return function(r,l=null){B(r)||(r=Te({},r)),l!=null&&!oe(l)&&(l=null);const s=Oi(),i=new WeakSet,o=[];let a=!1;const d=s.app={_uid:Wa++,_component:r,_props:l,_container:null,_context:s,_instance:null,version:yc,get config(){return s.config},set config(_){},use(_,...h){return i.has(_)||(_&&B(_.install)?(i.add(_),_.install(d,...h)):B(_)&&(i.add(_),_(d,...h))),d},mixin(_){return s.mixins.includes(_)||s.mixins.push(_),d},component(_,h){return h?(s.components[_]=h,d):s.components[_]},directive(_,h){return h?(s.directives[_]=h,d):s.directives[_]},mount(_,h,b){if(!a){const I=d._ceVNode||We(r,l);return I.appContext=s,b===!0?b="svg":b===!1&&(b=void 0),h&&t?t(I,_):e(I,_,b),a=!0,d._container=_,_.__vue_app__=d,cr(I.component)}},onUnmount(_){o.push(_)},unmount(){a&&(st(o,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(_,h){return s.provides[_]=h,d},runWithContext(_){const h=zt;zt=d;try{return _()}finally{zt=h}}};return d}}let zt=null;function Va(e,t){if(Ne){let n=Ne.provides;const r=Ne.parent&&Ne.parent.provides;r===n&&(n=Ne.provides=Object.create(r)),n[e]=t}}function bn(e,t,n=!1){const r=Ne||Ue;if(r||zt){const l=zt?zt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return n&&B(t)?t.call(r&&r.proxy):t}}const Ni={},Si=()=>Object.create(Ni),Ci=e=>Object.getPrototypeOf(e)===Ni;function Ha(e,t,n,r=!1){const l={},s=Si();e.propsDefaults=Object.create(null),Ai(e,t,l,s);for(const i in e.propsOptions[0])i in l||(l[i]=void 0);n?e.props=r?l:ca(l):e.type.props?e.props=l:e.props=s,e.attrs=s}function Ka(e,t,n,r){const{props:l,attrs:s,vnode:{patchFlag:i}}=e,o=Z(l),[a]=e.propsOptions;let d=!1;if((r||i>0)&&!(i&16)){if(i&8){const _=e.vnode.dynamicProps;for(let h=0;h<_.length;h++){let b=_[h];if(ar(e.emitsOptions,b))continue;const I=t[b];if(a)if(z(s,b))I!==s[b]&&(s[b]=I,d=!0);else{const M=St(b);l[M]=xr(a,o,M,I,e,!1)}else I!==s[b]&&(s[b]=I,d=!0)}}}else{Ai(e,t,l,s)&&(d=!0);let _;for(const h in o)(!t||!z(t,h)&&((_=Ht(h))===h||!z(t,_)))&&(a?n&&(n[h]!==void 0||n[_]!==void 0)&&(l[h]=xr(a,o,h,void 0,e,!0)):delete l[h]);if(s!==o)for(const h in s)(!t||!z(t,h))&&(delete s[h],d=!0)}d&&mt(e.attrs,"set","")}function Ai(e,t,n,r){const[l,s]=e.propsOptions;let i=!1,o;if(t)for(let a in t){if(_n(a))continue;const d=t[a];let _;l&&z(l,_=St(a))?!s||!s.includes(_)?n[_]=d:(o||(o={}))[_]=d:ar(e.emitsOptions,a)||(!(a in r)||d!==r[a])&&(r[a]=d,i=!0)}if(s){const a=Z(n),d=o||re;for(let _=0;_<s.length;_++){const h=s[_];n[h]=xr(l,a,h,d[h],e,!z(d,h))}}return i}function xr(e,t,n,r,l,s){const i=e[n];if(i!=null){const o=z(i,"default");if(o&&r===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&B(a)){const{propsDefaults:d}=l;if(n in d)r=d[n];else{const _=Dn(l);r=d[n]=a.call(null,t),_()}}else r=a;l.ce&&l.ce._setProp(n,r)}i[0]&&(s&&!o?r=!1:i[1]&&(r===""||r===Ht(n))&&(r=!0))}return r}const Ya=new WeakMap;function Pi(e,t,n=!1){const r=n?Ya:t.propsCache,l=r.get(e);if(l)return l;const s=e.props,i={},o=[];let a=!1;if(!B(e)){const _=h=>{a=!0;const[b,I]=Pi(h,t,!0);Te(i,b),I&&o.push(...I)};!n&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!s&&!a)return oe(e)&&r.set(e,Jt),Jt;if(Y(s))for(let _=0;_<s.length;_++){const h=St(s[_]);xs(h)&&(i[h]=re)}else if(s)for(const _ in s){const h=St(_);if(xs(h)){const b=s[_],I=i[h]=Y(b)||B(b)?{type:b}:Te({},b),M=I.type;let D=!1,w=!0;if(Y(M))for(let F=0;F<M.length;++F){const j=M[F],T=B(j)&&j.name;if(T==="Boolean"){D=!0;break}else T==="String"&&(w=!1)}else D=B(M)&&M.name==="Boolean";I[0]=D,I[1]=w,(D||z(I,"default"))&&o.push(h)}}const d=[i,o];return oe(e)&&r.set(e,d),d}function xs(e){return e[0]!=="$"&&!_n(e)}const Ri=e=>e[0]==="_"||e==="$stable",hs=e=>Y(e)?e.map(et):[et(e)],Ga=(e,t,n)=>{if(t._n)return t;const r=va((...l)=>hs(t(...l)),n);return r._c=!1,r},Mi=(e,t,n)=>{const r=e._ctx;for(const l in e){if(Ri(l))continue;const s=e[l];if(B(s))t[l]=Ga(l,s,r);else if(s!=null){const i=hs(s);t[l]=()=>i}}},Di=(e,t)=>{const n=hs(t);e.slots.default=()=>n},Fi=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Ba=(e,t,n)=>{const r=e.slots=Si();if(e.vnode.shapeFlag&32){const l=t._;l?(Fi(r,t,n),n&&Kl(r,"_",l,!0)):Mi(t,r)}else t&&Di(e,t)},Xa=(e,t,n)=>{const{vnode:r,slots:l}=e;let s=!0,i=re;if(r.shapeFlag&32){const o=t._;o?n&&o===1?s=!1:Fi(l,t,n):(s=!t.$stable,Mi(t,l)),i=t}else t&&(Di(e,t),i={default:1});if(s)for(const o in l)!Ri(o)&&i[o]==null&&delete l[o]},we=ac;function Ja(e){return qa(e)}function qa(e,t){const n=rr();n.__VUE__=!0;const{insert:r,remove:l,patchProp:s,createElement:i,createText:o,createComment:a,setText:d,setElementText:_,parentNode:h,nextSibling:b,setScopeId:I=Xe,insertStaticContent:M}=e,D=(m,f,v,P=null,O=null,C=null,x=void 0,c=null,u=!!f.dynamicChildren)=>{if(m===f)return;m&&!cn(m,f)&&(P=it(m),be(m,O,C,!0),m=null),f.patchFlag===-2&&(u=!1,f.dynamicChildren=null);const{type:p,ref:N,shapeFlag:R}=f;switch(p){case Mn:w(m,f,v,P);break;case Ln:F(m,f,v,P);break;case Wn:m==null&&j(f,v,P,x);break;case Me:X(m,f,v,P,O,C,x,c,u);break;default:R&1?S(m,f,v,P,O,C,x,c,u):R&6?ue(m,f,v,P,O,C,x,c,u):(R&64||R&128)&&p.process(m,f,v,P,O,C,x,c,u,Fe)}N!=null&&O&&Bn(N,m&&m.ref,C,f||m,!f)},w=(m,f,v,P)=>{if(m==null)r(f.el=o(f.children),v,P);else{const O=f.el=m.el;f.children!==m.children&&d(O,f.children)}},F=(m,f,v,P)=>{m==null?r(f.el=a(f.children||""),v,P):f.el=m.el},j=(m,f,v,P)=>{[m.el,m.anchor]=M(m.children,f,v,P,m.el,m.anchor)},T=({el:m,anchor:f},v,P)=>{let O;for(;m&&m!==f;)O=b(m),r(m,v,P),m=O;r(f,v,P)},E=({el:m,anchor:f})=>{let v;for(;m&&m!==f;)v=b(m),l(m),m=v;l(f)},S=(m,f,v,P,O,C,x,c,u)=>{f.type==="svg"?x="svg":f.type==="math"&&(x="mathml"),m==null?y(f,v,P,O,C,x,c,u):U(m,f,O,C,x,c,u)},y=(m,f,v,P,O,C,x,c)=>{let u,p;const{props:N,shapeFlag:R,transition:A,dirs:g}=m;if(u=m.el=i(m.type,C,N&&N.is,N),R&8?_(u,m.children):R&16&&W(m.children,u,null,P,O,Tr(m,C),x,c),g&&kt(m,null,P,"created"),k(u,m,m.scopeId,x,P),N){for(const V in N)V!=="value"&&!_n(V)&&s(u,V,null,N[V],C,P);"value"in N&&s(u,"value",null,N.value,C),(p=N.onVnodeBeforeMount)&&Ze(p,P,m)}g&&kt(m,null,P,"beforeMount");const L=Qa(O,A);L&&A.beforeEnter(u),r(u,f,v),((p=N&&N.onVnodeMounted)||L||g)&&we(()=>{p&&Ze(p,P,m),L&&A.enter(u),g&&kt(m,null,P,"mounted")},O)},k=(m,f,v,P,O)=>{if(v&&I(m,v),P)for(let C=0;C<P.length;C++)I(m,P[C]);if(O){let C=O.subTree;if(f===C||Wi(C.type)&&(C.ssContent===f||C.ssFallback===f)){const x=O.vnode;k(m,x,x.scopeId,x.slotScopeIds,O.parent)}}},W=(m,f,v,P,O,C,x,c,u=0)=>{for(let p=u;p<m.length;p++){const N=m[p]=c?yt(m[p]):et(m[p]);D(null,N,f,v,P,O,C,x,c)}},U=(m,f,v,P,O,C,x)=>{const c=f.el=m.el;let{patchFlag:u,dynamicChildren:p,dirs:N}=f;u|=m.patchFlag&16;const R=m.props||re,A=f.props||re;let g;if(v&&wt(v,!1),(g=A.onVnodeBeforeUpdate)&&Ze(g,v,f,m),N&&kt(f,m,v,"beforeUpdate"),v&&wt(v,!0),(R.innerHTML&&A.innerHTML==null||R.textContent&&A.textContent==null)&&_(c,""),p?te(m.dynamicChildren,p,c,v,P,Tr(f,O),C):x||q(m,f,c,null,v,P,Tr(f,O),C,!1),u>0){if(u&16)he(c,R,A,v,O);else if(u&2&&R.class!==A.class&&s(c,"class",null,A.class,O),u&4&&s(c,"style",R.style,A.style,O),u&8){const L=f.dynamicProps;for(let V=0;V<L.length;V++){const H=L[V],ce=R[H],fe=A[H];(fe!==ce||H==="value")&&s(c,H,ce,fe,O,v)}}u&1&&m.children!==f.children&&_(c,f.children)}else!x&&p==null&&he(c,R,A,v,O);((g=A.onVnodeUpdated)||N)&&we(()=>{g&&Ze(g,v,f,m),N&&kt(f,m,v,"updated")},P)},te=(m,f,v,P,O,C,x)=>{for(let c=0;c<f.length;c++){const u=m[c],p=f[c],N=u.el&&(u.type===Me||!cn(u,p)||u.shapeFlag&70)?h(u.el):v;D(u,p,N,null,P,O,C,x,!0)}},he=(m,f,v,P,O)=>{if(f!==v){if(f!==re)for(const C in f)!_n(C)&&!(C in v)&&s(m,C,f[C],null,O,P);for(const C in v){if(_n(C))continue;const x=v[C],c=f[C];x!==c&&C!=="value"&&s(m,C,c,x,O,P)}"value"in v&&s(m,"value",f.value,v.value,O)}},X=(m,f,v,P,O,C,x,c,u)=>{const p=f.el=m?m.el:o(""),N=f.anchor=m?m.anchor:o("");let{patchFlag:R,dynamicChildren:A,slotScopeIds:g}=f;g&&(c=c?c.concat(g):g),m==null?(r(p,v,P),r(N,v,P),W(f.children||[],v,N,O,C,x,c,u)):R>0&&R&64&&A&&m.dynamicChildren?(te(m.dynamicChildren,A,v,O,C,x,c),(f.key!=null||O&&f===O.subTree)&&ki(m,f,!0)):q(m,f,v,N,O,C,x,c,u)},ue=(m,f,v,P,O,C,x,c,u)=>{f.slotScopeIds=c,m==null?f.shapeFlag&512?O.ctx.activate(f,v,P,x,u):lt(f,v,P,O,C,x,u):bt(m,f,u)},lt=(m,f,v,P,O,C,x)=>{const c=m.component=bc(m,P,O);if(Ti(m)&&(c.ctx.renderer=Fe),Ec(c,!1,x),c.asyncDep){if(O&&O.registerDep(c,se,x),!m.el){const u=c.subTree=We(Ln);F(null,u,f,v)}}else se(c,m,f,v,O,C,x)},bt=(m,f,v)=>{const P=f.component=m.component;if(ic(m,f,v))if(P.asyncDep&&!P.asyncResolved){ee(P,f,v);return}else P.next=f,P.update();else f.el=m.el,P.vnode=f},se=(m,f,v,P,O,C,x)=>{const c=()=>{if(m.isMounted){let{next:R,bu:A,u:g,parent:L,vnode:V}=m;{const Se=wi(m);if(Se){R&&(R.el=V.el,ee(m,R,x)),Se.asyncDep.then(()=>{m.isUnmounted||c()});return}}let H=R,ce;wt(m,!1),R?(R.el=V.el,ee(m,R,x)):R=V,A&&$n(A),(ce=R.props&&R.props.onVnodeBeforeUpdate)&&Ze(ce,L,R,V),wt(m,!0);const fe=Ir(m),Ee=m.subTree;m.subTree=fe,D(Ee,fe,h(Ee.el),it(Ee),m,O,C),R.el=fe.el,H===null&&oc(m,fe.el),g&&we(g,O),(ce=R.props&&R.props.onVnodeUpdated)&&we(()=>Ze(ce,L,R,V),O)}else{let R;const{el:A,props:g}=f,{bm:L,m:V,parent:H,root:ce,type:fe}=m,Ee=pn(f);if(wt(m,!1),L&&$n(L),!Ee&&(R=g&&g.onVnodeBeforeMount)&&Ze(R,H,f),wt(m,!0),A&&ct){const Se=()=>{m.subTree=Ir(m),ct(A,m.subTree,m,O,null)};Ee&&fe.__asyncHydrate?fe.__asyncHydrate(A,m,Se):Se()}else{ce.ce&&ce.ce._injectChildStyle(fe);const Se=m.subTree=Ir(m);D(null,Se,v,P,m,O,C),f.el=Se.el}if(V&&we(V,O),!Ee&&(R=g&&g.onVnodeMounted)){const Se=f;we(()=>Ze(R,H,Se),O)}(f.shapeFlag&256||H&&pn(H.vnode)&&H.vnode.shapeFlag&256)&&m.a&&we(m.a,O),m.isMounted=!0,f=v=P=null}};m.scope.on();const u=m.effect=new ql(c);m.scope.off();const p=m.update=u.run.bind(u),N=m.job=u.runIfDirty.bind(u);N.i=m,N.id=m.uid,u.scheduler=()=>cs(N),wt(m,!0),p()},ee=(m,f,v)=>{f.component=m;const P=m.vnode.props;m.vnode=f,m.next=null,Ka(m,f.props,P,v),Xa(m,f.children,v),At(),Ps(m),Pt()},q=(m,f,v,P,O,C,x,c,u=!1)=>{const p=m&&m.children,N=m?m.shapeFlag:0,R=f.children,{patchFlag:A,shapeFlag:g}=f;if(A>0){if(A&128){qe(p,R,v,P,O,C,x,c,u);return}else if(A&256){De(p,R,v,P,O,C,x,c,u);return}}g&8?(N&16&&He(p,O,C),R!==p&&_(v,R)):N&16?g&16?qe(p,R,v,P,O,C,x,c,u):He(p,O,C,!0):(N&8&&_(v,""),g&16&&W(R,v,P,O,C,x,c,u))},De=(m,f,v,P,O,C,x,c,u)=>{m=m||Jt,f=f||Jt;const p=m.length,N=f.length,R=Math.min(p,N);let A;for(A=0;A<R;A++){const g=f[A]=u?yt(f[A]):et(f[A]);D(m[A],g,v,null,O,C,x,c,u)}p>N?He(m,O,C,!0,!1,R):W(f,v,P,O,C,x,c,u,R)},qe=(m,f,v,P,O,C,x,c,u)=>{let p=0;const N=f.length;let R=m.length-1,A=N-1;for(;p<=R&&p<=A;){const g=m[p],L=f[p]=u?yt(f[p]):et(f[p]);if(cn(g,L))D(g,L,v,null,O,C,x,c,u);else break;p++}for(;p<=R&&p<=A;){const g=m[R],L=f[A]=u?yt(f[A]):et(f[A]);if(cn(g,L))D(g,L,v,null,O,C,x,c,u);else break;R--,A--}if(p>R){if(p<=A){const g=A+1,L=g<N?f[g].el:P;for(;p<=A;)D(null,f[p]=u?yt(f[p]):et(f[p]),v,L,O,C,x,c,u),p++}}else if(p>A)for(;p<=R;)be(m[p],O,C,!0),p++;else{const g=p,L=p,V=new Map;for(p=L;p<=A;p++){const ke=f[p]=u?yt(f[p]):et(f[p]);ke.key!=null&&V.set(ke.key,p)}let H,ce=0;const fe=A-L+1;let Ee=!1,Se=0;const Kt=new Array(fe);for(p=0;p<fe;p++)Kt[p]=0;for(p=g;p<=R;p++){const ke=m[p];if(ce>=fe){be(ke,O,C,!0);continue}let Qe;if(ke.key!=null)Qe=V.get(ke.key);else for(H=L;H<=A;H++)if(Kt[H-L]===0&&cn(ke,f[H])){Qe=H;break}Qe===void 0?be(ke,O,C,!0):(Kt[Qe-L]=p+1,Qe>=Se?Se=Qe:Ee=!0,D(ke,f[Qe],v,null,O,C,x,c,u),ce++)}const ys=Ee?Za(Kt):Jt;for(H=ys.length-1,p=fe-1;p>=0;p--){const ke=L+p,Qe=f[ke],Os=ke+1<N?f[ke+1].el:P;Kt[p]===0?D(null,Qe,v,Os,O,C,x,c,u):Ee&&(H<0||p!==ys[H]?pe(Qe,v,Os,2):H--)}}},pe=(m,f,v,P,O=null)=>{const{el:C,type:x,transition:c,children:u,shapeFlag:p}=m;if(p&6){pe(m.component.subTree,f,v,P);return}if(p&128){m.suspense.move(f,v,P);return}if(p&64){x.move(m,f,v,Fe);return}if(x===Me){r(C,f,v);for(let R=0;R<u.length;R++)pe(u[R],f,v,P);r(m.anchor,f,v);return}if(x===Wn){T(m,f,v);return}if(P!==2&&p&1&&c)if(P===0)c.beforeEnter(C),r(C,f,v),we(()=>c.enter(C),O);else{const{leave:R,delayLeave:A,afterLeave:g}=c,L=()=>r(C,f,v),V=()=>{R(C,()=>{L(),g&&g()})};A?A(C,L,V):V()}else r(C,f,v)},be=(m,f,v,P=!1,O=!1)=>{const{type:C,props:x,ref:c,children:u,dynamicChildren:p,shapeFlag:N,patchFlag:R,dirs:A,cacheIndex:g}=m;if(R===-2&&(O=!1),c!=null&&Bn(c,null,v,m,!0),g!=null&&(f.renderCache[g]=void 0),N&256){f.ctx.deactivate(m);return}const L=N&1&&A,V=!pn(m);let H;if(V&&(H=x&&x.onVnodeBeforeUnmount)&&Ze(H,f,m),N&6)Ft(m.component,v,P);else{if(N&128){m.suspense.unmount(v,P);return}L&&kt(m,null,f,"beforeUnmount"),N&64?m.type.remove(m,f,v,Fe,P):p&&!p.hasOnce&&(C!==Me||R>0&&R&64)?He(p,f,v,!1,!0):(C===Me&&R&384||!O&&N&16)&&He(u,f,v),P&&Et(m)}(V&&(H=x&&x.onVnodeUnmounted)||L)&&we(()=>{H&&Ze(H,f,m),L&&kt(m,null,f,"unmounted")},v)},Et=m=>{const{type:f,el:v,anchor:P,transition:O}=m;if(f===Me){vt(v,P);return}if(f===Wn){E(m);return}const C=()=>{l(v),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(m.shapeFlag&1&&O&&!O.persisted){const{leave:x,delayLeave:c}=O,u=()=>x(v,C);c?c(m.el,C,u):u()}else C()},vt=(m,f)=>{let v;for(;m!==f;)v=b(m),l(m),m=v;l(f)},Ft=(m,f,v)=>{const{bum:P,scope:O,job:C,subTree:x,um:c,m:u,a:p}=m;Us(u),Us(p),P&&$n(P),O.stop(),C&&(C.flags|=8,be(x,m,f,v)),c&&we(c,f),we(()=>{m.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},He=(m,f,v,P=!1,O=!1,C=0)=>{for(let x=C;x<m.length;x++)be(m[x],f,v,P,O)},it=m=>{if(m.shapeFlag&6)return it(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const f=b(m.anchor||m.el),v=f&&f[Ta];return v?b(v):f};let ot=!1;const Tt=(m,f,v)=>{m==null?f._vnode&&be(f._vnode,null,null,!0):D(f._vnode||null,m,f,null,null,null,v),f._vnode=m,ot||(ot=!0,Ps(),gi(),ot=!1)},Fe={p:D,um:be,m:pe,r:Et,mt:lt,mc:W,pc:q,pbc:te,n:it,o:e};let at,ct;return t&&([at,ct]=t(Fe)),{render:Tt,hydrate:at,createApp:ja(Tt,at)}}function Tr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function wt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Qa(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ki(e,t,n=!1){const r=e.children,l=t.children;if(Y(r)&&Y(l))for(let s=0;s<r.length;s++){const i=r[s];let o=l[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=l[s]=yt(l[s]),o.el=i.el),!n&&o.patchFlag!==-2&&ki(i,o)),o.type===Mn&&(o.el=i.el)}}function Za(e){const t=e.slice(),n=[0];let r,l,s,i,o;const a=e.length;for(r=0;r<a;r++){const d=e[r];if(d!==0){if(l=n[n.length-1],e[l]<d){t[r]=l,n.push(r);continue}for(s=0,i=n.length-1;s<i;)o=s+i>>1,e[n[o]]<d?s=o+1:i=o;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function wi(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:wi(t)}function Us(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const za=Symbol.for("v-scx"),ec=()=>bn(za);function en(e,t,n){return xi(e,t,n)}function xi(e,t,n=re){const{immediate:r,deep:l,flush:s,once:i}=n,o=Te({},n),a=t&&r||!t&&s!=="post";let d;if(Nn){if(s==="sync"){const I=ec();d=I.__watcherHandles||(I.__watcherHandles=[])}else if(!a){const I=()=>{};return I.stop=Xe,I.resume=Xe,I.pause=Xe,I}}const _=Ne;o.call=(I,M,D)=>st(I,_,M,D);let h=!1;s==="post"?o.scheduler=I=>{we(I,_&&_.suspense)}:s!=="sync"&&(h=!0,o.scheduler=(I,M)=>{M?I():cs(I)}),o.augmentJob=I=>{t&&(I.flags|=4),h&&(I.flags|=2,_&&(I.id=_.uid,I.i=_))};const b=pa(e,t,o);return Nn&&(d?d.push(b):a&&b()),b}function tc(e,t,n){const r=this.proxy,l=me(e)?e.includes(".")?Ui(r,e):()=>r[e]:e.bind(r,r);let s;B(t)?s=t:(s=t.handler,n=t);const i=Dn(this),o=xi(l,s.bind(r),n);return i(),o}function Ui(e,t){const n=t.split(".");return()=>{let r=e;for(let l=0;l<n.length&&r;l++)r=r[n[l]];return r}}const nc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${St(t)}Modifiers`]||e[`${Ht(t)}Modifiers`];function rc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||re;let l=n;const s=t.startsWith("update:"),i=s&&nc(r,t.slice(7));i&&(i.trim&&(l=n.map(_=>me(_)?_.trim():_)),i.number&&(l=n.map(Yl)));let o,a=r[o=hr(t)]||r[o=hr(St(t))];!a&&s&&(a=r[o=hr(Ht(t))]),a&&st(a,e,6,l);const d=r[o+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,st(d,e,6,l)}}function $i(e,t,n=!1){const r=t.emitsCache,l=r.get(e);if(l!==void 0)return l;const s=e.emits;let i={},o=!1;if(!B(e)){const a=d=>{const _=$i(d,t,!0);_&&(o=!0,Te(i,_))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!s&&!o?(oe(e)&&r.set(e,null),null):(Y(s)?s.forEach(a=>i[a]=null):Te(i,s),oe(e)&&r.set(e,i),i)}function ar(e,t){return!e||!er(t)?!1:(t=t.slice(2).replace(/Once$/,""),z(e,t[0].toLowerCase()+t.slice(1))||z(e,Ht(t))||z(e,t))}function Ir(e){const{type:t,vnode:n,proxy:r,withProxy:l,propsOptions:[s],slots:i,attrs:o,emit:a,render:d,renderCache:_,props:h,data:b,setupState:I,ctx:M,inheritAttrs:D}=e,w=Gn(e);let F,j;try{if(n.shapeFlag&4){const E=l||r,S=E;F=et(d.call(S,E,_,h,I,b,M)),j=o}else{const E=t;F=et(E.length>1?E(h,{attrs:o,slots:i,emit:a}):E(h,null)),j=t.props?o:sc(o)}}catch(E){En.length=0,ir(E,e,1),F=We(Ln)}let T=F;if(j&&D!==!1){const E=Object.keys(j),{shapeFlag:S}=T;E.length&&S&7&&(s&&E.some(qr)&&(j=lc(j,s)),T=tn(T,j,!1,!0))}return n.dirs&&(T=tn(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&us(T,n.transition),F=T,Gn(w),F}const sc=e=>{let t;for(const n in e)(n==="class"||n==="style"||er(n))&&((t||(t={}))[n]=e[n]);return t},lc=(e,t)=>{const n={};for(const r in e)(!qr(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ic(e,t,n){const{props:r,children:l,component:s}=e,{props:i,children:o,patchFlag:a}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?$s(r,i,d):!!i;if(a&8){const _=t.dynamicProps;for(let h=0;h<_.length;h++){const b=_[h];if(i[b]!==r[b]&&!ar(d,b))return!0}}}else return(l||o)&&(!o||!o.$stable)?!0:r===i?!1:r?i?$s(r,i,d):!0:!!i;return!1}function $s(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let l=0;l<r.length;l++){const s=r[l];if(t[s]!==e[s]&&!ar(n,s))return!0}return!1}function oc({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Wi=e=>e.__isSuspense;function ac(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):Ea(e)}const Me=Symbol.for("v-fgt"),Mn=Symbol.for("v-txt"),Ln=Symbol.for("v-cmt"),Wn=Symbol.for("v-stc"),En=[];let $e=null;function on(e=!1){En.push($e=e?null:[])}function cc(){En.pop(),$e=En[En.length-1]||null}let yn=1;function Ws(e,t=!1){yn+=e,e<0&&$e&&t&&($e.hasOnce=!0)}function uc(e){return e.dynamicChildren=yn>0?$e||Jt:null,cc(),yn>0&&$e&&$e.push(e),e}function an(e,t,n,r,l,s){return uc(_e(e,t,n,r,l,s,!0))}function Jn(e){return e?e.__v_isVNode===!0:!1}function cn(e,t){return e.type===t.type&&e.key===t.key}const ji=({key:e})=>e??null,jn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?me(e)||Ie(e)||B(e)?{i:Ue,r:e,k:t,f:!!n}:e:null);function _e(e,t=null,n=null,r=0,l=null,s=e===Me?0:1,i=!1,o=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ji(t),ref:t&&jn(t),scopeId:Ei,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ue};return o?(ps(a,n),s&128&&e.normalize(a)):n&&(a.shapeFlag|=me(n)?8:16),yn>0&&!i&&$e&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&$e.push(a),a}const We=fc;function fc(e,t=null,n=null,r=0,l=null,s=!1){if((!e||e===Da)&&(e=Ln),Jn(e)){const o=tn(e,t,!0);return n&&ps(o,n),yn>0&&!s&&$e&&(o.shapeFlag&6?$e[$e.indexOf(e)]=o:$e.push(o)),o.patchFlag=-2,o}if(Lc(e)&&(e=e.__vccOpts),t){t=dc(t);let{class:o,style:a}=t;o&&!me(o)&&(t.class=es(o)),oe(a)&&(as(a)&&!Y(a)&&(a=Te({},a)),t.style=zr(a))}const i=me(e)?1:Wi(e)?128:Ia(e)?64:oe(e)?4:B(e)?2:0;return _e(e,t,n,r,l,i,s,!0)}function dc(e){return e?as(e)||Ci(e)?Te({},e):e:null}function tn(e,t,n=!1,r=!1){const{props:l,ref:s,patchFlag:i,children:o,transition:a}=e,d=t?hc(l||{},t):l,_={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&ji(d),ref:t&&t.ref?n&&s?Y(s)?s.concat(jn(t)):[s,jn(t)]:jn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&tn(e.ssContent),ssFallback:e.ssFallback&&tn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&r&&us(_,a.clone(_)),_}function _c(e=" ",t=0){return We(Mn,null,e,t)}function mc(e,t){const n=We(Wn,null,e);return n.staticCount=t,n}function et(e){return e==null||typeof e=="boolean"?We(Ln):Y(e)?We(Me,null,e.slice()):Jn(e)?yt(e):We(Mn,null,String(e))}function yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:tn(e)}function ps(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Y(t))n=16;else if(typeof t=="object")if(r&65){const l=t.default;l&&(l._c&&(l._d=!1),ps(e,l()),l._c&&(l._d=!0));return}else{n=32;const l=t._;!l&&!Ci(t)?t._ctx=Ue:l===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else B(t)?(t={default:t,_ctx:Ue},n=32):(t=String(t),r&64?(n=16,t=[_c(t)]):n=8);e.children=t,e.shapeFlag|=n}function hc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const l in r)if(l==="class")t.class!==r.class&&(t.class=es([t.class,r.class]));else if(l==="style")t.style=zr([t.style,r.style]);else if(er(l)){const s=t[l],i=r[l];i&&s!==i&&!(Y(s)&&s.includes(i))&&(t[l]=s?[].concat(s,i):i)}else l!==""&&(t[l]=r[l])}return t}function Ze(e,t,n,r=null){st(e,t,7,[n,r])}const pc=Oi();let gc=0;function bc(e,t,n){const r=e.type,l=(t?t.appContext:e.appContext)||pc,s={uid:gc++,vnode:e,type:r,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Jl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pi(r,l),emitsOptions:$i(r,l),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=rc.bind(null,s),e.ce&&e.ce(s),s}let Ne=null;const On=()=>Ne||Ue;let qn,Ur;{const e=rr(),t=(n,r)=>{let l;return(l=e[n])||(l=e[n]=[]),l.push(r),s=>{l.length>1?l.forEach(i=>i(s)):l[0](s)}};qn=t("__VUE_INSTANCE_SETTERS__",n=>Ne=n),Ur=t("__VUE_SSR_SETTERS__",n=>Nn=n)}const Dn=e=>{const t=Ne;return qn(e),e.scope.on(),()=>{e.scope.off(),qn(t)}},js=()=>{Ne&&Ne.scope.off(),qn(null)};function Vi(e){return e.vnode.shapeFlag&4}let Nn=!1;function Ec(e,t=!1,n=!1){t&&Ur(t);const{props:r,children:l}=e.vnode,s=Vi(e);Ha(e,r,s,t),Ba(e,l,n);const i=s?vc(e,t):void 0;return t&&Ur(!1),i}function vc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Fa);const{setup:r}=n;if(r){At();const l=e.setupContext=r.length>1?Ic(e):null,s=Dn(e),i=Rn(r,e,0,[e.props,l]),o=Wl(i);if(Pt(),s(),(o||e.sp)&&!pn(e)&&vi(e),o){if(i.then(js,js),t)return i.then(a=>{Vs(e,a,t)}).catch(a=>{ir(a,e,0)});e.asyncDep=i}else Vs(e,i,t)}else Hi(e,t)}function Vs(e,t,n){B(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:oe(t)&&(e.setupState=_i(t)),Hi(e,n)}let Hs;function Hi(e,t,n){const r=e.type;if(!e.render){if(!t&&Hs&&!r.render){const l=r.template||ms(e).template;if(l){const{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:o,compilerOptions:a}=r,d=Te(Te({isCustomElement:s,delimiters:o},i),a);r.render=Hs(l,d)}}e.render=r.render||Xe}{const l=Dn(e);At();try{ka(e)}finally{Pt(),l()}}}const Tc={get(e,t){return ye(e,"get",""),e[t]}};function Ic(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Tc),slots:e.slots,emit:e.emit,expose:t}}function cr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_i(ua(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in gn)return gn[n](e)},has(t,n){return n in t||n in gn}})):e.proxy}function Lc(e){return B(e)&&"__vccOpts"in e}const Ye=(e,t)=>ma(e,t,Nn);function Ki(e,t,n){const r=arguments.length;return r===2?oe(t)&&!Y(t)?Jn(t)?We(e,null,[t]):We(e,t):We(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Jn(n)&&(n=[n]),We(e,t,n))}const yc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $r;const Ks=typeof window<"u"&&window.trustedTypes;if(Ks)try{$r=Ks.createPolicy("vue",{createHTML:e=>e})}catch{}const Yi=$r?e=>$r.createHTML(e):e=>e,Oc="http://www.w3.org/2000/svg",Nc="http://www.w3.org/1998/Math/MathML",_t=typeof document<"u"?document:null,Ys=_t&&_t.createElement("template"),Sc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const l=t==="svg"?_t.createElementNS(Oc,e):t==="mathml"?_t.createElementNS(Nc,e):n?_t.createElement(e,{is:n}):_t.createElement(e);return e==="select"&&r&&r.multiple!=null&&l.setAttribute("multiple",r.multiple),l},createText:e=>_t.createTextNode(e),createComment:e=>_t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,l,s){const i=n?n.previousSibling:t.lastChild;if(l&&(l===s||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),n),!(l===s||!(l=l.nextSibling)););else{Ys.innerHTML=Yi(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const o=Ys.content;if(r==="svg"||r==="mathml"){const a=o.firstChild;for(;a.firstChild;)o.appendChild(a.firstChild);o.removeChild(a)}t.insertBefore(o,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Cc=Symbol("_vtc");function Ac(e,t,n){const r=e[Cc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Gs=Symbol("_vod"),Pc=Symbol("_vsh"),Rc=Symbol(""),Mc=/(^|;)\s*display\s*:/;function Dc(e,t,n){const r=e.style,l=me(n);let s=!1;if(n&&!l){if(t)if(me(t))for(const i of t.split(";")){const o=i.slice(0,i.indexOf(":")).trim();n[o]==null&&Vn(r,o,"")}else for(const i in t)n[i]==null&&Vn(r,i,"");for(const i in n)i==="display"&&(s=!0),Vn(r,i,n[i])}else if(l){if(t!==n){const i=r[Rc];i&&(n+=";"+i),r.cssText=n,s=Mc.test(n)}}else t&&e.removeAttribute("style");Gs in e&&(e[Gs]=s?r.display:"",e[Pc]&&(r.display="none"))}const Bs=/\s*!important$/;function Vn(e,t,n){if(Y(n))n.forEach(r=>Vn(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Fc(e,t);Bs.test(n)?e.setProperty(Ht(r),n.replace(Bs,""),"important"):e[r]=n}}const Xs=["Webkit","Moz","ms"],Lr={};function Fc(e,t){const n=Lr[t];if(n)return n;let r=St(t);if(r!=="filter"&&r in e)return Lr[t]=r;r=Hl(r);for(let l=0;l<Xs.length;l++){const s=Xs[l]+r;if(s in e)return Lr[t]=s}return t}const Js="http://www.w3.org/1999/xlink";function qs(e,t,n,r,l,s=Wo(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Js,t.slice(6,t.length)):e.setAttributeNS(Js,t,n):n==null||s&&!Gl(n)?e.removeAttribute(t):e.setAttribute(t,s?"":rt(n)?String(n):n)}function Qs(e,t,n,r,l){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Yi(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=Gl(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(l||t)}function Gi(e,t,n,r){e.addEventListener(t,n,r)}function kc(e,t,n,r){e.removeEventListener(t,n,r)}const Zs=Symbol("_vei");function wc(e,t,n,r,l=null){const s=e[Zs]||(e[Zs]={}),i=s[t];if(r&&i)i.value=r;else{const[o,a]=xc(t);if(r){const d=s[t]=Wc(r,l);Gi(e,o,d,a)}else i&&(kc(e,o,i,a),s[t]=void 0)}}const zs=/(?:Once|Passive|Capture)$/;function xc(e){let t;if(zs.test(e)){t={};let r;for(;r=e.match(zs);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ht(e.slice(2)),t]}let yr=0;const Uc=Promise.resolve(),$c=()=>yr||(Uc.then(()=>yr=0),yr=Date.now());function Wc(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;st(jc(r,n.value),t,5,[r])};return n.value=e,n.attached=$c(),n}function jc(e,t){if(Y(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>l=>!l._stopped&&r&&r(l))}else return t}const el=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Vc=(e,t,n,r,l,s)=>{const i=l==="svg";t==="class"?Ac(e,r,i):t==="style"?Dc(e,n,r):er(t)?qr(t)||wc(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hc(e,t,r,i))?(Qs(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&qs(e,t,r,i,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!me(r))?Qs(e,St(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),qs(e,t,r,i))};function Hc(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&el(t)&&B(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return el(t)&&me(n)?!1:t in e}const tl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?n=>$n(t,n):t},Or=Symbol("_assign"),nl={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const l=tr(t);Gi(e,"change",()=>{const s=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?Yl(Qn(i)):Qn(i));e[Or](e.multiple?l?new Set(s):s:s[0]),e._assigning=!0,hi(()=>{e._assigning=!1})}),e[Or]=tl(r)},mounted(e,{value:t}){rl(e,t)},beforeUpdate(e,t,n){e[Or]=tl(n)},updated(e,{value:t}){e._assigning||rl(e,t)}};function rl(e,t){const n=e.multiple,r=Y(t);if(!(n&&!r&&!tr(t))){for(let l=0,s=e.options.length;l<s;l++){const i=e.options[l],o=Qn(i);if(n)if(r){const a=typeof o;a==="string"||a==="number"?i.selected=t.some(d=>String(d)===String(o)):i.selected=Vo(t,o)>-1}else i.selected=t.has(o);else if(sr(Qn(i),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Qn(e){return"_value"in e?e._value:e.value}const Kc=Te({patchProp:Vc},Sc);let sl;function Yc(){return sl||(sl=Ja(Kc))}const Gc=(...e)=>{const t=Yc().createApp(...e),{mount:n}=t;return t.mount=r=>{const l=Xc(r);if(!l)return;const s=t._component;!B(s)&&!s.render&&!s.template&&(s.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const i=n(l,!1,Bc(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),i},t};function Bc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xc(e){return me(e)?document.querySelector(e):e}const ll={personalInformation:{title:"personalInformation",content:[{label:"personal.name",value:"personal.nameRes"},{label:"personal.educationBackground",value:"personal.educationBackgroundRes"},{label:"personal.email",value:"personal.emailRes"},{label:"personal.phone",value:"personal.phoneRes"},{label:"personal.major",value:"personal.majorRes"}]},skillIntroduction:{title:"skillIntroduction",content:[{label:"skill.html"},{label:"skill.ui"},{label:"skill.framework"},{label:"skill.git"},{label:"skill.compatibility"},{label:"skill.performanceOptimization"}]}};/*!
  * shared v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Zn=typeof window<"u",Rt=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Jc=(e,t,n)=>qc({l:e,k:t,s:n}),qc=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),de=e=>typeof e=="number"&&isFinite(e),Qc=e=>Xi(e)==="[object Date]",Ct=e=>Xi(e)==="[object RegExp]",ur=e=>G(e)&&Object.keys(e).length===0,Le=Object.assign,Zc=Object.create,ne=(e=null)=>Zc(e);let il;const pt=()=>il||(il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:ne());function ol(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const zc=Object.prototype.hasOwnProperty;function Ge(e,t){return zc.call(e,t)}const ae=Array.isArray,ie=e=>typeof e=="function",$=e=>typeof e=="string",J=e=>typeof e=="boolean",Q=e=>e!==null&&typeof e=="object",eu=e=>Q(e)&&ie(e.then)&&ie(e.catch),Bi=Object.prototype.toString,Xi=e=>Bi.call(e),G=e=>{if(!Q(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},tu=e=>e==null?"":ae(e)||G(e)&&e.toString===Bi?JSON.stringify(e,null,2):String(e);function nu(e,t=""){return e.reduce((n,r,l)=>l===0?n+r:n+t+r,"")}function fr(e){let t=e;return()=>++t}function ru(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const xn=e=>!Q(e)||ae(e);function Hn(e,t){if(xn(e)||xn(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:l}=n.pop();Object.keys(r).forEach(s=>{s!=="__proto__"&&(Q(r[s])&&!Q(l[s])&&(l[s]=Array.isArray(r[s])?[]:ne()),xn(l[s])||xn(r[s])?l[s]=r[s]:n.push({src:r[s],des:l[s]}))})}}/*!
  * message-compiler v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function su(e,t,n){return{line:e,column:t,offset:n}}function zn(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const lu=/\{([0-9a-zA-Z]+)\}/g;function Ji(e,...t){return t.length===1&&iu(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(lu,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const qi=Object.assign,al=e=>typeof e=="string",iu=e=>e!==null&&typeof e=="object";function Qi(e,t=""){return e.reduce((n,r,l)=>l===0?n+r:n+t+r,"")}const gs={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},ou={[gs.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function au(e,t,...n){const r=Ji(ou[e]||"",...n||[]),l={message:String(r),code:e};return t&&(l.location=t),l}const K={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},cu={[K.EXPECTED_TOKEN]:"Expected token: '{0}'",[K.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[K.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[K.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[K.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[K.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[K.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[K.EMPTY_PLACEHOLDER]:"Empty placeholder",[K.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[K.INVALID_LINKED_FORMAT]:"Invalid linked format",[K.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[K.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[K.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[K.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[K.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[K.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function sn(e,t,n={}){const{domain:r,messages:l,args:s}=n,i=Ji((l||cu)[e]||"",...s||[]),o=new SyntaxError(String(i));return o.code=e,t&&(o.location=t),o.domain=r,o}function uu(e){throw e}const ft=" ",fu="\r",Ae=`
`,du=String.fromCharCode(8232),_u=String.fromCharCode(8233);function mu(e){const t=e;let n=0,r=1,l=1,s=0;const i=k=>t[k]===fu&&t[k+1]===Ae,o=k=>t[k]===Ae,a=k=>t[k]===_u,d=k=>t[k]===du,_=k=>i(k)||o(k)||a(k)||d(k),h=()=>n,b=()=>r,I=()=>l,M=()=>s,D=k=>i(k)||a(k)||d(k)?Ae:t[k],w=()=>D(n),F=()=>D(n+s);function j(){return s=0,_(n)&&(r++,l=0),i(n)&&n++,n++,l++,t[n]}function T(){return i(n+s)&&s++,s++,t[n+s]}function E(){n=0,r=1,l=1,s=0}function S(k=0){s=k}function y(){const k=n+s;for(;k!==n;)j();s=0}return{index:h,line:b,column:I,peekOffset:M,charAt:D,currentChar:w,currentPeek:F,next:j,peek:T,reset:E,resetPeek:S,skipToPeek:y}}const It=void 0,hu=".",cl="'",pu="tokenizer";function gu(e,t={}){const n=t.location!==!1,r=mu(e),l=()=>r.index(),s=()=>su(r.line(),r.column(),r.index()),i=s(),o=l(),a={currentType:14,offset:o,startLoc:i,endLoc:i,lastType:14,lastOffset:o,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},d=()=>a,{onError:_}=t;function h(c,u,p,...N){const R=d();if(u.column+=p,u.offset+=p,_){const A=n?zn(R.startLoc,u):null,g=sn(c,A,{domain:pu,args:N});_(g)}}function b(c,u,p){c.endLoc=s(),c.currentType=u;const N={type:u};return n&&(N.loc=zn(c.startLoc,c.endLoc)),p!=null&&(N.value=p),N}const I=c=>b(c,14);function M(c,u){return c.currentChar()===u?(c.next(),u):(h(K.EXPECTED_TOKEN,s(),0,u),"")}function D(c){let u="";for(;c.currentPeek()===ft||c.currentPeek()===Ae;)u+=c.currentPeek(),c.peek();return u}function w(c){const u=D(c);return c.skipToPeek(),u}function F(c){if(c===It)return!1;const u=c.charCodeAt(0);return u>=97&&u<=122||u>=65&&u<=90||u===95}function j(c){if(c===It)return!1;const u=c.charCodeAt(0);return u>=48&&u<=57}function T(c,u){const{currentType:p}=u;if(p!==2)return!1;D(c);const N=F(c.currentPeek());return c.resetPeek(),N}function E(c,u){const{currentType:p}=u;if(p!==2)return!1;D(c);const N=c.currentPeek()==="-"?c.peek():c.currentPeek(),R=j(N);return c.resetPeek(),R}function S(c,u){const{currentType:p}=u;if(p!==2)return!1;D(c);const N=c.currentPeek()===cl;return c.resetPeek(),N}function y(c,u){const{currentType:p}=u;if(p!==8)return!1;D(c);const N=c.currentPeek()===".";return c.resetPeek(),N}function k(c,u){const{currentType:p}=u;if(p!==9)return!1;D(c);const N=F(c.currentPeek());return c.resetPeek(),N}function W(c,u){const{currentType:p}=u;if(!(p===8||p===12))return!1;D(c);const N=c.currentPeek()===":";return c.resetPeek(),N}function U(c,u){const{currentType:p}=u;if(p!==10)return!1;const N=()=>{const A=c.currentPeek();return A==="{"?F(c.peek()):A==="@"||A==="%"||A==="|"||A===":"||A==="."||A===ft||!A?!1:A===Ae?(c.peek(),N()):X(c,!1)},R=N();return c.resetPeek(),R}function te(c){D(c);const u=c.currentPeek()==="|";return c.resetPeek(),u}function he(c){const u=D(c),p=c.currentPeek()==="%"&&c.peek()==="{";return c.resetPeek(),{isModulo:p,hasSpace:u.length>0}}function X(c,u=!0){const p=(R=!1,A="",g=!1)=>{const L=c.currentPeek();return L==="{"?A==="%"?!1:R:L==="@"||!L?A==="%"?!0:R:L==="%"?(c.peek(),p(R,"%",!0)):L==="|"?A==="%"||g?!0:!(A===ft||A===Ae):L===ft?(c.peek(),p(!0,ft,g)):L===Ae?(c.peek(),p(!0,Ae,g)):!0},N=p();return u&&c.resetPeek(),N}function ue(c,u){const p=c.currentChar();return p===It?It:u(p)?(c.next(),p):null}function lt(c){const u=c.charCodeAt(0);return u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||u===95||u===36}function bt(c){return ue(c,lt)}function se(c){const u=c.charCodeAt(0);return u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||u===95||u===36||u===45}function ee(c){return ue(c,se)}function q(c){const u=c.charCodeAt(0);return u>=48&&u<=57}function De(c){return ue(c,q)}function qe(c){const u=c.charCodeAt(0);return u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102}function pe(c){return ue(c,qe)}function be(c){let u="",p="";for(;u=De(c);)p+=u;return p}function Et(c){w(c);const u=c.currentChar();return u!=="%"&&h(K.EXPECTED_TOKEN,s(),0,u),c.next(),"%"}function vt(c){let u="";for(;;){const p=c.currentChar();if(p==="{"||p==="}"||p==="@"||p==="|"||!p)break;if(p==="%")if(X(c))u+=p,c.next();else break;else if(p===ft||p===Ae)if(X(c))u+=p,c.next();else{if(te(c))break;u+=p,c.next()}else u+=p,c.next()}return u}function Ft(c){w(c);let u="",p="";for(;u=ee(c);)p+=u;return c.currentChar()===It&&h(K.UNTERMINATED_CLOSING_BRACE,s(),0),p}function He(c){w(c);let u="";return c.currentChar()==="-"?(c.next(),u+=`-${be(c)}`):u+=be(c),c.currentChar()===It&&h(K.UNTERMINATED_CLOSING_BRACE,s(),0),u}function it(c){return c!==cl&&c!==Ae}function ot(c){w(c),M(c,"'");let u="",p="";for(;u=ue(c,it);)u==="\\"?p+=Tt(c):p+=u;const N=c.currentChar();return N===Ae||N===It?(h(K.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),N===Ae&&(c.next(),M(c,"'")),p):(M(c,"'"),p)}function Tt(c){const u=c.currentChar();switch(u){case"\\":case"'":return c.next(),`\\${u}`;case"u":return Fe(c,u,4);case"U":return Fe(c,u,6);default:return h(K.UNKNOWN_ESCAPE_SEQUENCE,s(),0,u),""}}function Fe(c,u,p){M(c,u);let N="";for(let R=0;R<p;R++){const A=pe(c);if(!A){h(K.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${u}${N}${c.currentChar()}`);break}N+=A}return`\\${u}${N}`}function at(c){return c!=="{"&&c!=="}"&&c!==ft&&c!==Ae}function ct(c){w(c);let u="",p="";for(;u=ue(c,at);)p+=u;return p}function m(c){let u="",p="";for(;u=bt(c);)p+=u;return p}function f(c){const u=p=>{const N=c.currentChar();return N==="{"||N==="%"||N==="@"||N==="|"||N==="("||N===")"||!N||N===ft?p:(p+=N,c.next(),u(p))};return u("")}function v(c){w(c);const u=M(c,"|");return w(c),u}function P(c,u){let p=null;switch(c.currentChar()){case"{":return u.braceNest>=1&&h(K.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),c.next(),p=b(u,2,"{"),w(c),u.braceNest++,p;case"}":return u.braceNest>0&&u.currentType===2&&h(K.EMPTY_PLACEHOLDER,s(),0),c.next(),p=b(u,3,"}"),u.braceNest--,u.braceNest>0&&w(c),u.inLinked&&u.braceNest===0&&(u.inLinked=!1),p;case"@":return u.braceNest>0&&h(K.UNTERMINATED_CLOSING_BRACE,s(),0),p=O(c,u)||I(u),u.braceNest=0,p;default:{let R=!0,A=!0,g=!0;if(te(c))return u.braceNest>0&&h(K.UNTERMINATED_CLOSING_BRACE,s(),0),p=b(u,1,v(c)),u.braceNest=0,u.inLinked=!1,p;if(u.braceNest>0&&(u.currentType===5||u.currentType===6||u.currentType===7))return h(K.UNTERMINATED_CLOSING_BRACE,s(),0),u.braceNest=0,C(c,u);if(R=T(c,u))return p=b(u,5,Ft(c)),w(c),p;if(A=E(c,u))return p=b(u,6,He(c)),w(c),p;if(g=S(c,u))return p=b(u,7,ot(c)),w(c),p;if(!R&&!A&&!g)return p=b(u,13,ct(c)),h(K.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,p.value),w(c),p;break}}return p}function O(c,u){const{currentType:p}=u;let N=null;const R=c.currentChar();switch((p===8||p===9||p===12||p===10)&&(R===Ae||R===ft)&&h(K.INVALID_LINKED_FORMAT,s(),0),R){case"@":return c.next(),N=b(u,8,"@"),u.inLinked=!0,N;case".":return w(c),c.next(),b(u,9,".");case":":return w(c),c.next(),b(u,10,":");default:return te(c)?(N=b(u,1,v(c)),u.braceNest=0,u.inLinked=!1,N):y(c,u)||W(c,u)?(w(c),O(c,u)):k(c,u)?(w(c),b(u,12,m(c))):U(c,u)?(w(c),R==="{"?P(c,u)||N:b(u,11,f(c))):(p===8&&h(K.INVALID_LINKED_FORMAT,s(),0),u.braceNest=0,u.inLinked=!1,C(c,u))}}function C(c,u){let p={type:14};if(u.braceNest>0)return P(c,u)||I(u);if(u.inLinked)return O(c,u)||I(u);switch(c.currentChar()){case"{":return P(c,u)||I(u);case"}":return h(K.UNBALANCED_CLOSING_BRACE,s(),0),c.next(),b(u,3,"}");case"@":return O(c,u)||I(u);default:{if(te(c))return p=b(u,1,v(c)),u.braceNest=0,u.inLinked=!1,p;const{isModulo:R,hasSpace:A}=he(c);if(R)return A?b(u,0,vt(c)):b(u,4,Et(c));if(X(c))return b(u,0,vt(c));break}}return p}function x(){const{currentType:c,offset:u,startLoc:p,endLoc:N}=a;return a.lastType=c,a.lastOffset=u,a.lastStartLoc=p,a.lastEndLoc=N,a.offset=l(),a.startLoc=s(),r.currentChar()===It?b(a,14):C(r,a)}return{nextToken:x,currentOffset:l,currentPosition:s,context:d}}const bu="parser",Eu=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function vu(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function Tu(e={}){const t=e.location!==!1,{onError:n,onWarn:r}=e;function l(T,E,S,y,...k){const W=T.currentPosition();if(W.offset+=y,W.column+=y,n){const U=t?zn(S,W):null,te=sn(E,U,{domain:bu,args:k});n(te)}}function s(T,E,S,y,...k){const W=T.currentPosition();if(W.offset+=y,W.column+=y,r){const U=t?zn(S,W):null;r(au(E,U,k))}}function i(T,E,S){const y={type:T};return t&&(y.start=E,y.end=E,y.loc={start:S,end:S}),y}function o(T,E,S,y){y&&(T.type=y),t&&(T.end=E,T.loc&&(T.loc.end=S))}function a(T,E){const S=T.context(),y=i(3,S.offset,S.startLoc);return y.value=E,o(y,T.currentOffset(),T.currentPosition()),y}function d(T,E){const S=T.context(),{lastOffset:y,lastStartLoc:k}=S,W=i(5,y,k);return W.index=parseInt(E,10),T.nextToken(),o(W,T.currentOffset(),T.currentPosition()),W}function _(T,E,S){const y=T.context(),{lastOffset:k,lastStartLoc:W}=y,U=i(4,k,W);return U.key=E,S===!0&&(U.modulo=!0),T.nextToken(),o(U,T.currentOffset(),T.currentPosition()),U}function h(T,E){const S=T.context(),{lastOffset:y,lastStartLoc:k}=S,W=i(9,y,k);return W.value=E.replace(Eu,vu),T.nextToken(),o(W,T.currentOffset(),T.currentPosition()),W}function b(T){const E=T.nextToken(),S=T.context(),{lastOffset:y,lastStartLoc:k}=S,W=i(8,y,k);return E.type!==12?(l(T,K.UNEXPECTED_EMPTY_LINKED_MODIFIER,S.lastStartLoc,0),W.value="",o(W,y,k),{nextConsumeToken:E,node:W}):(E.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,Ke(E)),W.value=E.value||"",o(W,T.currentOffset(),T.currentPosition()),{node:W})}function I(T,E){const S=T.context(),y=i(7,S.offset,S.startLoc);return y.value=E,o(y,T.currentOffset(),T.currentPosition()),y}function M(T){const E=T.context(),S=i(6,E.offset,E.startLoc);let y=T.nextToken();if(y.type===9){const k=b(T);S.modifier=k.node,y=k.nextConsumeToken||T.nextToken()}switch(y.type!==10&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(y)),y=T.nextToken(),y.type===2&&(y=T.nextToken()),y.type){case 11:y.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(y)),S.key=I(T,y.value||"");break;case 5:y.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(y)),S.key=_(T,y.value||"");break;case 6:y.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(y)),S.key=d(T,y.value||"");break;case 7:y.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(y)),S.key=h(T,y.value||"");break;default:{l(T,K.UNEXPECTED_EMPTY_LINKED_KEY,E.lastStartLoc,0);const k=T.context(),W=i(7,k.offset,k.startLoc);return W.value="",o(W,k.offset,k.startLoc),S.key=W,o(S,k.offset,k.startLoc),{nextConsumeToken:y,node:S}}}return o(S,T.currentOffset(),T.currentPosition()),{node:S}}function D(T){const E=T.context(),S=E.currentType===1?T.currentOffset():E.offset,y=E.currentType===1?E.endLoc:E.startLoc,k=i(2,S,y);k.items=[];let W=null,U=null;do{const X=W||T.nextToken();switch(W=null,X.type){case 0:X.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(X)),k.items.push(a(T,X.value||""));break;case 6:X.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(X)),k.items.push(d(T,X.value||""));break;case 4:U=!0;break;case 5:X.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(X)),k.items.push(_(T,X.value||"",!!U)),U&&(s(T,gs.USE_MODULO_SYNTAX,E.lastStartLoc,0,Ke(X)),U=null);break;case 7:X.value==null&&l(T,K.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ke(X)),k.items.push(h(T,X.value||""));break;case 8:{const ue=M(T);k.items.push(ue.node),W=ue.nextConsumeToken||null;break}}}while(E.currentType!==14&&E.currentType!==1);const te=E.currentType===1?E.lastOffset:T.currentOffset(),he=E.currentType===1?E.lastEndLoc:T.currentPosition();return o(k,te,he),k}function w(T,E,S,y){const k=T.context();let W=y.items.length===0;const U=i(1,E,S);U.cases=[],U.cases.push(y);do{const te=D(T);W||(W=te.items.length===0),U.cases.push(te)}while(k.currentType!==14);return W&&l(T,K.MUST_HAVE_MESSAGES_IN_PLURAL,S,0),o(U,T.currentOffset(),T.currentPosition()),U}function F(T){const E=T.context(),{offset:S,startLoc:y}=E,k=D(T);return E.currentType===14?k:w(T,S,y,k)}function j(T){const E=gu(T,qi({},e)),S=E.context(),y=i(0,S.offset,S.startLoc);return t&&y.loc&&(y.loc.source=T),y.body=F(E),e.onCacheKey&&(y.cacheKey=e.onCacheKey(T)),S.currentType!==14&&l(E,K.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,T[S.offset]||""),o(y,E.currentOffset(),E.currentPosition()),y}return{parse:j}}function Ke(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function Iu(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function ul(e,t){for(let n=0;n<e.length;n++)bs(e[n],t)}function bs(e,t){switch(e.type){case 1:ul(e.cases,t),t.helper("plural");break;case 2:ul(e.items,t);break;case 6:{bs(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Lu(e,t={}){const n=Iu(e);n.helper("normalize"),e.body&&bs(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function yu(e){const t=e.body;return t.type===2?fl(t):t.cases.forEach(n=>fl(n)),e}function fl(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=Qi(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const Ou="minifier";function Bt(e){switch(e.t=e.type,e.type){case 0:{const t=e;Bt(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)Bt(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)Bt(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Bt(t.key),t.k=t.key,delete t.key,t.modifier&&(Bt(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw sn(K.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Ou,args:[e.type]})}delete e.type}const Nu="parser";function Su(e,t){const{sourceMap:n,filename:r,breakLineCode:l,needIndent:s}=t,i=t.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:l,needIndent:s,indentLevel:0};i&&e.loc&&(o.source=e.loc.source);const a=()=>o;function d(w,F){o.code+=w}function _(w,F=!0){const j=F?l:"";d(s?j+"  ".repeat(w):j)}function h(w=!0){const F=++o.indentLevel;w&&_(F)}function b(w=!0){const F=--o.indentLevel;w&&_(F)}function I(){_(o.indentLevel)}return{context:a,push:d,indent:h,deindent:b,newline:I,helper:w=>`_${w}`,needIndent:()=>o.needIndent}}function Cu(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),nn(e,t.key),t.modifier?(e.push(", "),nn(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Au(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const l=t.items.length;for(let s=0;s<l&&(nn(e,t.items[s]),s!==l-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function Pu(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const l=t.cases.length;for(let s=0;s<l&&(nn(e,t.cases[s]),s!==l-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function Ru(e,t){t.body?nn(e,t.body):e.push("null")}function nn(e,t){const{helper:n}=e;switch(t.type){case 0:Ru(e,t);break;case 1:Pu(e,t);break;case 2:Au(e,t);break;case 6:Cu(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw sn(K.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Nu,args:[t.type]})}}const Mu=(e,t={})=>{const n=al(t.mode)?t.mode:"normal",r=al(t.filename)?t.filename:"message.intl",l=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,i=t.needIndent?t.needIndent:n!=="arrow",o=e.helpers||[],a=Su(e,{mode:n,filename:r,sourceMap:l,breakLineCode:s,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${Qi(o.map(h=>`${h}: _${h}`),", ")} } = ctx`),a.newline()),a.push("return "),nn(a,e),a.deindent(i),a.push("}"),delete e.helpers;const{code:d,map:_}=a.context();return{ast:e,code:d,map:_?_.toJSON():void 0}};function Du(e,t={}){const n=qi({},t),r=!!n.jit,l=!!n.minify,s=n.optimize==null?!0:n.optimize,o=Tu(n).parse(e);return r?(s&&yu(o),l&&Bt(o),{ast:o,code:""}):(Lu(o,n),Mu(o,n))}/*!
  * core-base v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Fu(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(pt().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(pt().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(pt().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function nt(e){return Q(e)&&Es(e)===0&&(Ge(e,"b")||Ge(e,"body"))}const Zi=["b","body"];function ku(e){return Mt(e,Zi)}const zi=["c","cases"];function wu(e){return Mt(e,zi,[])}const eo=["s","static"];function xu(e){return Mt(e,eo)}const to=["i","items"];function Uu(e){return Mt(e,to,[])}const no=["t","type"];function Es(e){return Mt(e,no)}const ro=["v","value"];function Un(e,t){const n=Mt(e,ro);if(n!=null)return n;throw Sn(t)}const so=["m","modifier"];function $u(e){return Mt(e,so)}const lo=["k","key"];function Wu(e){const t=Mt(e,lo);if(t)return t;throw Sn(6)}function Mt(e,t,n){for(let r=0;r<t.length;r++){const l=t[r];if(Ge(e,l)&&e[l]!=null)return e[l]}return n}const io=[...Zi,...zi,...eo,...to,...lo,...so,...ro,...no];function Sn(e){return new Error(`unhandled node type: ${e}`)}const Dt=[];Dt[0]={w:[0],i:[3,0],"[":[4],o:[7]};Dt[1]={w:[1],".":[2],"[":[4],o:[7]};Dt[2]={w:[2],i:[3,0],0:[3,0]};Dt[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Dt[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Dt[5]={"'":[4,0],o:8,l:[5,0]};Dt[6]={'"':[4,0],o:8,l:[6,0]};const ju=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Vu(e){return ju.test(e)}function Hu(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function Ku(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Yu(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Vu(t)?Hu(t):"*"+t}function Gu(e){const t=[];let n=-1,r=0,l=0,s,i,o,a,d,_,h;const b=[];b[0]=()=>{i===void 0?i=o:i+=o},b[1]=()=>{i!==void 0&&(t.push(i),i=void 0)},b[2]=()=>{b[0](),l++},b[3]=()=>{if(l>0)l--,r=4,b[0]();else{if(l=0,i===void 0||(i=Yu(i),i===!1))return!1;b[1]()}};function I(){const M=e[n+1];if(r===5&&M==="'"||r===6&&M==='"')return n++,o="\\"+M,b[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&I())){if(a=Ku(s),h=Dt[r],d=h[a]||h.l||8,d===8||(r=d[0],d[1]!==void 0&&(_=b[d[1]],_&&(o=s,_()===!1))))return;if(r===7)return t}}const dl=new Map;function Bu(e,t){return Q(e)?e[t]:null}function Xu(e,t){if(!Q(e))return null;let n=dl.get(t);if(n||(n=Gu(t),n&&dl.set(t,n)),!n)return null;const r=n.length;let l=e,s=0;for(;s<r;){const i=n[s];if(io.includes(i)&&nt(l))return null;const o=l[i];if(o===void 0||ie(l))return null;l=o,s++}return l}const Ju=e=>e,qu=e=>"",Qu="text",Zu=e=>e.length===0?"":nu(e),zu=tu;function _l(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function ef(e){const t=de(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(de(e.named.count)||de(e.named.n))?de(e.named.count)?e.named.count:de(e.named.n)?e.named.n:t:t}function tf(e,t){t.count||(t.count=e),t.n||(t.n=e)}function nf(e={}){const t=e.locale,n=ef(e),r=Q(e.pluralRules)&&$(t)&&ie(e.pluralRules[t])?e.pluralRules[t]:_l,l=Q(e.pluralRules)&&$(t)&&ie(e.pluralRules[t])?_l:void 0,s=F=>F[r(n,F.length,l)],i=e.list||[],o=F=>i[F],a=e.named||ne();de(e.pluralIndex)&&tf(n,a);const d=F=>a[F];function _(F){const j=ie(e.messages)?e.messages(F):Q(e.messages)?e.messages[F]:!1;return j||(e.parent?e.parent.message(F):qu)}const h=F=>e.modifiers?e.modifiers[F]:Ju,b=G(e.processor)&&ie(e.processor.normalize)?e.processor.normalize:Zu,I=G(e.processor)&&ie(e.processor.interpolate)?e.processor.interpolate:zu,M=G(e.processor)&&$(e.processor.type)?e.processor.type:Qu,w={list:o,named:d,plural:s,linked:(F,...j)=>{const[T,E]=j;let S="text",y="";j.length===1?Q(T)?(y=T.modifier||y,S=T.type||S):$(T)&&(y=T||y):j.length===2&&($(T)&&(y=T||y),$(E)&&(S=E||S));const k=_(F)(w),W=S==="vnode"&&ae(k)&&y?k[0]:k;return y?h(y)(W,S):W},message:_,type:M,interpolate:I,normalize:b,values:Le(ne(),i,a)};return w}let Cn=null;function rf(e){Cn=e}function sf(e,t,n){Cn&&Cn.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const lf=of("function:translate");function of(e){return t=>Cn&&Cn.emit(e,t)}const oo=gs.__EXTEND_POINT__,xt=fr(oo),af={NOT_FOUND_KEY:oo,FALLBACK_TO_TRANSLATE:xt(),CANNOT_FORMAT_NUMBER:xt(),FALLBACK_TO_NUMBER_FORMAT:xt(),CANNOT_FORMAT_DATE:xt(),FALLBACK_TO_DATE_FORMAT:xt(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:xt(),__EXTEND_POINT__:xt()},ao=K.__EXTEND_POINT__,Ut=fr(ao),Be={INVALID_ARGUMENT:ao,INVALID_DATE_ARGUMENT:Ut(),INVALID_ISO_DATE_ARGUMENT:Ut(),NOT_SUPPORT_NON_STRING_MESSAGE:Ut(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ut(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ut(),NOT_SUPPORT_LOCALE_TYPE:Ut(),__EXTEND_POINT__:Ut()};function tt(e){return sn(e,null,void 0)}function vs(e,t){return t.locale!=null?ml(t.locale):ml(e.locale)}let Nr;function ml(e){if($(e))return e;if(ie(e)){if(e.resolvedOnce&&Nr!=null)return Nr;if(e.constructor.name==="Function"){const t=e();if(eu(t))throw tt(Be.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Nr=t}else throw tt(Be.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw tt(Be.NOT_SUPPORT_LOCALE_TYPE)}function cf(e,t,n){return[...new Set([n,...ae(t)?t:Q(t)?Object.keys(t):$(t)?[t]:[n]])]}function co(e,t,n){const r=$(n)?n:rn,l=e;l.__localeChainCache||(l.__localeChainCache=new Map);let s=l.__localeChainCache.get(r);if(!s){s=[];let i=[n];for(;ae(i);)i=hl(s,i,t);const o=ae(t)||!G(t)?t:t.default?t.default:null;i=$(o)?[o]:o,ae(i)&&hl(s,i,!1),l.__localeChainCache.set(r,s)}return s}function hl(e,t,n){let r=!0;for(let l=0;l<t.length&&J(r);l++){const s=t[l];$(s)&&(r=uf(e,t[l],n))}return r}function uf(e,t,n){let r;const l=t.split("-");do{const s=l.join("-");r=ff(e,s,n),l.splice(-1,1)}while(l.length&&r===!0);return r}function ff(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const l=t.replace(/!/g,"");e.push(l),(ae(n)||G(n))&&n[l]&&(r=n[l])}return r}const df="9.14.4",dr=-1,rn="en-US",pl="",gl=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function _f(){return{upper:(e,t)=>t==="text"&&$(e)?e.toUpperCase():t==="vnode"&&Q(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&$(e)?e.toLowerCase():t==="vnode"&&Q(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&$(e)?gl(e):t==="vnode"&&Q(e)&&"__v_isVNode"in e?gl(e.children):e}}let uo;function bl(e){uo=e}let fo;function mf(e){fo=e}let _o;function hf(e){_o=e}let mo=null;const pf=e=>{mo=e},gf=()=>mo;let ho=null;const El=e=>{ho=e},bf=()=>ho;let vl=0;function Ef(e={}){const t=ie(e.onWarn)?e.onWarn:ru,n=$(e.version)?e.version:df,r=$(e.locale)||ie(e.locale)?e.locale:rn,l=ie(r)?rn:r,s=ae(e.fallbackLocale)||G(e.fallbackLocale)||$(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:l,i=G(e.messages)?e.messages:Sr(l),o=G(e.datetimeFormats)?e.datetimeFormats:Sr(l),a=G(e.numberFormats)?e.numberFormats:Sr(l),d=Le(ne(),e.modifiers,_f()),_=e.pluralRules||ne(),h=ie(e.missing)?e.missing:null,b=J(e.missingWarn)||Ct(e.missingWarn)?e.missingWarn:!0,I=J(e.fallbackWarn)||Ct(e.fallbackWarn)?e.fallbackWarn:!0,M=!!e.fallbackFormat,D=!!e.unresolving,w=ie(e.postTranslation)?e.postTranslation:null,F=G(e.processor)?e.processor:null,j=J(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter,E=ie(e.messageCompiler)?e.messageCompiler:uo,S=ie(e.messageResolver)?e.messageResolver:fo||Bu,y=ie(e.localeFallbacker)?e.localeFallbacker:_o||cf,k=Q(e.fallbackContext)?e.fallbackContext:void 0,W=e,U=Q(W.__datetimeFormatters)?W.__datetimeFormatters:new Map,te=Q(W.__numberFormatters)?W.__numberFormatters:new Map,he=Q(W.__meta)?W.__meta:{};vl++;const X={version:n,cid:vl,locale:r,fallbackLocale:s,messages:i,modifiers:d,pluralRules:_,missing:h,missingWarn:b,fallbackWarn:I,fallbackFormat:M,unresolving:D,postTranslation:w,processor:F,warnHtmlMessage:j,escapeParameter:T,messageCompiler:E,messageResolver:S,localeFallbacker:y,fallbackContext:k,onWarn:t,__meta:he};return X.datetimeFormats=o,X.numberFormats=a,X.__datetimeFormatters=U,X.__numberFormatters=te,__INTLIFY_PROD_DEVTOOLS__&&sf(X,n,he),X}const Sr=e=>({[e]:ne()});function Ts(e,t,n,r,l){const{missing:s,onWarn:i}=e;if(s!==null){const o=s(e,n,t,l);return $(o)?o:t}else return t}function un(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function vf(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Tf(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(vf(e,t[r]))return!0;return!1}function Cr(e){return n=>If(n,e)}function If(e,t){const n=ku(t);if(n==null)throw Sn(0);if(Es(n)===1){const s=wu(n);return e.plural(s.reduce((i,o)=>[...i,Tl(e,o)],[]))}else return Tl(e,n)}function Tl(e,t){const n=xu(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const r=Uu(t).reduce((l,s)=>[...l,Wr(e,s)],[]);return e.normalize(r)}}function Wr(e,t){const n=Es(t);switch(n){case 3:return Un(t,n);case 9:return Un(t,n);case 4:{const r=t;if(Ge(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(Ge(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Sn(n)}case 5:{const r=t;if(Ge(r,"i")&&de(r.i))return e.interpolate(e.list(r.i));if(Ge(r,"index")&&de(r.index))return e.interpolate(e.list(r.index));throw Sn(n)}case 6:{const r=t,l=$u(r),s=Wu(r);return e.linked(Wr(e,s),l?Wr(e,l):void 0,e.type)}case 7:return Un(t,n);case 8:return Un(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const po=e=>e;let Xt=ne();function go(e,t={}){let n=!1;const r=t.onError||uu;return t.onError=l=>{n=!0,r(l)},{...Du(e,t),detectError:n}}const Lf=(e,t)=>{if(!$(e))throw tt(Be.NOT_SUPPORT_NON_STRING_MESSAGE);{J(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||po)(e),l=Xt[r];if(l)return l;const{code:s,detectError:i}=go(e,t),o=new Function(`return ${s}`)();return i?o:Xt[r]=o}};function yf(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&$(e)){J(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||po)(e),l=Xt[r];if(l)return l;const{ast:s,detectError:i}=go(e,{...t,location:!1,jit:!0}),o=Cr(s);return i?o:Xt[r]=o}else{const n=e.cacheKey;if(n){const r=Xt[n];return r||(Xt[n]=Cr(e))}else return Cr(e)}}const Il=()=>"",je=e=>ie(e);function Ll(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:l,messageCompiler:s,fallbackLocale:i,messages:o}=e,[a,d]=jr(...t),_=J(d.missingWarn)?d.missingWarn:e.missingWarn,h=J(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,b=J(d.escapeParameter)?d.escapeParameter:e.escapeParameter,I=!!d.resolvedMessage,M=$(d.default)||J(d.default)?J(d.default)?s?a:()=>a:d.default:n?s?a:()=>a:"",D=n||M!=="",w=vs(e,d);b&&Of(d);let[F,j,T]=I?[a,w,o[w]||ne()]:bo(e,a,w,i,h,_),E=F,S=a;if(!I&&!($(E)||nt(E)||je(E))&&D&&(E=M,S=E),!I&&(!($(E)||nt(E)||je(E))||!$(j)))return l?dr:a;let y=!1;const k=()=>{y=!0},W=je(E)?E:Eo(e,a,j,E,S,k);if(y)return E;const U=Cf(e,j,T,d),te=nf(U),he=Nf(e,W,te),X=r?r(he,a):he;if(__INTLIFY_PROD_DEVTOOLS__){const ue={timestamp:Date.now(),key:$(a)?a:je(E)?E.key:"",locale:j||(je(E)?E.locale:""),format:$(E)?E:je(E)?E.source:"",message:X};ue.meta=Le({},e.__meta,gf()||{}),lf(ue)}return X}function Of(e){ae(e.list)?e.list=e.list.map(t=>$(t)?ol(t):t):Q(e.named)&&Object.keys(e.named).forEach(t=>{$(e.named[t])&&(e.named[t]=ol(e.named[t]))})}function bo(e,t,n,r,l,s){const{messages:i,onWarn:o,messageResolver:a,localeFallbacker:d}=e,_=d(e,r,n);let h=ne(),b,I=null;const M="translate";for(let D=0;D<_.length&&(b=_[D],h=i[b]||ne(),(I=a(h,t))===null&&(I=h[t]),!($(I)||nt(I)||je(I)));D++)if(!Tf(b,_)){const w=Ts(e,t,b,s,M);w!==t&&(I=w)}return[I,b,h]}function Eo(e,t,n,r,l,s){const{messageCompiler:i,warnHtmlMessage:o}=e;if(je(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||t,d}if(i==null){const d=()=>r;return d.locale=n,d.key=t,d}const a=i(r,Sf(e,n,l,r,o,s));return a.locale=n,a.key=t,a.source=r,a}function Nf(e,t,n){return t(n)}function jr(...e){const[t,n,r]=e,l=ne();if(!$(t)&&!de(t)&&!je(t)&&!nt(t))throw tt(Be.INVALID_ARGUMENT);const s=de(t)?String(t):(je(t),t);return de(n)?l.plural=n:$(n)?l.default=n:G(n)&&!ur(n)?l.named=n:ae(n)&&(l.list=n),de(r)?l.plural=r:$(r)?l.default=r:G(r)&&Le(l,r),[s,l]}function Sf(e,t,n,r,l,s){return{locale:t,key:n,warnHtmlMessage:l,onError:i=>{throw s&&s(i),i},onCacheKey:i=>Jc(t,n,i)}}function Cf(e,t,n,r){const{modifiers:l,pluralRules:s,messageResolver:i,fallbackLocale:o,fallbackWarn:a,missingWarn:d,fallbackContext:_}=e,b={locale:t,modifiers:l,pluralRules:s,messages:I=>{let M=i(n,I);if(M==null&&_){const[,,D]=bo(_,I,t,o,a,d);M=i(D,I)}if($(M)||nt(M)){let D=!1;const F=Eo(e,I,t,M,I,()=>{D=!0});return D?Il:F}else return je(M)?M:Il}};return e.processor&&(b.processor=e.processor),r.list&&(b.list=r.list),r.named&&(b.named=r.named),de(r.plural)&&(b.pluralIndex=r.plural),b}function yl(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:l,onWarn:s,localeFallbacker:i}=e,{__datetimeFormatters:o}=e,[a,d,_,h]=Vr(...t),b=J(_.missingWarn)?_.missingWarn:e.missingWarn;J(_.fallbackWarn)?_.fallbackWarn:e.fallbackWarn;const I=!!_.part,M=vs(e,_),D=i(e,l,M);if(!$(a)||a==="")return new Intl.DateTimeFormat(M,h).format(d);let w={},F,j=null;const T="datetime format";for(let y=0;y<D.length&&(F=D[y],w=n[F]||{},j=w[a],!G(j));y++)Ts(e,a,F,b,T);if(!G(j)||!$(F))return r?dr:a;let E=`${F}__${a}`;ur(h)||(E=`${E}__${JSON.stringify(h)}`);let S=o.get(E);return S||(S=new Intl.DateTimeFormat(F,Le({},j,h)),o.set(E,S)),I?S.formatToParts(d):S.format(d)}const vo=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Vr(...e){const[t,n,r,l]=e,s=ne();let i=ne(),o;if($(t)){const a=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!a)throw tt(Be.INVALID_ISO_DATE_ARGUMENT);const d=a[3]?a[3].trim().startsWith("T")?`${a[1].trim()}${a[3].trim()}`:`${a[1].trim()}T${a[3].trim()}`:a[1].trim();o=new Date(d);try{o.toISOString()}catch{throw tt(Be.INVALID_ISO_DATE_ARGUMENT)}}else if(Qc(t)){if(isNaN(t.getTime()))throw tt(Be.INVALID_DATE_ARGUMENT);o=t}else if(de(t))o=t;else throw tt(Be.INVALID_ARGUMENT);return $(n)?s.key=n:G(n)&&Object.keys(n).forEach(a=>{vo.includes(a)?i[a]=n[a]:s[a]=n[a]}),$(r)?s.locale=r:G(r)&&(i=r),G(l)&&(i=l),[s.key||"",o,s,i]}function Ol(e,t,n){const r=e;for(const l in n){const s=`${t}__${l}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function Nl(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:l,onWarn:s,localeFallbacker:i}=e,{__numberFormatters:o}=e,[a,d,_,h]=Hr(...t),b=J(_.missingWarn)?_.missingWarn:e.missingWarn;J(_.fallbackWarn)?_.fallbackWarn:e.fallbackWarn;const I=!!_.part,M=vs(e,_),D=i(e,l,M);if(!$(a)||a==="")return new Intl.NumberFormat(M,h).format(d);let w={},F,j=null;const T="number format";for(let y=0;y<D.length&&(F=D[y],w=n[F]||{},j=w[a],!G(j));y++)Ts(e,a,F,b,T);if(!G(j)||!$(F))return r?dr:a;let E=`${F}__${a}`;ur(h)||(E=`${E}__${JSON.stringify(h)}`);let S=o.get(E);return S||(S=new Intl.NumberFormat(F,Le({},j,h)),o.set(E,S)),I?S.formatToParts(d):S.format(d)}const To=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Hr(...e){const[t,n,r,l]=e,s=ne();let i=ne();if(!de(t))throw tt(Be.INVALID_ARGUMENT);const o=t;return $(n)?s.key=n:G(n)&&Object.keys(n).forEach(a=>{To.includes(a)?i[a]=n[a]:s[a]=n[a]}),$(r)?s.locale=r:G(r)&&(i=r),G(l)&&(i=l),[s.key||"",o,s,i]}function Sl(e,t,n){const r=e;for(const l in n){const s=`${t}__${l}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}Fu();/*!
  * vue-i18n v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Af="9.14.4";function Pf(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(pt().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(pt().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(pt().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(pt().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(pt().__INTLIFY_PROD_DEVTOOLS__=!1)}const Io=af.__EXTEND_POINT__,dt=fr(Io);dt(),dt(),dt(),dt(),dt(),dt(),dt(),dt(),dt();const Lo=Be.__EXTEND_POINT__,Re=fr(Lo),ge={UNEXPECTED_RETURN_TYPE:Lo,INVALID_ARGUMENT:Re(),MUST_BE_CALL_SETUP_TOP:Re(),NOT_INSTALLED:Re(),NOT_AVAILABLE_IN_LEGACY_MODE:Re(),REQUIRED_VALUE:Re(),INVALID_VALUE:Re(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Re(),NOT_INSTALLED_WITH_PROVIDE:Re(),UNEXPECTED_ERROR:Re(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Re(),BRIDGE_SUPPORT_VUE_2_ONLY:Re(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Re(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Re(),__EXTEND_POINT__:Re()};function ve(e,...t){return sn(e,null,void 0)}const Kr=Rt("__translateVNode"),Yr=Rt("__datetimeParts"),Gr=Rt("__numberParts"),yo=Rt("__setPluralRules"),Oo=Rt("__injectWithOption"),Br=Rt("__dispose");function An(e){if(!Q(e)||nt(e))return e;for(const t in e)if(Ge(e,t))if(!t.includes("."))Q(e[t])&&An(e[t]);else{const n=t.split("."),r=n.length-1;let l=e,s=!1;for(let i=0;i<r;i++){if(n[i]==="__proto__")throw new Error(`unsafe key: ${n[i]}`);if(n[i]in l||(l[n[i]]=ne()),!Q(l[n[i]])){s=!0;break}l=l[n[i]]}if(s||(nt(l)?io.includes(n[r])||delete e[t]:(l[n[r]]=e[t],delete e[t])),!nt(l)){const i=l[n[r]];Q(i)&&An(i)}}return e}function _r(e,t){const{messages:n,__i18n:r,messageResolver:l,flatJson:s}=t,i=G(n)?n:ae(r)?ne():{[e]:ne()};if(ae(r)&&r.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:a,resource:d}=o;a?(i[a]=i[a]||ne(),Hn(d,i[a])):Hn(d,i)}else $(o)&&Hn(JSON.parse(o),i)}),l==null&&s)for(const o in i)Ge(i,o)&&An(i[o]);return i}function No(e){return e.type}function So(e,t,n){let r=Q(t.messages)?t.messages:ne();"__i18nGlobal"in n&&(r=_r(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const l=Object.keys(r);l.length&&l.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(Q(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(i=>{e.mergeDateTimeFormat(i,t.datetimeFormats[i])})}if(Q(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(i=>{e.mergeNumberFormat(i,t.numberFormats[i])})}}}function Cl(e){return We(Mn,null,e,0)}const Al="__INTLIFY_META__",Pl=()=>[],Rf=()=>!1;let Rl=0;function Ml(e){return(t,n,r,l)=>e(n,r,On()||void 0,l)}const Mf=()=>{const e=On();let t=null;return e&&(t=No(e)[Al])?{[Al]:t}:null};function Is(e={},t){const{__root:n,__injectWithOption:r}=e,l=n===void 0,s=e.flatJson,i=Zn?Ot:fi,o=!!e.translateExistCompatible;let a=J(e.inheritLocale)?e.inheritLocale:!0;const d=i(n&&a?n.locale.value:$(e.locale)?e.locale:rn),_=i(n&&a?n.fallbackLocale.value:$(e.fallbackLocale)||ae(e.fallbackLocale)||G(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:d.value),h=i(_r(d.value,e)),b=i(G(e.datetimeFormats)?e.datetimeFormats:{[d.value]:{}}),I=i(G(e.numberFormats)?e.numberFormats:{[d.value]:{}});let M=n?n.missingWarn:J(e.missingWarn)||Ct(e.missingWarn)?e.missingWarn:!0,D=n?n.fallbackWarn:J(e.fallbackWarn)||Ct(e.fallbackWarn)?e.fallbackWarn:!0,w=n?n.fallbackRoot:J(e.fallbackRoot)?e.fallbackRoot:!0,F=!!e.fallbackFormat,j=ie(e.missing)?e.missing:null,T=ie(e.missing)?Ml(e.missing):null,E=ie(e.postTranslation)?e.postTranslation:null,S=n?n.warnHtmlMessage:J(e.warnHtmlMessage)?e.warnHtmlMessage:!0,y=!!e.escapeParameter;const k=n?n.modifiers:G(e.modifiers)?e.modifiers:{};let W=e.pluralRules||n&&n.pluralRules,U;U=(()=>{l&&El(null);const g={version:Af,locale:d.value,fallbackLocale:_.value,messages:h.value,modifiers:k,pluralRules:W,missing:T===null?void 0:T,missingWarn:M,fallbackWarn:D,fallbackFormat:F,unresolving:!0,postTranslation:E===null?void 0:E,warnHtmlMessage:S,escapeParameter:y,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};g.datetimeFormats=b.value,g.numberFormats=I.value,g.__datetimeFormatters=G(U)?U.__datetimeFormatters:void 0,g.__numberFormatters=G(U)?U.__numberFormatters:void 0;const L=Ef(g);return l&&El(L),L})(),un(U,d.value,_.value);function he(){return[d.value,_.value,h.value,b.value,I.value]}const X=Ye({get:()=>d.value,set:g=>{d.value=g,U.locale=d.value}}),ue=Ye({get:()=>_.value,set:g=>{_.value=g,U.fallbackLocale=_.value,un(U,d.value,g)}}),lt=Ye(()=>h.value),bt=Ye(()=>b.value),se=Ye(()=>I.value);function ee(){return ie(E)?E:null}function q(g){E=g,U.postTranslation=g}function De(){return j}function qe(g){g!==null&&(T=Ml(g)),j=g,U.missing=T}const pe=(g,L,V,H,ce,fe)=>{he();let Ee;try{__INTLIFY_PROD_DEVTOOLS__,l||(U.fallbackContext=n?bf():void 0),Ee=g(U)}finally{__INTLIFY_PROD_DEVTOOLS__,l||(U.fallbackContext=void 0)}if(V!=="translate exists"&&de(Ee)&&Ee===dr||V==="translate exists"&&!Ee){const[Se,Kt]=L();return n&&w?H(n):ce(Se)}else{if(fe(Ee))return Ee;throw ve(ge.UNEXPECTED_RETURN_TYPE)}};function be(...g){return pe(L=>Reflect.apply(Ll,null,[L,...g]),()=>jr(...g),"translate",L=>Reflect.apply(L.t,L,[...g]),L=>L,L=>$(L))}function Et(...g){const[L,V,H]=g;if(H&&!Q(H))throw ve(ge.INVALID_ARGUMENT);return be(L,V,Le({resolvedMessage:!0},H||{}))}function vt(...g){return pe(L=>Reflect.apply(yl,null,[L,...g]),()=>Vr(...g),"datetime format",L=>Reflect.apply(L.d,L,[...g]),()=>pl,L=>$(L))}function Ft(...g){return pe(L=>Reflect.apply(Nl,null,[L,...g]),()=>Hr(...g),"number format",L=>Reflect.apply(L.n,L,[...g]),()=>pl,L=>$(L))}function He(g){return g.map(L=>$(L)||de(L)||J(L)?Cl(String(L)):L)}const ot={normalize:He,interpolate:g=>g,type:"vnode"};function Tt(...g){return pe(L=>{let V;const H=L;try{H.processor=ot,V=Reflect.apply(Ll,null,[H,...g])}finally{H.processor=null}return V},()=>jr(...g),"translate",L=>L[Kr](...g),L=>[Cl(L)],L=>ae(L))}function Fe(...g){return pe(L=>Reflect.apply(Nl,null,[L,...g]),()=>Hr(...g),"number format",L=>L[Gr](...g),Pl,L=>$(L)||ae(L))}function at(...g){return pe(L=>Reflect.apply(yl,null,[L,...g]),()=>Vr(...g),"datetime format",L=>L[Yr](...g),Pl,L=>$(L)||ae(L))}function ct(g){W=g,U.pluralRules=W}function m(g,L){return pe(()=>{if(!g)return!1;const V=$(L)?L:d.value,H=P(V),ce=U.messageResolver(H,g);return o?ce!=null:nt(ce)||je(ce)||$(ce)},()=>[g],"translate exists",V=>Reflect.apply(V.te,V,[g,L]),Rf,V=>J(V))}function f(g){let L=null;const V=co(U,_.value,d.value);for(let H=0;H<V.length;H++){const ce=h.value[V[H]]||{},fe=U.messageResolver(ce,g);if(fe!=null){L=fe;break}}return L}function v(g){const L=f(g);return L??(n?n.tm(g)||{}:{})}function P(g){return h.value[g]||{}}function O(g,L){if(s){const V={[g]:L};for(const H in V)Ge(V,H)&&An(V[H]);L=V[g]}h.value[g]=L,U.messages=h.value}function C(g,L){h.value[g]=h.value[g]||{};const V={[g]:L};if(s)for(const H in V)Ge(V,H)&&An(V[H]);L=V[g],Hn(L,h.value[g]),U.messages=h.value}function x(g){return b.value[g]||{}}function c(g,L){b.value[g]=L,U.datetimeFormats=b.value,Ol(U,g,L)}function u(g,L){b.value[g]=Le(b.value[g]||{},L),U.datetimeFormats=b.value,Ol(U,g,L)}function p(g){return I.value[g]||{}}function N(g,L){I.value[g]=L,U.numberFormats=I.value,Sl(U,g,L)}function R(g,L){I.value[g]=Le(I.value[g]||{},L),U.numberFormats=I.value,Sl(U,g,L)}Rl++,n&&Zn&&(en(n.locale,g=>{a&&(d.value=g,U.locale=g,un(U,d.value,_.value))}),en(n.fallbackLocale,g=>{a&&(_.value=g,U.fallbackLocale=g,un(U,d.value,_.value))}));const A={id:Rl,locale:X,fallbackLocale:ue,get inheritLocale(){return a},set inheritLocale(g){a=g,g&&n&&(d.value=n.locale.value,_.value=n.fallbackLocale.value,un(U,d.value,_.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:lt,get modifiers(){return k},get pluralRules(){return W||{}},get isGlobal(){return l},get missingWarn(){return M},set missingWarn(g){M=g,U.missingWarn=M},get fallbackWarn(){return D},set fallbackWarn(g){D=g,U.fallbackWarn=D},get fallbackRoot(){return w},set fallbackRoot(g){w=g},get fallbackFormat(){return F},set fallbackFormat(g){F=g,U.fallbackFormat=F},get warnHtmlMessage(){return S},set warnHtmlMessage(g){S=g,U.warnHtmlMessage=g},get escapeParameter(){return y},set escapeParameter(g){y=g,U.escapeParameter=g},t:be,getLocaleMessage:P,setLocaleMessage:O,mergeLocaleMessage:C,getPostTranslationHandler:ee,setPostTranslationHandler:q,getMissingHandler:De,setMissingHandler:qe,[yo]:ct};return A.datetimeFormats=bt,A.numberFormats=se,A.rt=Et,A.te=m,A.tm=v,A.d=vt,A.n=Ft,A.getDateTimeFormat=x,A.setDateTimeFormat=c,A.mergeDateTimeFormat=u,A.getNumberFormat=p,A.setNumberFormat=N,A.mergeNumberFormat=R,A[Oo]=r,A[Kr]=Tt,A[Yr]=at,A[Gr]=Fe,A}function Df(e){const t=$(e.locale)?e.locale:rn,n=$(e.fallbackLocale)||ae(e.fallbackLocale)||G(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=ie(e.missing)?e.missing:void 0,l=J(e.silentTranslationWarn)||Ct(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=J(e.silentFallbackWarn)||Ct(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,i=J(e.fallbackRoot)?e.fallbackRoot:!0,o=!!e.formatFallbackMessages,a=G(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,_=ie(e.postTranslation)?e.postTranslation:void 0,h=$(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,b=!!e.escapeParameterHtml,I=J(e.sync)?e.sync:!0;let M=e.messages;if(G(e.sharedMessages)){const y=e.sharedMessages;M=Object.keys(y).reduce((W,U)=>{const te=W[U]||(W[U]={});return Le(te,y[U]),W},M||{})}const{__i18n:D,__root:w,__injectWithOption:F}=e,j=e.datetimeFormats,T=e.numberFormats,E=e.flatJson,S=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:M,flatJson:E,datetimeFormats:j,numberFormats:T,missing:r,missingWarn:l,fallbackWarn:s,fallbackRoot:i,fallbackFormat:o,modifiers:a,pluralRules:d,postTranslation:_,warnHtmlMessage:h,escapeParameter:b,messageResolver:e.messageResolver,inheritLocale:I,translateExistCompatible:S,__i18n:D,__root:w,__injectWithOption:F}}function Xr(e={},t){{const n=Is(Df(e)),{__extender:r}=e,l={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return J(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=J(s)?!s:s},get silentFallbackWarn(){return J(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=J(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[i,o,a]=s,d={};let _=null,h=null;if(!$(i))throw ve(ge.INVALID_ARGUMENT);const b=i;return $(o)?d.locale=o:ae(o)?_=o:G(o)&&(h=o),ae(a)?_=a:G(a)&&(h=a),Reflect.apply(n.t,n,[b,_||h||{},d])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[i,o,a]=s,d={plural:1};let _=null,h=null;if(!$(i))throw ve(ge.INVALID_ARGUMENT);const b=i;return $(o)?d.locale=o:de(o)?d.plural=o:ae(o)?_=o:G(o)&&(h=o),$(a)?d.locale=a:ae(a)?_=a:G(a)&&(h=a),Reflect.apply(n.t,n,[b,_||h||{},d])},te(s,i){return n.te(s,i)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,i){n.setLocaleMessage(s,i)},mergeLocaleMessage(s,i){n.mergeLocaleMessage(s,i)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,i){n.setDateTimeFormat(s,i)},mergeDateTimeFormat(s,i){n.mergeDateTimeFormat(s,i)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,i){n.setNumberFormat(s,i)},mergeNumberFormat(s,i){n.mergeNumberFormat(s,i)},getChoiceIndex(s,i){return-1}};return l.__extender=r,l}}const Ls={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Ff({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,l)=>[...r,...l.type===Me?l.children:[l]],[]):t.reduce((n,r)=>{const l=e[r];return l&&(n[r]=l()),n},ne())}function Co(e){return Me}const kf=fs({name:"i18n-t",props:Le({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>de(e)||!isNaN(e)}},Ls),setup(e,t){const{slots:n,attrs:r}=t,l=e.i18n||mr({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(h=>h!=="_"),i=ne();e.locale&&(i.locale=e.locale),e.plural!==void 0&&(i.plural=$(e.plural)?+e.plural:e.plural);const o=Ff(t,s),a=l[Kr](e.keypath,o,i),d=Le(ne(),r),_=$(e.tag)||Q(e.tag)?e.tag:Co();return Ki(_,d,a)}}}),Dl=kf;function wf(e){return ae(e)&&!$(e[0])}function Ao(e,t,n,r){const{slots:l,attrs:s}=t;return()=>{const i={part:!0};let o=ne();e.locale&&(i.locale=e.locale),$(e.format)?i.key=e.format:Q(e.format)&&($(e.format.key)&&(i.key=e.format.key),o=Object.keys(e.format).reduce((b,I)=>n.includes(I)?Le(ne(),b,{[I]:e.format[I]}):b,ne()));const a=r(e.value,i,o);let d=[i.key];ae(a)?d=a.map((b,I)=>{const M=l[b.type],D=M?M({[b.type]:b.value,index:I,parts:a}):[b.value];return wf(D)&&(D[0].key=`${b.type}-${I}`),D}):$(a)&&(d=[a]);const _=Le(ne(),s),h=$(e.tag)||Q(e.tag)?e.tag:Co();return Ki(h,_,d)}}const xf=fs({name:"i18n-n",props:Le({value:{type:Number,required:!0},format:{type:[String,Object]}},Ls),setup(e,t){const n=e.i18n||mr({useScope:e.scope,__useComponent:!0});return Ao(e,t,To,(...r)=>n[Gr](...r))}}),Fl=xf,Uf=fs({name:"i18n-d",props:Le({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Ls),setup(e,t){const n=e.i18n||mr({useScope:e.scope,__useComponent:!0});return Ao(e,t,vo,(...r)=>n[Yr](...r))}}),kl=Uf;function $f(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Wf(e){const t=i=>{const{instance:o,modifiers:a,value:d}=i;if(!o||!o.$)throw ve(ge.UNEXPECTED_ERROR);const _=$f(e,o.$),h=wl(d);return[Reflect.apply(_.t,_,[...xl(h)]),_]};return{created:(i,o)=>{const[a,d]=t(o);Zn&&e.global===d&&(i.__i18nWatcher=en(d.locale,()=>{o.instance&&o.instance.$forceUpdate()})),i.__composer=d,i.textContent=a},unmounted:i=>{Zn&&i.__i18nWatcher&&(i.__i18nWatcher(),i.__i18nWatcher=void 0,delete i.__i18nWatcher),i.__composer&&(i.__composer=void 0,delete i.__composer)},beforeUpdate:(i,{value:o})=>{if(i.__composer){const a=i.__composer,d=wl(o);i.textContent=Reflect.apply(a.t,a,[...xl(d)])}},getSSRProps:i=>{const[o]=t(i);return{textContent:o}}}}function wl(e){if($(e))return{path:e};if(G(e)){if(!("path"in e))throw ve(ge.REQUIRED_VALUE,"path");return e}else throw ve(ge.INVALID_VALUE)}function xl(e){const{path:t,locale:n,args:r,choice:l,plural:s}=e,i={},o=r||{};return $(n)&&(i.locale=n),de(l)&&(i.plural=l),de(s)&&(i.plural=s),[t,o,i]}function jf(e,t,...n){const r=G(n[0])?n[0]:{},l=!!r.useI18nComponentName;(J(r.globalInstall)?r.globalInstall:!0)&&([l?"i18n":Dl.name,"I18nT"].forEach(i=>e.component(i,Dl)),[Fl.name,"I18nN"].forEach(i=>e.component(i,Fl)),[kl.name,"I18nD"].forEach(i=>e.component(i,kl))),e.directive("t",Wf(t))}function Vf(e,t,n){return{beforeCreate(){const r=On();if(!r)throw ve(ge.UNEXPECTED_ERROR);const l=this.$options;if(l.i18n){const s=l.i18n;if(l.__i18n&&(s.__i18n=l.__i18n),s.__root=t,this===this.$root)this.$i18n=Ul(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=Xr(s);const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}}else if(l.__i18n)if(this===this.$root)this.$i18n=Ul(e,l);else{this.$i18n=Xr({__i18n:l.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;l.__i18nGlobal&&So(t,l,l),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,i)=>this.$i18n.te(s,i),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=On();if(!r)throw ve(ge.UNEXPECTED_ERROR);const l=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,l.__disposer&&(l.__disposer(),delete l.__disposer,delete l.__extender),n.__deleteInstance(r),delete this.$i18n}}}function Ul(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[yo](t.pluralizationRules||e.pluralizationRules);const n=_r(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const Hf=Rt("global-vue-i18n");function Kf(e={},t){const n=__VUE_I18N_LEGACY_API__&&J(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=J(e.globalInjection)?e.globalInjection:!0,l=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[i,o]=Yf(e,n),a=Rt("");function d(b){return s.get(b)||null}function _(b,I){s.set(b,I)}function h(b){s.delete(b)}{const b={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return l},async install(I,...M){if(I.__VUE_I18N_SYMBOL__=a,I.provide(I.__VUE_I18N_SYMBOL__,b),G(M[0])){const F=M[0];b.__composerExtend=F.__composerExtend,b.__vueI18nExtend=F.__vueI18nExtend}let D=null;!n&&r&&(D=ed(I,b.global)),__VUE_I18N_FULL_INSTALL__&&jf(I,b,...M),__VUE_I18N_LEGACY_API__&&n&&I.mixin(Vf(o,o.__composer,b));const w=I.unmount;I.unmount=()=>{D&&D(),b.dispose(),w()}},get global(){return o},dispose(){i.stop()},__instances:s,__getInstance:d,__setInstance:_,__deleteInstance:h};return b}}function mr(e={}){const t=On();if(t==null)throw ve(ge.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ve(ge.NOT_INSTALLED);const n=Gf(t),r=Xf(n),l=No(t),s=Bf(e,l);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw ve(ge.NOT_AVAILABLE_IN_LEGACY_MODE);return Zf(t,s,r,e)}if(s==="global")return So(r,e,l),r;if(s==="parent"){let a=Jf(n,t,e.__useComponent);return a==null&&(a=r),a}const i=n;let o=i.__getInstance(t);if(o==null){const a=Le({},e);"__i18n"in l&&(a.__i18n=l.__i18n),r&&(a.__root=r),o=Is(a),i.__composerExtend&&(o[Br]=i.__composerExtend(o)),Qf(i,t,o),i.__setInstance(t,o)}return o}function Yf(e,t,n){const r=Ho();{const l=__VUE_I18N_LEGACY_API__&&t?r.run(()=>Xr(e)):r.run(()=>Is(e));if(l==null)throw ve(ge.UNEXPECTED_ERROR);return[r,l]}}function Gf(e){{const t=bn(e.isCE?Hf:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ve(e.isCE?ge.NOT_INSTALLED_WITH_PROVIDE:ge.UNEXPECTED_ERROR);return t}}function Bf(e,t){return ur(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Xf(e){return e.mode==="composition"?e.global:e.global.__composer}function Jf(e,t,n=!1){let r=null;const l=t.root;let s=qf(t,n);for(;s!=null;){const i=e;if(e.mode==="composition")r=i.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const o=i.__getInstance(s);o!=null&&(r=o.__composer,n&&r&&!r[Oo]&&(r=null))}if(r!=null||l===s)break;s=s.parent}return r}function qf(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Qf(e,t,n){ds(()=>{},t),_s(()=>{const r=n;e.__deleteInstance(t);const l=r[Br];l&&(l(),delete r[Br])},t)}function Zf(e,t,n,r={}){const l=t==="local",s=fi(null);if(l&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw ve(ge.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const i=J(r.inheritLocale)?r.inheritLocale:!$(r.locale),o=Ot(!l||i?n.locale.value:$(r.locale)?r.locale:rn),a=Ot(!l||i?n.fallbackLocale.value:$(r.fallbackLocale)||ae(r.fallbackLocale)||G(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:o.value),d=Ot(_r(o.value,r)),_=Ot(G(r.datetimeFormats)?r.datetimeFormats:{[o.value]:{}}),h=Ot(G(r.numberFormats)?r.numberFormats:{[o.value]:{}}),b=l?n.missingWarn:J(r.missingWarn)||Ct(r.missingWarn)?r.missingWarn:!0,I=l?n.fallbackWarn:J(r.fallbackWarn)||Ct(r.fallbackWarn)?r.fallbackWarn:!0,M=l?n.fallbackRoot:J(r.fallbackRoot)?r.fallbackRoot:!0,D=!!r.fallbackFormat,w=ie(r.missing)?r.missing:null,F=ie(r.postTranslation)?r.postTranslation:null,j=l?n.warnHtmlMessage:J(r.warnHtmlMessage)?r.warnHtmlMessage:!0,T=!!r.escapeParameter,E=l?n.modifiers:G(r.modifiers)?r.modifiers:{},S=r.pluralRules||l&&n.pluralRules;function y(){return[o.value,a.value,d.value,_.value,h.value]}const k=Ye({get:()=>s.value?s.value.locale.value:o.value,set:f=>{s.value&&(s.value.locale.value=f),o.value=f}}),W=Ye({get:()=>s.value?s.value.fallbackLocale.value:a.value,set:f=>{s.value&&(s.value.fallbackLocale.value=f),a.value=f}}),U=Ye(()=>s.value?s.value.messages.value:d.value),te=Ye(()=>_.value),he=Ye(()=>h.value);function X(){return s.value?s.value.getPostTranslationHandler():F}function ue(f){s.value&&s.value.setPostTranslationHandler(f)}function lt(){return s.value?s.value.getMissingHandler():w}function bt(f){s.value&&s.value.setMissingHandler(f)}function se(f){return y(),f()}function ee(...f){return s.value?se(()=>Reflect.apply(s.value.t,null,[...f])):se(()=>"")}function q(...f){return s.value?Reflect.apply(s.value.rt,null,[...f]):""}function De(...f){return s.value?se(()=>Reflect.apply(s.value.d,null,[...f])):se(()=>"")}function qe(...f){return s.value?se(()=>Reflect.apply(s.value.n,null,[...f])):se(()=>"")}function pe(f){return s.value?s.value.tm(f):{}}function be(f,v){return s.value?s.value.te(f,v):!1}function Et(f){return s.value?s.value.getLocaleMessage(f):{}}function vt(f,v){s.value&&(s.value.setLocaleMessage(f,v),d.value[f]=v)}function Ft(f,v){s.value&&s.value.mergeLocaleMessage(f,v)}function He(f){return s.value?s.value.getDateTimeFormat(f):{}}function it(f,v){s.value&&(s.value.setDateTimeFormat(f,v),_.value[f]=v)}function ot(f,v){s.value&&s.value.mergeDateTimeFormat(f,v)}function Tt(f){return s.value?s.value.getNumberFormat(f):{}}function Fe(f,v){s.value&&(s.value.setNumberFormat(f,v),h.value[f]=v)}function at(f,v){s.value&&s.value.mergeNumberFormat(f,v)}const ct={get id(){return s.value?s.value.id:-1},locale:k,fallbackLocale:W,messages:U,datetimeFormats:te,numberFormats:he,get inheritLocale(){return s.value?s.value.inheritLocale:i},set inheritLocale(f){s.value&&(s.value.inheritLocale=f)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(d.value)},get modifiers(){return s.value?s.value.modifiers:E},get pluralRules(){return s.value?s.value.pluralRules:S},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:b},set missingWarn(f){s.value&&(s.value.missingWarn=f)},get fallbackWarn(){return s.value?s.value.fallbackWarn:I},set fallbackWarn(f){s.value&&(s.value.missingWarn=f)},get fallbackRoot(){return s.value?s.value.fallbackRoot:M},set fallbackRoot(f){s.value&&(s.value.fallbackRoot=f)},get fallbackFormat(){return s.value?s.value.fallbackFormat:D},set fallbackFormat(f){s.value&&(s.value.fallbackFormat=f)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:j},set warnHtmlMessage(f){s.value&&(s.value.warnHtmlMessage=f)},get escapeParameter(){return s.value?s.value.escapeParameter:T},set escapeParameter(f){s.value&&(s.value.escapeParameter=f)},t:ee,getPostTranslationHandler:X,setPostTranslationHandler:ue,getMissingHandler:lt,setMissingHandler:bt,rt:q,d:De,n:qe,tm:pe,te:be,getLocaleMessage:Et,setLocaleMessage:vt,mergeLocaleMessage:Ft,getDateTimeFormat:He,setDateTimeFormat:it,mergeDateTimeFormat:ot,getNumberFormat:Tt,setNumberFormat:Fe,mergeNumberFormat:at};function m(f){f.locale.value=o.value,f.fallbackLocale.value=a.value,Object.keys(d.value).forEach(v=>{f.mergeLocaleMessage(v,d.value[v])}),Object.keys(_.value).forEach(v=>{f.mergeDateTimeFormat(v,_.value[v])}),Object.keys(h.value).forEach(v=>{f.mergeNumberFormat(v,h.value[v])}),f.escapeParameter=T,f.fallbackFormat=D,f.fallbackRoot=M,f.fallbackWarn=I,f.missingWarn=b,f.warnHtmlMessage=j}return Li(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw ve(ge.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const f=s.value=e.proxy.$i18n.__composer;t==="global"?(o.value=f.locale.value,a.value=f.fallbackLocale.value,d.value=f.messages.value,_.value=f.datetimeFormats.value,h.value=f.numberFormats.value):l&&m(f)}),ct}const zf=["locale","fallbackLocale","availableLocales"],$l=["t","rt","d","n","tm","te"];function ed(e,t){const n=Object.create(null);return zf.forEach(l=>{const s=Object.getOwnPropertyDescriptor(t,l);if(!s)throw ve(ge.UNEXPECTED_ERROR);const i=Ie(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,l,i)}),e.config.globalProperties.$i18n=n,$l.forEach(l=>{const s=Object.getOwnPropertyDescriptor(t,l);if(!s||!s.value)throw ve(ge.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${l}`,s)}),()=>{delete e.config.globalProperties.$i18n,$l.forEach(l=>{delete e.config.globalProperties[`$${l}`]})}}Pf();__INTLIFY_JIT_COMPILATION__?bl(yf):bl(Lf);mf(Xu);hf(co);if(__INTLIFY_PROD_DEVTOOLS__){const e=pt();e.__INTLIFY__=!0,rf(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const td=(e,t)=>{const n=e.__vccOpts||e;for(const[r,l]of t)n[r]=l;return n},nd={class:"curriculum_vitae"},rd={class:"sticky_title"},sd={class:"module"},ld={class:"label"},id={class:"sticky_title"},od={class:"module"},ad={class:"skill_item"},cd={__name:"App",setup(e){const{locale:t}=mr(),n=ll.personalInformation,r=ll.skillIntroduction,l=Ot("zh-CN"),s=Ot("light"),i=a=>{const d=a.target.value;t.value=d,document.documentElement.setAttribute("lang",d),localStorage.setItem("lang",d)},o=a=>{const d=a.target.value;document.documentElement.setAttribute("data-theme",d),localStorage.setItem("theme",d)};return ds(()=>{l.value=localStorage.getItem("lang")||"zh-CN",t.value=l.value,s.value=localStorage.getItem("theme")||"light",document.documentElement.setAttribute("data-theme",s.value)}),(a,d)=>(on(),an(Me,null,[_e("header",null,[d[6]||(d[6]=_e("label",{for:"language"},"",-1)),Rs(_e("select",{"onUpdate:modelValue":d[0]||(d[0]=_=>l.value=_),name:"",id:"language",onChange:d[1]||(d[1]=_=>i(_))},d[4]||(d[4]=[_e("option",{value:"zh-CN"},"",-1),_e("option",{value:"en-US"},"English",-1)]),544),[[nl,l.value]]),d[7]||(d[7]=_e("label",{for:"theme"},"",-1)),Rs(_e("select",{"onUpdate:modelValue":d[2]||(d[2]=_=>s.value=_),name:"",id:"theme",onChange:d[3]||(d[3]=_=>o(_))},d[5]||(d[5]=[_e("option",{value:"light"},"",-1),_e("option",{value:"dark"},"",-1)]),544),[[nl,s.value]])]),_e("div",nd,[_e("div",rd,[_e("h4",null,$t(a.$t(fn(n).title)),1)]),_e("div",sd,[(on(!0),an(Me,null,Ms(fn(n).content,(_,h)=>(on(),an("div",{class:"info_item",key:h},[_e("span",ld,$t(a.$t(_.label))+":",1),_e("span",null,$t(a.$t(_.value)),1)]))),128))]),_e("div",id,[_e("h4",null,$t(a.$t(fn(r).title)),1)]),_e("div",od,[(on(!0),an(Me,null,Ms(fn(r).content,(_,h)=>(on(),an("div",ad,$t(h+1)+":"+$t(a.$t(_.label)),1))),256))]),d[8]||(d[8]=mc('<div class="sticky_title" data-v-b950b38f><h4 data-v-b950b38f></h4></div><div class="module" data-v-b950b38f><div class="job_item" data-v-b950b38f><div class="job_header" data-v-b950b38f><div class="job_title" data-v-b950b38f></div><div class="job_time" data-v-b950b38f>2023.02.27</div><span data-v-b950b38f>-</span><div class="job_time" data-v-b950b38f></div></div><div class="job_content" data-v-b950b38f><div class="job_content_item" data-v-b950b38f> 1. </div><div class="job_content_item" data-v-b950b38f> 2.VueElement Uimicro-app </div><div class="job_content_item" data-v-b950b38f> 3.COMSCOSS_JKccpsbnd </div></div></div><div class="job_item" data-v-b950b38f><div class="job_header" data-v-b950b38f><div class="job_title" data-v-b950b38f></div><div class="job_time" data-v-b950b38f>2020.12</div><span data-v-b950b38f>-</span><div class="job_time" data-v-b950b38f>2023.2</div></div><div class="job_content" data-v-b950b38f><div class="job_content_item" data-v-b950b38f> 1. </div><div class="job_content_item" data-v-b950b38f> 2.VueElementUiEchartsSpreadJsAntv-g2Antv-g6 </div><div class="job_content_item" data-v-b950b38f> 3.RMS </div></div></div><div class="job_item" data-v-b950b38f><div class="job_header" data-v-b950b38f><div class="job_title" data-v-b950b38f></div><div class="job_time" data-v-b950b38f>2020.6</div><span data-v-b950b38f>-</span><div class="job_time" data-v-b950b38f>2020.11</div></div><div class="job_content" data-v-b950b38f><div class="job_content_item" data-v-b950b38f> 1.MobileWeb </div><div class="job_content_item" data-v-b950b38f> 2.VueVant </div><div class="job_content_item" data-v-b950b38f> 3.SKUIOS </div></div></div><div class="job_item" data-v-b950b38f><div class="job_header" data-v-b950b38f><div class="job_title" data-v-b950b38f></div><div class="job_time" data-v-b950b38f>2019.4</div><span data-v-b950b38f>-</span><div class="job_time" data-v-b950b38f>2020.2</div></div><div class="job_content" data-v-b950b38f><div class="job_content_item" data-v-b950b38f> 1. </div><div class="job_content_item" data-v-b950b38f> 2.VueElementUi </div></div></div><div class="job_item" data-v-b950b38f><div class="job_header" data-v-b950b38f><div class="job_title" data-v-b950b38f></div><div class="job_time" data-v-b950b38f>2017.12</div><span data-v-b950b38f>-</span><div class="job_time" data-v-b950b38f>2019.2</div></div><div class="job_content" data-v-b950b38f><div class="job_content_item" data-v-b950b38f> 1. </div><div class="job_content_item" data-v-b950b38f> 2.VueiView </div><div class="job_content_item" data-v-b950b38f> 3.SKUIOS </div></div></div></div><div class="sticky_title" data-v-b950b38f><h4 data-v-b950b38f></h4></div><div class="module" data-v-b950b38f> era--202310 COMS--202311 COSS_JK ccpsbnd-- </div>',4))])],64))}},ud=td(cd,[["__scopeId","data-v-b950b38f"]]),fd={personalInformation:"Personal Information",personal:{name:"Name",nameRes:"Du Xinxin",educationBackground:"Education Background",educationBackgroundRes:"Associate Degree",major:"Major",majorRes:"Computer Application",phone:"Phone",phoneRes:"17751216596",email:"Email",emailRes:"1746215067{'@'}qq.com"},skillIntroduction:"Skill Introduction",skill:{html:"Proficient in HTML5, CSS3, JavaScript and new features",ui:"Proficient in using third-party UI frameworks such as Echarts, Antv, Elementui, and Vant iView"}},dd={personalInformation:"",personal:{name:"",nameRes:"",educationBackground:"",educationBackgroundRes:"",major:"",majorRes:"",phone:"",phoneRes:"17751216596",email:"",emailRes:"1746215067{'@'}qq.com"},skillIntroduction:"",skill:{html:"HTML5CSS3JavaScript",ui:"UIEchartsAntvElementuiVantiView"}},_d=new Kf({legacy:!1,locale:"zh-CN",messages:{"en-US":fd,"zh-CN":dd}});Gc(ud).use(_d).mount("#app");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtMTQxMDliMTYuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3NoYXJlZC9kaXN0L3NoYXJlZC5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3JlYWN0aXZpdHkvZGlzdC9yZWFjdGl2aXR5LmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1jb3JlL2Rpc3QvcnVudGltZS1jb3JlLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1kb20vZGlzdC9ydW50aW1lLWRvbS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL3NyYy91dGlscy9yZXN1bWUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGludGxpZnkvc2hhcmVkL2Rpc3Qvc2hhcmVkLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyL2Rpc3QvbWVzc2FnZS1jb21waWxlci5lc20tYnJvd3Nlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AaW50bGlmeS9jb3JlLWJhc2UvZGlzdC9jb3JlLWJhc2UubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1pMThuL2Rpc3QvdnVlLWkxOG4ubWpzIiwiLi4vLi4vc3JjL0FwcC52dWUiLCIuLi8uLi9zcmMvbGFuZy9lbi1VUy5qcyIsIi4uLy4uL3NyYy9sYW5nL3poLUNOLmpzIiwiLi4vLi4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEB2dWUvc2hhcmVkIHYzLjUuMTNcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7XG4gIGNvbnN0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKGNvbnN0IGtleSBvZiBzdHIuc3BsaXQoXCIsXCIpKSBtYXBba2V5XSA9IDE7XG4gIHJldHVybiAodmFsKSA9PiB2YWwgaW4gbWFwO1xufVxuXG5jb25zdCBFTVBUWV9PQkogPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gT2JqZWN0LmZyZWV6ZSh7fSkgOiB7fTtcbmNvbnN0IEVNUFRZX0FSUiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBPYmplY3QuZnJlZXplKFtdKSA6IFtdO1xuY29uc3QgTk9PUCA9ICgpID0+IHtcbn07XG5jb25zdCBOTyA9ICgpID0+IGZhbHNlO1xuY29uc3QgaXNPbiA9IChrZXkpID0+IGtleS5jaGFyQ29kZUF0KDApID09PSAxMTEgJiYga2V5LmNoYXJDb2RlQXQoMSkgPT09IDExMCAmJiAvLyB1cHBlcmNhc2UgbGV0dGVyXG4oa2V5LmNoYXJDb2RlQXQoMikgPiAxMjIgfHwga2V5LmNoYXJDb2RlQXQoMikgPCA5Nyk7XG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aChcIm9uVXBkYXRlOlwiKTtcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5jb25zdCByZW1vdmUgPSAoYXJyLCBlbCkgPT4ge1xuICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xuICBpZiAoaSA+IC0xKSB7XG4gICAgYXJyLnNwbGljZShpLCAxKTtcbiAgfVxufTtcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGhhc093biA9ICh2YWwsIGtleSkgPT4gaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBNYXBdXCI7XG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgU2V0XVwiO1xuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBEYXRlXVwiO1xuY29uc3QgaXNSZWdFeHAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IFJlZ0V4cF1cIjtcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCI7XG5jb25zdCBpc1N5bWJvbCA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3ltYm9sXCI7XG5jb25zdCBpc09iamVjdCA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSBcIm9iamVjdFwiO1xuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xuICByZXR1cm4gKGlzT2JqZWN0KHZhbCkgfHwgaXNGdW5jdGlvbih2YWwpKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XG59O1xuY29uc3Qgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbmNvbnN0IHRvUmF3VHlwZSA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XG59O1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xuY29uc3QgaXNJbnRlZ2VyS2V5ID0gKGtleSkgPT4gaXNTdHJpbmcoa2V5KSAmJiBrZXkgIT09IFwiTmFOXCIgJiYga2V5WzBdICE9PSBcIi1cIiAmJiBcIlwiICsgcGFyc2VJbnQoa2V5LCAxMCkgPT09IGtleTtcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIC8vIHRoZSBsZWFkaW5nIGNvbW1hIGlzIGludGVudGlvbmFsIHNvIGVtcHR5IHN0cmluZyBcIlwiIGlzIGFsc28gaW5jbHVkZWRcbiAgXCIsa2V5LHJlZixyZWZfZm9yLHJlZl9rZXksb25Wbm9kZUJlZm9yZU1vdW50LG9uVm5vZGVNb3VudGVkLG9uVm5vZGVCZWZvcmVVcGRhdGUsb25Wbm9kZVVwZGF0ZWQsb25Wbm9kZUJlZm9yZVVubW91bnQsb25Wbm9kZVVubW91bnRlZFwiXG4pO1xuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIFwiYmluZCxjbG9hayxlbHNlLWlmLGVsc2UsZm9yLGh0bWwsaWYsbW9kZWwsb24sb25jZSxwcmUsc2hvdyxzbG90LHRleHQsbWVtb1wiXG4pO1xuY29uc3QgY2FjaGVTdHJpbmdGdW5jdGlvbiA9IChmbikgPT4ge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHN0cikgPT4ge1xuICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XG4gICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xuICB9O1xufTtcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG5jb25zdCBjYW1lbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oXG4gIChzdHIpID0+IHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgKF8sIGMpID0+IGMgPyBjLnRvVXBwZXJDYXNlKCkgOiBcIlwiKTtcbiAgfVxuKTtcbmNvbnN0IGh5cGhlbmF0ZVJFID0gL1xcQihbQS1aXSkvZztcbmNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oXG4gIChzdHIpID0+IHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCBcIi0kMVwiKS50b0xvd2VyQ2FzZSgpXG4pO1xuY29uc3QgY2FwaXRhbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xufSk7XG5jb25zdCB0b0hhbmRsZXJLZXkgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKFxuICAoc3RyKSA9PiB7XG4gICAgY29uc3QgcyA9IHN0ciA/IGBvbiR7Y2FwaXRhbGl6ZShzdHIpfWAgOiBgYDtcbiAgICByZXR1cm4gcztcbiAgfVxuKTtcbmNvbnN0IGhhc0NoYW5nZWQgPSAodmFsdWUsIG9sZFZhbHVlKSA9PiAhT2JqZWN0LmlzKHZhbHVlLCBvbGRWYWx1ZSk7XG5jb25zdCBpbnZva2VBcnJheUZucyA9IChmbnMsIC4uLmFyZykgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgIGZuc1tpXSguLi5hcmcpO1xuICB9XG59O1xuY29uc3QgZGVmID0gKG9iaiwga2V5LCB2YWx1ZSwgd3JpdGFibGUgPSBmYWxzZSkgPT4ge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGUsXG4gICAgdmFsdWVcbiAgfSk7XG59O1xuY29uc3QgbG9vc2VUb051bWJlciA9ICh2YWwpID0+IHtcbiAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKTtcbiAgcmV0dXJuIGlzTmFOKG4pID8gdmFsIDogbjtcbn07XG5jb25zdCB0b051bWJlciA9ICh2YWwpID0+IHtcbiAgY29uc3QgbiA9IGlzU3RyaW5nKHZhbCkgPyBOdW1iZXIodmFsKSA6IE5hTjtcbiAgcmV0dXJuIGlzTmFOKG4pID8gdmFsIDogbjtcbn07XG5sZXQgX2dsb2JhbFRoaXM7XG5jb25zdCBnZXRHbG9iYWxUaGlzID0gKCkgPT4ge1xuICByZXR1cm4gX2dsb2JhbFRoaXMgfHwgKF9nbG9iYWxUaGlzID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB7fSk7XG59O1xuY29uc3QgaWRlbnRSRSA9IC9eW18kYS16QS1aXFx4QTAtXFx1RkZGRl1bXyRhLXpBLVowLTlcXHhBMC1cXHVGRkZGXSokLztcbmZ1bmN0aW9uIGdlblByb3BzQWNjZXNzRXhwKG5hbWUpIHtcbiAgcmV0dXJuIGlkZW50UkUudGVzdChuYW1lKSA/IGBfX3Byb3BzLiR7bmFtZX1gIDogYF9fcHJvcHNbJHtKU09OLnN0cmluZ2lmeShuYW1lKX1dYDtcbn1cbmZ1bmN0aW9uIGdlbkNhY2hlS2V5KHNvdXJjZSwgb3B0aW9ucykge1xuICByZXR1cm4gc291cmNlICsgSlNPTi5zdHJpbmdpZnkoXG4gICAgb3B0aW9ucyxcbiAgICAoXywgdmFsKSA9PiB0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCIgPyB2YWwudG9TdHJpbmcoKSA6IHZhbFxuICApO1xufVxuXG5jb25zdCBQYXRjaEZsYWdzID0ge1xuICBcIlRFWFRcIjogMSxcbiAgXCIxXCI6IFwiVEVYVFwiLFxuICBcIkNMQVNTXCI6IDIsXG4gIFwiMlwiOiBcIkNMQVNTXCIsXG4gIFwiU1RZTEVcIjogNCxcbiAgXCI0XCI6IFwiU1RZTEVcIixcbiAgXCJQUk9QU1wiOiA4LFxuICBcIjhcIjogXCJQUk9QU1wiLFxuICBcIkZVTExfUFJPUFNcIjogMTYsXG4gIFwiMTZcIjogXCJGVUxMX1BST1BTXCIsXG4gIFwiTkVFRF9IWURSQVRJT05cIjogMzIsXG4gIFwiMzJcIjogXCJORUVEX0hZRFJBVElPTlwiLFxuICBcIlNUQUJMRV9GUkFHTUVOVFwiOiA2NCxcbiAgXCI2NFwiOiBcIlNUQUJMRV9GUkFHTUVOVFwiLFxuICBcIktFWUVEX0ZSQUdNRU5UXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJLRVlFRF9GUkFHTUVOVFwiLFxuICBcIlVOS0VZRURfRlJBR01FTlRcIjogMjU2LFxuICBcIjI1NlwiOiBcIlVOS0VZRURfRlJBR01FTlRcIixcbiAgXCJORUVEX1BBVENIXCI6IDUxMixcbiAgXCI1MTJcIjogXCJORUVEX1BBVENIXCIsXG4gIFwiRFlOQU1JQ19TTE9UU1wiOiAxMDI0LFxuICBcIjEwMjRcIjogXCJEWU5BTUlDX1NMT1RTXCIsXG4gIFwiREVWX1JPT1RfRlJBR01FTlRcIjogMjA0OCxcbiAgXCIyMDQ4XCI6IFwiREVWX1JPT1RfRlJBR01FTlRcIixcbiAgXCJDQUNIRURcIjogLTEsXG4gIFwiLTFcIjogXCJDQUNIRURcIixcbiAgXCJCQUlMXCI6IC0yLFxuICBcIi0yXCI6IFwiQkFJTFwiXG59O1xuY29uc3QgUGF0Y2hGbGFnTmFtZXMgPSB7XG4gIFsxXTogYFRFWFRgLFxuICBbMl06IGBDTEFTU2AsXG4gIFs0XTogYFNUWUxFYCxcbiAgWzhdOiBgUFJPUFNgLFxuICBbMTZdOiBgRlVMTF9QUk9QU2AsXG4gIFszMl06IGBORUVEX0hZRFJBVElPTmAsXG4gIFs2NF06IGBTVEFCTEVfRlJBR01FTlRgLFxuICBbMTI4XTogYEtFWUVEX0ZSQUdNRU5UYCxcbiAgWzI1Nl06IGBVTktFWUVEX0ZSQUdNRU5UYCxcbiAgWzUxMl06IGBORUVEX1BBVENIYCxcbiAgWzEwMjRdOiBgRFlOQU1JQ19TTE9UU2AsXG4gIFsyMDQ4XTogYERFVl9ST09UX0ZSQUdNRU5UYCxcbiAgWy0xXTogYEhPSVNURURgLFxuICBbLTJdOiBgQkFJTGBcbn07XG5cbmNvbnN0IFNoYXBlRmxhZ3MgPSB7XG4gIFwiRUxFTUVOVFwiOiAxLFxuICBcIjFcIjogXCJFTEVNRU5UXCIsXG4gIFwiRlVOQ1RJT05BTF9DT01QT05FTlRcIjogMixcbiAgXCIyXCI6IFwiRlVOQ1RJT05BTF9DT01QT05FTlRcIixcbiAgXCJTVEFURUZVTF9DT01QT05FTlRcIjogNCxcbiAgXCI0XCI6IFwiU1RBVEVGVUxfQ09NUE9ORU5UXCIsXG4gIFwiVEVYVF9DSElMRFJFTlwiOiA4LFxuICBcIjhcIjogXCJURVhUX0NISUxEUkVOXCIsXG4gIFwiQVJSQVlfQ0hJTERSRU5cIjogMTYsXG4gIFwiMTZcIjogXCJBUlJBWV9DSElMRFJFTlwiLFxuICBcIlNMT1RTX0NISUxEUkVOXCI6IDMyLFxuICBcIjMyXCI6IFwiU0xPVFNfQ0hJTERSRU5cIixcbiAgXCJURUxFUE9SVFwiOiA2NCxcbiAgXCI2NFwiOiBcIlRFTEVQT1JUXCIsXG4gIFwiU1VTUEVOU0VcIjogMTI4LFxuICBcIjEyOFwiOiBcIlNVU1BFTlNFXCIsXG4gIFwiQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFXCI6IDI1NixcbiAgXCIyNTZcIjogXCJDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkVcIixcbiAgXCJDT01QT05FTlRfS0VQVF9BTElWRVwiOiA1MTIsXG4gIFwiNTEyXCI6IFwiQ09NUE9ORU5UX0tFUFRfQUxJVkVcIixcbiAgXCJDT01QT05FTlRcIjogNixcbiAgXCI2XCI6IFwiQ09NUE9ORU5UXCJcbn07XG5cbmNvbnN0IFNsb3RGbGFncyA9IHtcbiAgXCJTVEFCTEVcIjogMSxcbiAgXCIxXCI6IFwiU1RBQkxFXCIsXG4gIFwiRFlOQU1JQ1wiOiAyLFxuICBcIjJcIjogXCJEWU5BTUlDXCIsXG4gIFwiRk9SV0FSREVEXCI6IDMsXG4gIFwiM1wiOiBcIkZPUldBUkRFRFwiXG59O1xuY29uc3Qgc2xvdEZsYWdzVGV4dCA9IHtcbiAgWzFdOiBcIlNUQUJMRVwiLFxuICBbMl06IFwiRFlOQU1JQ1wiLFxuICBbM106IFwiRk9SV0FSREVEXCJcbn07XG5cbmNvbnN0IEdMT0JBTFNfQUxMT1dFRCA9IFwiSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTixwYXJzZUZsb2F0LHBhcnNlSW50LGRlY29kZVVSSSxkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCxNYXRoLE51bWJlcixEYXRlLEFycmF5LE9iamVjdCxCb29sZWFuLFN0cmluZyxSZWdFeHAsTWFwLFNldCxKU09OLEludGwsQmlnSW50LGNvbnNvbGUsRXJyb3IsU3ltYm9sXCI7XG5jb25zdCBpc0dsb2JhbGx5QWxsb3dlZCA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKEdMT0JBTFNfQUxMT1dFRCk7XG5jb25zdCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgPSBpc0dsb2JhbGx5QWxsb3dlZDtcblxuY29uc3QgcmFuZ2UgPSAyO1xuZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUoc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgpIHtcbiAgc3RhcnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzdGFydCwgc291cmNlLmxlbmd0aCkpO1xuICBlbmQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihlbmQsIHNvdXJjZS5sZW5ndGgpKTtcbiAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gXCJcIjtcbiAgbGV0IGxpbmVzID0gc291cmNlLnNwbGl0KC8oXFxyP1xcbikvKTtcbiAgY29uc3QgbmV3bGluZVNlcXVlbmNlcyA9IGxpbmVzLmZpbHRlcigoXywgaWR4KSA9PiBpZHggJSAyID09PSAxKTtcbiAgbGluZXMgPSBsaW5lcy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICUgMiA9PT0gMCk7XG4gIGxldCBjb3VudCA9IDA7XG4gIGNvbnN0IHJlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgKG5ld2xpbmVTZXF1ZW5jZXNbaV0gJiYgbmV3bGluZVNlcXVlbmNlc1tpXS5sZW5ndGggfHwgMCk7XG4gICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XG4gICAgICBmb3IgKGxldCBqID0gaSAtIHJhbmdlOyBqIDw9IGkgKyByYW5nZSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XG4gICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBqICsgMTtcbiAgICAgICAgcmVzLnB1c2goXG4gICAgICAgICAgYCR7bGluZX0ke1wiIFwiLnJlcGVhdChNYXRoLm1heCgzIC0gU3RyaW5nKGxpbmUpLmxlbmd0aCwgMCkpfXwgICR7bGluZXNbal19YFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoO1xuICAgICAgICBjb25zdCBuZXdMaW5lU2VxTGVuZ3RoID0gbmV3bGluZVNlcXVlbmNlc1tqXSAmJiBuZXdsaW5lU2VxdWVuY2VzW2pdLmxlbmd0aCB8fCAwO1xuICAgICAgICBpZiAoaiA9PT0gaSkge1xuICAgICAgICAgIGNvbnN0IHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gKGxpbmVMZW5ndGggKyBuZXdMaW5lU2VxTGVuZ3RoKSk7XG4gICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnRcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgXCIgXCIucmVwZWF0KHBhZCkgKyBcIl5cIi5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA+IGkpIHtcbiAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKSwgMSk7XG4gICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArIFwiXlwiLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIG5ld0xpbmVTZXFMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLmpvaW4oXCJcXG5cIik7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlKHZhbHVlKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB2YWx1ZVtpXTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBpc1N0cmluZyhpdGVtKSA/IHBhcnNlU3RyaW5nU3R5bGUoaXRlbSkgOiBub3JtYWxpemVTdHlsZShpdGVtKTtcbiAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICByZXNba2V5XSA9IG5vcm1hbGl6ZWRba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cbmNvbnN0IGxpc3REZWxpbWl0ZXJSRSA9IC87KD8hW14oXSpcXCkpL2c7XG5jb25zdCBwcm9wZXJ0eURlbGltaXRlclJFID0gLzooW15dKykvO1xuY29uc3Qgc3R5bGVDb21tZW50UkUgPSAvXFwvXFwqW15dKj9cXCpcXC8vZztcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nU3R5bGUoY3NzVGV4dCkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgY3NzVGV4dC5yZXBsYWNlKHN0eWxlQ29tbWVudFJFLCBcIlwiKS5zcGxpdChsaXN0RGVsaW1pdGVyUkUpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlclJFKTtcbiAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXRbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5U3R5bGUoc3R5bGVzKSB7XG4gIGlmICghc3R5bGVzKSByZXR1cm4gXCJcIjtcbiAgaWYgKGlzU3RyaW5nKHN0eWxlcykpIHJldHVybiBzdHlsZXM7XG4gIGxldCByZXQgPSBcIlwiO1xuICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1trZXldO1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnN0YXJ0c1dpdGgoYC0tYCkgPyBrZXkgOiBoeXBoZW5hdGUoa2V5KTtcbiAgICAgIHJldCArPSBgJHtub3JtYWxpemVkS2V5fToke3ZhbHVlfTtgO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3ModmFsdWUpIHtcbiAgbGV0IHJlcyA9IFwiXCI7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXMgPSB2YWx1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVDbGFzcyh2YWx1ZVtpXSk7XG4gICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICByZXMgKz0gbm9ybWFsaXplZCArIFwiIFwiO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZVtuYW1lXSkge1xuICAgICAgICByZXMgKz0gbmFtZSArIFwiIFwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLnRyaW0oKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHJldHVybiBudWxsO1xuICBsZXQgeyBjbGFzczoga2xhc3MsIHN0eWxlIH0gPSBwcm9wcztcbiAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgfVxuICBpZiAoc3R5bGUpIHtcbiAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgfVxuICByZXR1cm4gcHJvcHM7XG59XG5cbmNvbnN0IEhUTUxfVEFHUyA9IFwiaHRtbCxib2R5LGJhc2UsaGVhZCxsaW5rLG1ldGEsc3R5bGUsdGl0bGUsYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaGdyb3VwLGgxLGgyLGgzLGg0LGg1LGg2LG5hdixzZWN0aW9uLGRpdixkZCxkbCxkdCxmaWdjYXB0aW9uLGZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLGEsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLGRhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLHRpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCxvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LHN1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3RcIjtcbmNvbnN0IFNWR19UQUdTID0gXCJzdmcsYW5pbWF0ZSxhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGNsaXBQYXRoLGNvbG9yLXByb2ZpbGUsZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlcixmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLGZlRGlzdGFudExpZ2h0LGZlRHJvcFNoYWRvdyxmZUZsb29kLGZlRnVuY0EsZmVGdW5jQixmZUZ1bmNHLGZlRnVuY1IsZmVHYXVzc2lhbkJsdXIsZmVJbWFnZSxmZU1lcmdlLGZlTWVyZ2VOb2RlLGZlTW9ycGhvbG9neSxmZU9mZnNldCxmZVBvaW50TGlnaHQsZmVTcGVjdWxhckxpZ2h0aW5nLGZlU3BvdExpZ2h0LGZlVGlsZSxmZVR1cmJ1bGVuY2UsZmlsdGVyLGZvcmVpZ25PYmplY3QsZyxoYXRjaCxoYXRjaHBhdGgsaW1hZ2UsbGluZSxsaW5lYXJHcmFkaWVudCxtYXJrZXIsbWFzayxtZXNoLG1lc2hncmFkaWVudCxtZXNocGF0Y2gsbWVzaHJvdyxtZXRhZGF0YSxtcGF0aCxwYXRoLHBhdHRlcm4scG9seWdvbixwb2x5bGluZSxyYWRpYWxHcmFkaWVudCxyZWN0LHNldCxzb2xpZGNvbG9yLHN0b3Asc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRQYXRoLHRpdGxlLHRzcGFuLHVua25vd24sdXNlLHZpZXdcIjtcbmNvbnN0IE1BVEhfVEFHUyA9IFwiYW5ub3RhdGlvbixhbm5vdGF0aW9uLXhtbCxtYWN0aW9uLG1hbGlnbmdyb3VwLG1hbGlnbm1hcmssbWF0aCxtZW5jbG9zZSxtZXJyb3IsbWZlbmNlZCxtZnJhYyxtZnJhY3Rpb24sbWdseXBoLG1pLG1sYWJlbGVkdHIsbWxvbmdkaXYsbW11bHRpc2NyaXB0cyxtbixtbyxtb3ZlcixtcGFkZGVkLG1waGFudG9tLG1wcmVzY3JpcHRzLG1yb290LG1yb3csbXMsbXNjYXJyaWVzLG1zY2FycnksbXNncm91cCxtc2xpbmUsbXNwYWNlLG1zcXJ0LG1zcm93LG1zdGFjayxtc3R5bGUsbXN1Yixtc3Vic3VwLG1zdXAsbXRhYmxlLG10ZCxtdGV4dCxtdHIsbXVuZGVyLG11bmRlcm92ZXIsbm9uZSxzZW1hbnRpY3NcIjtcbmNvbnN0IFZPSURfVEFHUyA9IFwiYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnJcIjtcbmNvbnN0IGlzSFRNTFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKEhUTUxfVEFHUyk7XG5jb25zdCBpc1NWR1RhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFNWR19UQUdTKTtcbmNvbnN0IGlzTWF0aE1MVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoTUFUSF9UQUdTKTtcbmNvbnN0IGlzVm9pZFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFZPSURfVEFHUyk7XG5cbmNvbnN0IHNwZWNpYWxCb29sZWFuQXR0cnMgPSBgaXRlbXNjb3BlLGFsbG93ZnVsbHNjcmVlbixmb3Jtbm92YWxpZGF0ZSxpc21hcCxub21vZHVsZSxub3ZhbGlkYXRlLHJlYWRvbmx5YDtcbmNvbnN0IGlzU3BlY2lhbEJvb2xlYW5BdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyk7XG5jb25zdCBpc0Jvb2xlYW5BdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIHNwZWNpYWxCb29sZWFuQXR0cnMgKyBgLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjb250cm9scyxkZWZhdWx0LGRlZmVyLGRpc2FibGVkLGhpZGRlbixpbmVydCxsb29wLG9wZW4scmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLGNoZWNrZWQsbXV0ZWQsbXVsdGlwbGUsc2VsZWN0ZWRgXG4pO1xuZnVuY3Rpb24gaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlIHx8IHZhbHVlID09PSBcIlwiO1xufVxuY29uc3QgdW5zYWZlQXR0ckNoYXJSRSA9IC9bPi89XCInXFx1MDAwOVxcdTAwMGFcXHUwMDBjXFx1MDAyMF0vO1xuY29uc3QgYXR0clZhbGlkYXRpb25DYWNoZSA9IHt9O1xuZnVuY3Rpb24gaXNTU1JTYWZlQXR0ck5hbWUobmFtZSkge1xuICBpZiAoYXR0clZhbGlkYXRpb25DYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgIHJldHVybiBhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdO1xuICB9XG4gIGNvbnN0IGlzVW5zYWZlID0gdW5zYWZlQXR0ckNoYXJSRS50ZXN0KG5hbWUpO1xuICBpZiAoaXNVbnNhZmUpIHtcbiAgICBjb25zb2xlLmVycm9yKGB1bnNhZmUgYXR0cmlidXRlIG5hbWU6ICR7bmFtZX1gKTtcbiAgfVxuICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXSA9ICFpc1Vuc2FmZTtcbn1cbmNvbnN0IHByb3BzVG9BdHRyTWFwID0ge1xuICBhY2NlcHRDaGFyc2V0OiBcImFjY2VwdC1jaGFyc2V0XCIsXG4gIGNsYXNzTmFtZTogXCJjbGFzc1wiLFxuICBodG1sRm9yOiBcImZvclwiLFxuICBodHRwRXF1aXY6IFwiaHR0cC1lcXVpdlwiXG59O1xuY29uc3QgaXNLbm93bkh0bWxBdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIGBhY2NlcHQsYWNjZXB0LWNoYXJzZXQsYWNjZXNza2V5LGFjdGlvbixhbGlnbixhbGxvdyxhbHQsYXN5bmMsYXV0b2NhcGl0YWxpemUsYXV0b2NvbXBsZXRlLGF1dG9mb2N1cyxhdXRvcGxheSxiYWNrZ3JvdW5kLGJnY29sb3IsYm9yZGVyLGJ1ZmZlcmVkLGNhcHR1cmUsY2hhbGxlbmdlLGNoYXJzZXQsY2hlY2tlZCxjaXRlLGNsYXNzLGNvZGUsY29kZWJhc2UsY29sb3IsY29scyxjb2xzcGFuLGNvbnRlbnQsY29udGVudGVkaXRhYmxlLGNvbnRleHRtZW51LGNvbnRyb2xzLGNvb3Jkcyxjcm9zc29yaWdpbixjc3AsZGF0YSxkYXRldGltZSxkZWNvZGluZyxkZWZhdWx0LGRlZmVyLGRpcixkaXJuYW1lLGRpc2FibGVkLGRvd25sb2FkLGRyYWdnYWJsZSxkcm9wem9uZSxlbmN0eXBlLGVudGVya2V5aGludCxmb3IsZm9ybSxmb3JtYWN0aW9uLGZvcm1lbmN0eXBlLGZvcm1tZXRob2QsZm9ybW5vdmFsaWRhdGUsZm9ybXRhcmdldCxoZWFkZXJzLGhlaWdodCxoaWRkZW4saGlnaCxocmVmLGhyZWZsYW5nLGh0dHAtZXF1aXYsaWNvbixpZCxpbXBvcnRhbmNlLGluZXJ0LGludGVncml0eSxpc21hcCxpdGVtcHJvcCxrZXl0eXBlLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb2FkaW5nLGxpc3QsbG9vcCxsb3csbWFuaWZlc3QsbWF4LG1heGxlbmd0aCxtaW5sZW5ndGgsbWVkaWEsbWluLG11bHRpcGxlLG11dGVkLG5hbWUsbm92YWxpZGF0ZSxvcGVuLG9wdGltdW0scGF0dGVybixwaW5nLHBsYWNlaG9sZGVyLHBvc3RlcixwcmVsb2FkLHJhZGlvZ3JvdXAscmVhZG9ubHkscmVmZXJyZXJwb2xpY3kscmVsLHJlcXVpcmVkLHJldmVyc2VkLHJvd3Mscm93c3BhbixzYW5kYm94LHNjb3BlLHNjb3BlZCxzZWxlY3RlZCxzaGFwZSxzaXplLHNpemVzLHNsb3Qsc3BhbixzcGVsbGNoZWNrLHNyYyxzcmNkb2Msc3JjbGFuZyxzcmNzZXQsc3RhcnQsc3RlcCxzdHlsZSxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsdmFsdWUsd2lkdGgsd3JhcGBcbik7XG5jb25zdCBpc0tub3duU3ZnQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgeG1sbnMsYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFsaWdubWVudC1iYXNlbGluZSxhbHBoYWJldGljLGFtcGxpdHVkZSxhcmFiaWMtZm9ybSxhc2NlbnQsYXR0cmlidXRlTmFtZSxhdHRyaWJ1dGVUeXBlLGF6aW11dGgsYmFzZUZyZXF1ZW5jeSxiYXNlbGluZS1zaGlmdCxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJpYXMsYnksY2FsY01vZGUsY2FwLWhlaWdodCxjbGFzcyxjbGlwLGNsaXBQYXRoVW5pdHMsY2xpcC1wYXRoLGNsaXAtcnVsZSxjb2xvcixjb2xvci1pbnRlcnBvbGF0aW9uLGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyxjb2xvci1wcm9maWxlLGNvbG9yLXJlbmRlcmluZyxjb250ZW50U2NyaXB0VHlwZSxjb250ZW50U3R5bGVUeXBlLGNyb3Nzb3JpZ2luLGN1cnNvcixjeCxjeSxkLGRlY2VsZXJhdGUsZGVzY2VudCxkaWZmdXNlQ29uc3RhbnQsZGlyZWN0aW9uLGRpc3BsYXksZGl2aXNvcixkb21pbmFudC1iYXNlbGluZSxkdXIsZHgsZHksZWRnZU1vZGUsZWxldmF0aW9uLGVuYWJsZS1iYWNrZ3JvdW5kLGVuZCxleHBvbmVudCxmaWxsLGZpbGwtb3BhY2l0eSxmaWxsLXJ1bGUsZmlsdGVyLGZpbHRlclJlcyxmaWx0ZXJVbml0cyxmbG9vZC1jb2xvcixmbG9vZC1vcGFjaXR5LGZvbnQtZmFtaWx5LGZvbnQtc2l6ZSxmb250LXNpemUtYWRqdXN0LGZvbnQtc3RyZXRjaCxmb250LXN0eWxlLGZvbnQtdmFyaWFudCxmb250LXdlaWdodCxmb3JtYXQsZnJvbSxmcixmeCxmeSxnMSxnMixnbHlwaC1uYW1lLGdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwsZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwsZ2x5cGhSZWYsZ3JhZGllbnRUcmFuc2Zvcm0sZ3JhZGllbnRVbml0cyxoYW5naW5nLGhlaWdodCxocmVmLGhyZWZsYW5nLGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkLGlkZW9ncmFwaGljLGltYWdlLXJlbmRlcmluZyxpbixpbjIsaW50ZXJjZXB0LGssazEsazIsazMsazQsa2VybmVsTWF0cml4LGtlcm5lbFVuaXRMZW5ndGgsa2VybmluZyxrZXlQb2ludHMsa2V5U3BsaW5lcyxrZXlUaW1lcyxsYW5nLGxlbmd0aEFkanVzdCxsZXR0ZXItc3BhY2luZyxsaWdodGluZy1jb2xvcixsaW1pdGluZ0NvbmVBbmdsZSxsb2NhbCxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXNrLG1hc2tDb250ZW50VW5pdHMsbWFza1VuaXRzLG1hdGhlbWF0aWNhbCxtYXgsbWVkaWEsbWV0aG9kLG1pbixtb2RlLG5hbWUsbnVtT2N0YXZlcyxvZmZzZXQsb3BhY2l0eSxvcGVyYXRvcixvcmRlcixvcmllbnQsb3JpZW50YXRpb24sb3JpZ2luLG92ZXJmbG93LG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYWludC1vcmRlcixwYXRoLHBhdGhMZW5ndGgscGF0dGVybkNvbnRlbnRVbml0cyxwYXR0ZXJuVHJhbnNmb3JtLHBhdHRlcm5Vbml0cyxwaW5nLHBvaW50ZXItZXZlbnRzLHBvaW50cyxwb2ludHNBdFgscG9pbnRzQXRZLHBvaW50c0F0WixwcmVzZXJ2ZUFscGhhLHByZXNlcnZlQXNwZWN0UmF0aW8scHJpbWl0aXZlVW5pdHMscixyYWRpdXMscmVmZXJyZXJQb2xpY3kscmVmWCxyZWZZLHJlbCxyZW5kZXJpbmctaW50ZW50LHJlcGVhdENvdW50LHJlcGVhdER1cixyZXF1aXJlZEV4dGVuc2lvbnMscmVxdWlyZWRGZWF0dXJlcyxyZXN0YXJ0LHJlc3VsdCxyb3RhdGUscngscnksc2NhbGUsc2VlZCxzaGFwZS1yZW5kZXJpbmcsc2xvcGUsc3BhY2luZyxzcGVjdWxhckNvbnN0YW50LHNwZWN1bGFyRXhwb25lbnQsc3BlZWQsc3ByZWFkTWV0aG9kLHN0YXJ0T2Zmc2V0LHN0ZERldmlhdGlvbixzdGVtaCxzdGVtdixzdGl0Y2hUaWxlcyxzdG9wLWNvbG9yLHN0b3Atb3BhY2l0eSxzdHJpa2V0aHJvdWdoLXBvc2l0aW9uLHN0cmlrZXRocm91Z2gtdGhpY2tuZXNzLHN0cmluZyxzdHJva2Usc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxzdHJva2UtbGluZWNhcCxzdHJva2UtbGluZWpvaW4sc3Ryb2tlLW1pdGVybGltaXQsc3Ryb2tlLW9wYWNpdHksc3Ryb2tlLXdpZHRoLHN0eWxlLHN1cmZhY2VTY2FsZSxzeXN0ZW1MYW5ndWFnZSx0YWJpbmRleCx0YWJsZVZhbHVlcyx0YXJnZXQsdGFyZ2V0WCx0YXJnZXRZLHRleHQtYW5jaG9yLHRleHQtZGVjb3JhdGlvbix0ZXh0LXJlbmRlcmluZyx0ZXh0TGVuZ3RoLHRvLHRyYW5zZm9ybSx0cmFuc2Zvcm0tb3JpZ2luLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLWJpZGksdW5pY29kZS1yYW5nZSx1bml0cy1wZXItZW0sdi1hbHBoYWJldGljLHYtaGFuZ2luZyx2LWlkZW9ncmFwaGljLHYtbWF0aGVtYXRpY2FsLHZhbHVlcyx2ZWN0b3ItZWZmZWN0LHZlcnNpb24sdmVydC1hZHYteSx2ZXJ0LW9yaWdpbi14LHZlcnQtb3JpZ2luLXksdmlld0JveCx2aWV3VGFyZ2V0LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHdvcmQtc3BhY2luZyx3cml0aW5nLW1vZGUseCx4LWhlaWdodCx4MSx4Mix4Q2hhbm5lbFNlbGVjdG9yLHhsaW5rOmFjdHVhdGUseGxpbms6YXJjcm9sZSx4bGluazpocmVmLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbG5zOnhsaW5rLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx5LHkxLHkyLHlDaGFubmVsU2VsZWN0b3Iseix6b29tQW5kUGFuYFxuKTtcbmNvbnN0IGlzS25vd25NYXRoTUxBdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIGBhY2NlbnQsYWNjZW50dW5kZXIsYWN0aW9udHlwZSxhbGlnbixhbGlnbm1lbnRzY29wZSxhbHRpbWcsYWx0aW1nLWhlaWdodCxhbHRpbWctdmFsaWduLGFsdGltZy13aWR0aCxhbHR0ZXh0LGJldmVsbGVkLGNsb3NlLGNvbHVtbnNhbGlnbixjb2x1bW5saW5lcyxjb2x1bW5zcGFuLGRlbm9tYWxpZ24sZGVwdGgsZGlyLGRpc3BsYXksZGlzcGxheXN0eWxlLGVuY29kaW5nLGVxdWFsY29sdW1ucyxlcXVhbHJvd3MsZmVuY2UsZm9udHN0eWxlLGZvbnR3ZWlnaHQsZm9ybSxmcmFtZSxmcmFtZXNwYWNpbmcsZ3JvdXBhbGlnbixoZWlnaHQsaHJlZixpZCxpbmRlbnRhbGlnbixpbmRlbnRhbGlnbmZpcnN0LGluZGVudGFsaWdubGFzdCxpbmRlbnRzaGlmdCxpbmRlbnRzaGlmdGZpcnN0LGluZGVudHNoaWZ0bGFzdCxpbmRleHR5cGUsanVzdGlmeSxsYXJnZXRvcCxsYXJnZW9wLGxxdW90ZSxsc3BhY2UsbWF0aGJhY2tncm91bmQsbWF0aGNvbG9yLG1hdGhzaXplLG1hdGh2YXJpYW50LG1heHNpemUsbWlubGFiZWxzcGFjaW5nLG1vZGUsb3RoZXIsb3ZlcmZsb3cscG9zaXRpb24scm93YWxpZ24scm93bGluZXMscm93c3BhbixycXVvdGUscnNwYWNlLHNjcmlwdGxldmVsLHNjcmlwdG1pbnNpemUsc2NyaXB0c2l6ZW11bHRpcGxpZXIsc2VsZWN0aW9uLHNlcGFyYXRvcixzZXBhcmF0b3JzLHNoaWZ0LHNpZGUsc3JjLHN0YWNrYWxpZ24sc3RyZXRjaHksc3Vic2NyaXB0c2hpZnQsc3VwZXJzY3JpcHRzaGlmdCxzeW1tZXRyaWMsdm9mZnNldCx3aWR0aCx3aWR0aHMseGxpbms6aHJlZix4bGluazpzaG93LHhsaW5rOnR5cGUseG1sbnNgXG4pO1xuZnVuY3Rpb24gaXNSZW5kZXJhYmxlQXR0clZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB0eXBlID09PSBcInN0cmluZ1wiIHx8IHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJib29sZWFuXCI7XG59XG5cbmNvbnN0IGVzY2FwZVJFID0gL1tcIicmPD5dLztcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyaW5nKSB7XG4gIGNvbnN0IHN0ciA9IFwiXCIgKyBzdHJpbmc7XG4gIGNvbnN0IG1hdGNoID0gZXNjYXBlUkUuZXhlYyhzdHIpO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBsZXQgaHRtbCA9IFwiXCI7XG4gIGxldCBlc2NhcGVkO1xuICBsZXQgaW5kZXg7XG4gIGxldCBsYXN0SW5kZXggPSAwO1xuICBmb3IgKGluZGV4ID0gbWF0Y2guaW5kZXg7IGluZGV4IDwgc3RyLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIHN3aXRjaCAoc3RyLmNoYXJDb2RlQXQoaW5kZXgpKSB7XG4gICAgICBjYXNlIDM0OlxuICAgICAgICBlc2NhcGVkID0gXCImcXVvdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM4OlxuICAgICAgICBlc2NhcGVkID0gXCImYW1wO1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzk6XG4gICAgICAgIGVzY2FwZWQgPSBcIiYjMzk7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2MDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmx0O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjI6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZndDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGxhc3RJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGh0bWwgKz0gc3RyLnNsaWNlKGxhc3RJbmRleCwgaW5kZXgpO1xuICAgIH1cbiAgICBsYXN0SW5kZXggPSBpbmRleCArIDE7XG4gICAgaHRtbCArPSBlc2NhcGVkO1xuICB9XG4gIHJldHVybiBsYXN0SW5kZXggIT09IGluZGV4ID8gaHRtbCArIHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KSA6IGh0bWw7XG59XG5jb25zdCBjb21tZW50U3RyaXBSRSA9IC9eLT8+fDwhLS18LS0+fC0tIT58PCEtJC9nO1xuZnVuY3Rpb24gZXNjYXBlSHRtbENvbW1lbnQoc3JjKSB7XG4gIHJldHVybiBzcmMucmVwbGFjZShjb21tZW50U3RyaXBSRSwgXCJcIik7XG59XG5jb25zdCBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFID0gL1sgIVwiIyQlJicoKSorLC4vOjs8PT4/QFtcXFxcXFxdXmB7fH1+XS9nO1xuZnVuY3Rpb24gZ2V0RXNjYXBlZENzc1Zhck5hbWUoa2V5LCBkb3VibGVFc2NhcGUpIHtcbiAgcmV0dXJuIGtleS5yZXBsYWNlKFxuICAgIGNzc1Zhck5hbWVFc2NhcGVTeW1ib2xzUkUsXG4gICAgKHMpID0+IGRvdWJsZUVzY2FwZSA/IHMgPT09ICdcIicgPyAnXFxcXFxcXFxcXFxcXCInIDogYFxcXFxcXFxcJHtzfWAgOiBgXFxcXCR7c31gXG4gICk7XG59XG5cbmZ1bmN0aW9uIGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgbGV0IGVxdWFsID0gdHJ1ZTtcbiAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgZXF1YWwgPSBsb29zZUVxdWFsKGFbaV0sIGJbaV0pO1xuICB9XG4gIHJldHVybiBlcXVhbDtcbn1cbmZ1bmN0aW9uIGxvb3NlRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG4gIGxldCBhVmFsaWRUeXBlID0gaXNEYXRlKGEpO1xuICBsZXQgYlZhbGlkVHlwZSA9IGlzRGF0ZShiKTtcbiAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xuICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCkgOiBmYWxzZTtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNTeW1ib2woYSk7XG4gIGJWYWxpZFR5cGUgPSBpc1N5bWJvbChiKTtcbiAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9XG4gIGFWYWxpZFR5cGUgPSBpc0FycmF5KGEpO1xuICBiVmFsaWRUeXBlID0gaXNBcnJheShiKTtcbiAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xuICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikgOiBmYWxzZTtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNPYmplY3QoYSk7XG4gIGJWYWxpZFR5cGUgPSBpc09iamVjdChiKTtcbiAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xuICAgIGlmICghYVZhbGlkVHlwZSB8fCAhYlZhbGlkVHlwZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBhS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYSkubGVuZ3RoO1xuICAgIGNvbnN0IGJLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhiKS5sZW5ndGg7XG4gICAgaWYgKGFLZXlzQ291bnQgIT09IGJLZXlzQ291bnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYSkge1xuICAgICAgY29uc3QgYUhhc0tleSA9IGEuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgIGNvbnN0IGJIYXNLZXkgPSBiLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBpZiAoYUhhc0tleSAmJiAhYkhhc0tleSB8fCAhYUhhc0tleSAmJiBiSGFzS2V5IHx8ICFsb29zZUVxdWFsKGFba2V5XSwgYltrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcbn1cbmZ1bmN0aW9uIGxvb3NlSW5kZXhPZihhcnIsIHZhbCkge1xuICByZXR1cm4gYXJyLmZpbmRJbmRleCgoaXRlbSkgPT4gbG9vc2VFcXVhbChpdGVtLCB2YWwpKTtcbn1cblxuY29uc3QgaXNSZWYgPSAodmFsKSA9PiB7XG4gIHJldHVybiAhISh2YWwgJiYgdmFsW1wiX192X2lzUmVmXCJdID09PSB0cnVlKTtcbn07XG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XG4gIHJldHVybiBpc1N0cmluZyh2YWwpID8gdmFsIDogdmFsID09IG51bGwgPyBcIlwiIDogaXNBcnJheSh2YWwpIHx8IGlzT2JqZWN0KHZhbCkgJiYgKHZhbC50b1N0cmluZyA9PT0gb2JqZWN0VG9TdHJpbmcgfHwgIWlzRnVuY3Rpb24odmFsLnRvU3RyaW5nKSkgPyBpc1JlZih2YWwpID8gdG9EaXNwbGF5U3RyaW5nKHZhbC52YWx1ZSkgOiBKU09OLnN0cmluZ2lmeSh2YWwsIHJlcGxhY2VyLCAyKSA6IFN0cmluZyh2YWwpO1xufTtcbmNvbnN0IHJlcGxhY2VyID0gKF9rZXksIHZhbCkgPT4ge1xuICBpZiAoaXNSZWYodmFsKSkge1xuICAgIHJldHVybiByZXBsYWNlcihfa2V5LCB2YWwudmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzTWFwKHZhbCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW2BNYXAoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwuZW50cmllcygpXS5yZWR1Y2UoXG4gICAgICAgIChlbnRyaWVzLCBba2V5LCB2YWwyXSwgaSkgPT4ge1xuICAgICAgICAgIGVudHJpZXNbc3RyaW5naWZ5U3ltYm9sKGtleSwgaSkgKyBcIiA9PlwiXSA9IHZhbDI7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc1NldCh2YWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXS5tYXAoKHYpID0+IHN0cmluZ2lmeVN5bWJvbCh2KSlcbiAgICB9O1xuICB9IGVsc2UgaWYgKGlzU3ltYm9sKHZhbCkpIHtcbiAgICByZXR1cm4gc3RyaW5naWZ5U3ltYm9sKHZhbCk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSAmJiAhaXNBcnJheSh2YWwpICYmICFpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbCk7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn07XG5jb25zdCBzdHJpbmdpZnlTeW1ib2wgPSAodiwgaSA9IFwiXCIpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKFxuICAgIC8vIFN5bWJvbC5kZXNjcmlwdGlvbiBpbiBlczIwMTkrIHNvIHdlIG5lZWQgdG8gY2FzdCBoZXJlIHRvIHBhc3NcbiAgICAvLyB0aGUgbGliOiBlczIwMTYgY2hlY2tcbiAgICBpc1N5bWJvbCh2KSA/IGBTeW1ib2woJHsoX2EgPSB2LmRlc2NyaXB0aW9uKSAhPSBudWxsID8gX2EgOiBpfSlgIDogdlxuICApO1xufTtcblxuZXhwb3J0IHsgRU1QVFlfQVJSLCBFTVBUWV9PQkosIE5PLCBOT09QLCBQYXRjaEZsYWdOYW1lcywgUGF0Y2hGbGFncywgU2hhcGVGbGFncywgU2xvdEZsYWdzLCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgY3NzVmFyTmFtZUVzY2FwZVN5bWJvbHNSRSwgZGVmLCBlc2NhcGVIdG1sLCBlc2NhcGVIdG1sQ29tbWVudCwgZXh0ZW5kLCBnZW5DYWNoZUtleSwgZ2VuUHJvcHNBY2Nlc3NFeHAsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZXRFc2NhcGVkQ3NzVmFyTmFtZSwgZ2V0R2xvYmFsVGhpcywgaGFzQ2hhbmdlZCwgaGFzT3duLCBoeXBoZW5hdGUsIGluY2x1ZGVCb29sZWFuQXR0ciwgaW52b2tlQXJyYXlGbnMsIGlzQXJyYXksIGlzQm9vbGVhbkF0dHIsIGlzQnVpbHRJbkRpcmVjdGl2ZSwgaXNEYXRlLCBpc0Z1bmN0aW9uLCBpc0dsb2JhbGx5QWxsb3dlZCwgaXNHbG9iYWxseVdoaXRlbGlzdGVkLCBpc0hUTUxUYWcsIGlzSW50ZWdlcktleSwgaXNLbm93bkh0bWxBdHRyLCBpc0tub3duTWF0aE1MQXR0ciwgaXNLbm93blN2Z0F0dHIsIGlzTWFwLCBpc01hdGhNTFRhZywgaXNNb2RlbExpc3RlbmVyLCBpc09iamVjdCwgaXNPbiwgaXNQbGFpbk9iamVjdCwgaXNQcm9taXNlLCBpc1JlZ0V4cCwgaXNSZW5kZXJhYmxlQXR0clZhbHVlLCBpc1Jlc2VydmVkUHJvcCwgaXNTU1JTYWZlQXR0ck5hbWUsIGlzU1ZHVGFnLCBpc1NldCwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzU3RyaW5nLCBpc1N5bWJvbCwgaXNWb2lkVGFnLCBsb29zZUVxdWFsLCBsb29zZUluZGV4T2YsIGxvb3NlVG9OdW1iZXIsIG1ha2VNYXAsIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiLyoqXG4qIEB2dWUvcmVhY3Rpdml0eSB2My41LjEzXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBoYXNDaGFuZ2VkLCBleHRlbmQsIGlzQXJyYXksIGlzSW50ZWdlcktleSwgaXNTeW1ib2wsIGlzTWFwLCBoYXNPd24sIGlzT2JqZWN0LCBtYWtlTWFwLCB0b1Jhd1R5cGUsIGNhcGl0YWxpemUsIGRlZiwgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBpc1NldCwgaXNQbGFpbk9iamVjdCwgTk9PUCwgcmVtb3ZlIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xuICBjb25zb2xlLndhcm4oYFtWdWUgd2Fybl0gJHttc2d9YCwgLi4uYXJncyk7XG59XG5cbmxldCBhY3RpdmVFZmZlY3RTY29wZTtcbmNsYXNzIEVmZmVjdFNjb3BlIHtcbiAgY29uc3RydWN0b3IoZGV0YWNoZWQgPSBmYWxzZSkge1xuICAgIHRoaXMuZGV0YWNoZWQgPSBkZXRhY2hlZDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZWZmZWN0cyA9IFtdO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuY2xlYW51cHMgPSBbXTtcbiAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMucGFyZW50ID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgaWYgKCFkZXRhY2hlZCAmJiBhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgICAgdGhpcy5pbmRleCA9IChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgfHwgKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyA9IFtdKSkucHVzaChcbiAgICAgICAgdGhpc1xuICAgICAgKSAtIDE7XG4gICAgfVxuICB9XG4gIGdldCBhY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgfVxuICBwYXVzZSgpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgICBsZXQgaSwgbDtcbiAgICAgIGlmICh0aGlzLnNjb3Blcykge1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zY29wZXNbaV0ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXN1bWVzIHRoZSBlZmZlY3Qgc2NvcGUsIGluY2x1ZGluZyBhbGwgY2hpbGQgc2NvcGVzIGFuZCBlZmZlY3RzLlxuICAgKi9cbiAgcmVzdW1lKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIGlmICh0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgaSwgbDtcbiAgICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuc2NvcGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zY29wZXNbaV0ucmVzdW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmVmZmVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJ1bihmbikge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRFZmZlY3RTY29wZSA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gY3VycmVudEVmZmVjdFNjb3BlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihgY2Fubm90IHJ1biBhbiBpbmFjdGl2ZSBlZmZlY3Qgc2NvcGUuYCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgb24oKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgb2ZmKCkge1xuICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcy5wYXJlbnQ7XG4gIH1cbiAgc3RvcChmcm9tUGFyZW50KSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICBsZXQgaSwgbDtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmVmZmVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZWZmZWN0c1tpXS5zdG9wKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmVmZmVjdHMubGVuZ3RoID0gMDtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmNsZWFudXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmNsZWFudXBzW2ldKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmNsZWFudXBzLmxlbmd0aCA9IDA7XG4gICAgICBpZiAodGhpcy5zY29wZXMpIHtcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuc2NvcGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHRoaXMuc2NvcGVzW2ldLnN0b3AodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY29wZXMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5kZXRhY2hlZCAmJiB0aGlzLnBhcmVudCAmJiAhZnJvbVBhcmVudCkge1xuICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wYXJlbnQuc2NvcGVzLnBvcCgpO1xuICAgICAgICBpZiAobGFzdCAmJiBsYXN0ICE9PSB0aGlzKSB7XG4gICAgICAgICAgdGhpcy5wYXJlbnQuc2NvcGVzW3RoaXMuaW5kZXhdID0gbGFzdDtcbiAgICAgICAgICBsYXN0LmluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5wYXJlbnQgPSB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBlZmZlY3RTY29wZShkZXRhY2hlZCkge1xuICByZXR1cm4gbmV3IEVmZmVjdFNjb3BlKGRldGFjaGVkKTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcbiAgcmV0dXJuIGFjdGl2ZUVmZmVjdFNjb3BlO1xufVxuZnVuY3Rpb24gb25TY29wZURpc3Bvc2UoZm4sIGZhaWxTaWxlbnRseSA9IGZhbHNlKSB7XG4gIGlmIChhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgIGFjdGl2ZUVmZmVjdFNjb3BlLmNsZWFudXBzLnB1c2goZm4pO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWZhaWxTaWxlbnRseSkge1xuICAgIHdhcm4oXG4gICAgICBgb25TY29wZURpc3Bvc2UoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgZWZmZWN0IHNjb3BlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC5gXG4gICAgKTtcbiAgfVxufVxuXG5sZXQgYWN0aXZlU3ViO1xuY29uc3QgRWZmZWN0RmxhZ3MgPSB7XG4gIFwiQUNUSVZFXCI6IDEsXG4gIFwiMVwiOiBcIkFDVElWRVwiLFxuICBcIlJVTk5JTkdcIjogMixcbiAgXCIyXCI6IFwiUlVOTklOR1wiLFxuICBcIlRSQUNLSU5HXCI6IDQsXG4gIFwiNFwiOiBcIlRSQUNLSU5HXCIsXG4gIFwiTk9USUZJRURcIjogOCxcbiAgXCI4XCI6IFwiTk9USUZJRURcIixcbiAgXCJESVJUWVwiOiAxNixcbiAgXCIxNlwiOiBcIkRJUlRZXCIsXG4gIFwiQUxMT1dfUkVDVVJTRVwiOiAzMixcbiAgXCIzMlwiOiBcIkFMTE9XX1JFQ1VSU0VcIixcbiAgXCJQQVVTRURcIjogNjQsXG4gIFwiNjRcIjogXCJQQVVTRURcIlxufTtcbmNvbnN0IHBhdXNlZFF1ZXVlRWZmZWN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuY2xhc3MgUmVhY3RpdmVFZmZlY3Qge1xuICBjb25zdHJ1Y3Rvcihmbikge1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZsYWdzID0gMSB8IDQ7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuY2xlYW51cCA9IHZvaWQgMDtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHZvaWQgMDtcbiAgICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUgJiYgYWN0aXZlRWZmZWN0U2NvcGUuYWN0aXZlKSB7XG4gICAgICBhY3RpdmVFZmZlY3RTY29wZS5lZmZlY3RzLnB1c2godGhpcyk7XG4gICAgfVxuICB9XG4gIHBhdXNlKCkge1xuICAgIHRoaXMuZmxhZ3MgfD0gNjQ7XG4gIH1cbiAgcmVzdW1lKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgNjQpIHtcbiAgICAgIHRoaXMuZmxhZ3MgJj0gfjY0O1xuICAgICAgaWYgKHBhdXNlZFF1ZXVlRWZmZWN0cy5oYXModGhpcykpIHtcbiAgICAgICAgcGF1c2VkUXVldWVFZmZlY3RzLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeSgpIHtcbiAgICBpZiAodGhpcy5mbGFncyAmIDIgJiYgISh0aGlzLmZsYWdzICYgMzIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghKHRoaXMuZmxhZ3MgJiA4KSkge1xuICAgICAgYmF0Y2godGhpcyk7XG4gICAgfVxuICB9XG4gIHJ1bigpIHtcbiAgICBpZiAoISh0aGlzLmZsYWdzICYgMSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfVxuICAgIHRoaXMuZmxhZ3MgfD0gMjtcbiAgICBjbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgIHByZXBhcmVEZXBzKHRoaXMpO1xuICAgIGNvbnN0IHByZXZFZmZlY3QgPSBhY3RpdmVTdWI7XG4gICAgY29uc3QgcHJldlNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gICAgYWN0aXZlU3ViID0gdGhpcztcbiAgICBzaG91bGRUcmFjayA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGFjdGl2ZVN1YiAhPT0gdGhpcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQWN0aXZlIGVmZmVjdCB3YXMgbm90IHJlc3RvcmVkIGNvcnJlY3RseSAtIHRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFsIGJ1Zy5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2xlYW51cERlcHModGhpcyk7XG4gICAgICBhY3RpdmVTdWIgPSBwcmV2RWZmZWN0O1xuICAgICAgc2hvdWxkVHJhY2sgPSBwcmV2U2hvdWxkVHJhY2s7XG4gICAgICB0aGlzLmZsYWdzICY9IH4yO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgMSkge1xuICAgICAgZm9yIChsZXQgbGluayA9IHRoaXMuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgICAgICByZW1vdmVTdWIobGluayk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlcHMgPSB0aGlzLmRlcHNUYWlsID0gdm9pZCAwO1xuICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgIHRoaXMub25TdG9wICYmIHRoaXMub25TdG9wKCk7XG4gICAgICB0aGlzLmZsYWdzICY9IH4xO1xuICAgIH1cbiAgfVxuICB0cmlnZ2VyKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgNjQpIHtcbiAgICAgIHBhdXNlZFF1ZXVlRWZmZWN0cy5hZGQodGhpcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNjaGVkdWxlcikge1xuICAgICAgdGhpcy5zY2hlZHVsZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydW5JZkRpcnR5KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJ1bklmRGlydHkoKSB7XG4gICAgaWYgKGlzRGlydHkodGhpcykpIHtcbiAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICB9XG4gIGdldCBkaXJ0eSgpIHtcbiAgICByZXR1cm4gaXNEaXJ0eSh0aGlzKTtcbiAgfVxufVxubGV0IGJhdGNoRGVwdGggPSAwO1xubGV0IGJhdGNoZWRTdWI7XG5sZXQgYmF0Y2hlZENvbXB1dGVkO1xuZnVuY3Rpb24gYmF0Y2goc3ViLCBpc0NvbXB1dGVkID0gZmFsc2UpIHtcbiAgc3ViLmZsYWdzIHw9IDg7XG4gIGlmIChpc0NvbXB1dGVkKSB7XG4gICAgc3ViLm5leHQgPSBiYXRjaGVkQ29tcHV0ZWQ7XG4gICAgYmF0Y2hlZENvbXB1dGVkID0gc3ViO1xuICAgIHJldHVybjtcbiAgfVxuICBzdWIubmV4dCA9IGJhdGNoZWRTdWI7XG4gIGJhdGNoZWRTdWIgPSBzdWI7XG59XG5mdW5jdGlvbiBzdGFydEJhdGNoKCkge1xuICBiYXRjaERlcHRoKys7XG59XG5mdW5jdGlvbiBlbmRCYXRjaCgpIHtcbiAgaWYgKC0tYmF0Y2hEZXB0aCA+IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGJhdGNoZWRDb21wdXRlZCkge1xuICAgIGxldCBlID0gYmF0Y2hlZENvbXB1dGVkO1xuICAgIGJhdGNoZWRDb21wdXRlZCA9IHZvaWQgMDtcbiAgICB3aGlsZSAoZSkge1xuICAgICAgY29uc3QgbmV4dCA9IGUubmV4dDtcbiAgICAgIGUubmV4dCA9IHZvaWQgMDtcbiAgICAgIGUuZmxhZ3MgJj0gfjg7XG4gICAgICBlID0gbmV4dDtcbiAgICB9XG4gIH1cbiAgbGV0IGVycm9yO1xuICB3aGlsZSAoYmF0Y2hlZFN1Yikge1xuICAgIGxldCBlID0gYmF0Y2hlZFN1YjtcbiAgICBiYXRjaGVkU3ViID0gdm9pZCAwO1xuICAgIHdoaWxlIChlKSB7XG4gICAgICBjb25zdCBuZXh0ID0gZS5uZXh0O1xuICAgICAgZS5uZXh0ID0gdm9pZCAwO1xuICAgICAgZS5mbGFncyAmPSB+ODtcbiAgICAgIGlmIChlLmZsYWdzICYgMSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIDtcbiAgICAgICAgICBlLnRyaWdnZXIoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGUgPSBuZXh0O1xuICAgIH1cbiAgfVxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xufVxuZnVuY3Rpb24gcHJlcGFyZURlcHMoc3ViKSB7XG4gIGZvciAobGV0IGxpbmsgPSBzdWIuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgIGxpbmsudmVyc2lvbiA9IC0xO1xuICAgIGxpbmsucHJldkFjdGl2ZUxpbmsgPSBsaW5rLmRlcC5hY3RpdmVMaW5rO1xuICAgIGxpbmsuZGVwLmFjdGl2ZUxpbmsgPSBsaW5rO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRGVwcyhzdWIpIHtcbiAgbGV0IGhlYWQ7XG4gIGxldCB0YWlsID0gc3ViLmRlcHNUYWlsO1xuICBsZXQgbGluayA9IHRhaWw7XG4gIHdoaWxlIChsaW5rKSB7XG4gICAgY29uc3QgcHJldiA9IGxpbmsucHJldkRlcDtcbiAgICBpZiAobGluay52ZXJzaW9uID09PSAtMSkge1xuICAgICAgaWYgKGxpbmsgPT09IHRhaWwpIHRhaWwgPSBwcmV2O1xuICAgICAgcmVtb3ZlU3ViKGxpbmspO1xuICAgICAgcmVtb3ZlRGVwKGxpbmspO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkID0gbGluaztcbiAgICB9XG4gICAgbGluay5kZXAuYWN0aXZlTGluayA9IGxpbmsucHJldkFjdGl2ZUxpbms7XG4gICAgbGluay5wcmV2QWN0aXZlTGluayA9IHZvaWQgMDtcbiAgICBsaW5rID0gcHJldjtcbiAgfVxuICBzdWIuZGVwcyA9IGhlYWQ7XG4gIHN1Yi5kZXBzVGFpbCA9IHRhaWw7XG59XG5mdW5jdGlvbiBpc0RpcnR5KHN1Yikge1xuICBmb3IgKGxldCBsaW5rID0gc3ViLmRlcHM7IGxpbms7IGxpbmsgPSBsaW5rLm5leHREZXApIHtcbiAgICBpZiAobGluay5kZXAudmVyc2lvbiAhPT0gbGluay52ZXJzaW9uIHx8IGxpbmsuZGVwLmNvbXB1dGVkICYmIChyZWZyZXNoQ29tcHV0ZWQobGluay5kZXAuY29tcHV0ZWQpIHx8IGxpbmsuZGVwLnZlcnNpb24gIT09IGxpbmsudmVyc2lvbikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoc3ViLl9kaXJ0eSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlZnJlc2hDb21wdXRlZChjb21wdXRlZCkge1xuICBpZiAoY29tcHV0ZWQuZmxhZ3MgJiA0ICYmICEoY29tcHV0ZWQuZmxhZ3MgJiAxNikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29tcHV0ZWQuZmxhZ3MgJj0gfjE2O1xuICBpZiAoY29tcHV0ZWQuZ2xvYmFsVmVyc2lvbiA9PT0gZ2xvYmFsVmVyc2lvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb21wdXRlZC5nbG9iYWxWZXJzaW9uID0gZ2xvYmFsVmVyc2lvbjtcbiAgY29uc3QgZGVwID0gY29tcHV0ZWQuZGVwO1xuICBjb21wdXRlZC5mbGFncyB8PSAyO1xuICBpZiAoZGVwLnZlcnNpb24gPiAwICYmICFjb21wdXRlZC5pc1NTUiAmJiBjb21wdXRlZC5kZXBzICYmICFpc0RpcnR5KGNvbXB1dGVkKSkge1xuICAgIGNvbXB1dGVkLmZsYWdzICY9IH4yO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwcmV2U3ViID0gYWN0aXZlU3ViO1xuICBjb25zdCBwcmV2U2hvdWxkVHJhY2sgPSBzaG91bGRUcmFjaztcbiAgYWN0aXZlU3ViID0gY29tcHV0ZWQ7XG4gIHNob3VsZFRyYWNrID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBwcmVwYXJlRGVwcyhjb21wdXRlZCk7XG4gICAgY29uc3QgdmFsdWUgPSBjb21wdXRlZC5mbihjb21wdXRlZC5fdmFsdWUpO1xuICAgIGlmIChkZXAudmVyc2lvbiA9PT0gMCB8fCBoYXNDaGFuZ2VkKHZhbHVlLCBjb21wdXRlZC5fdmFsdWUpKSB7XG4gICAgICBjb21wdXRlZC5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgIGRlcC52ZXJzaW9uKys7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZXAudmVyc2lvbisrO1xuICAgIHRocm93IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICBhY3RpdmVTdWIgPSBwcmV2U3ViO1xuICAgIHNob3VsZFRyYWNrID0gcHJldlNob3VsZFRyYWNrO1xuICAgIGNsZWFudXBEZXBzKGNvbXB1dGVkKTtcbiAgICBjb21wdXRlZC5mbGFncyAmPSB+MjtcbiAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlU3ViKGxpbmssIHNvZnQgPSBmYWxzZSkge1xuICBjb25zdCB7IGRlcCwgcHJldlN1YiwgbmV4dFN1YiB9ID0gbGluaztcbiAgaWYgKHByZXZTdWIpIHtcbiAgICBwcmV2U3ViLm5leHRTdWIgPSBuZXh0U3ViO1xuICAgIGxpbmsucHJldlN1YiA9IHZvaWQgMDtcbiAgfVxuICBpZiAobmV4dFN1Yikge1xuICAgIG5leHRTdWIucHJldlN1YiA9IHByZXZTdWI7XG4gICAgbGluay5uZXh0U3ViID0gdm9pZCAwO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGRlcC5zdWJzSGVhZCA9PT0gbGluaykge1xuICAgIGRlcC5zdWJzSGVhZCA9IG5leHRTdWI7XG4gIH1cbiAgaWYgKGRlcC5zdWJzID09PSBsaW5rKSB7XG4gICAgZGVwLnN1YnMgPSBwcmV2U3ViO1xuICAgIGlmICghcHJldlN1YiAmJiBkZXAuY29tcHV0ZWQpIHtcbiAgICAgIGRlcC5jb21wdXRlZC5mbGFncyAmPSB+NDtcbiAgICAgIGZvciAobGV0IGwgPSBkZXAuY29tcHV0ZWQuZGVwczsgbDsgbCA9IGwubmV4dERlcCkge1xuICAgICAgICByZW1vdmVTdWIobCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICghc29mdCAmJiAhLS1kZXAuc2MgJiYgZGVwLm1hcCkge1xuICAgIGRlcC5tYXAuZGVsZXRlKGRlcC5rZXkpO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVEZXAobGluaykge1xuICBjb25zdCB7IHByZXZEZXAsIG5leHREZXAgfSA9IGxpbms7XG4gIGlmIChwcmV2RGVwKSB7XG4gICAgcHJldkRlcC5uZXh0RGVwID0gbmV4dERlcDtcbiAgICBsaW5rLnByZXZEZXAgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKG5leHREZXApIHtcbiAgICBuZXh0RGVwLnByZXZEZXAgPSBwcmV2RGVwO1xuICAgIGxpbmsubmV4dERlcCA9IHZvaWQgMDtcbiAgfVxufVxuZnVuY3Rpb24gZWZmZWN0KGZuLCBvcHRpb25zKSB7XG4gIGlmIChmbi5lZmZlY3QgaW5zdGFuY2VvZiBSZWFjdGl2ZUVmZmVjdCkge1xuICAgIGZuID0gZm4uZWZmZWN0LmZuO1xuICB9XG4gIGNvbnN0IGUgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZm4pO1xuICBpZiAob3B0aW9ucykge1xuICAgIGV4dGVuZChlLCBvcHRpb25zKTtcbiAgfVxuICB0cnkge1xuICAgIGUucnVuKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGUuc3RvcCgpO1xuICAgIHRocm93IGVycjtcbiAgfVxuICBjb25zdCBydW5uZXIgPSBlLnJ1bi5iaW5kKGUpO1xuICBydW5uZXIuZWZmZWN0ID0gZTtcbiAgcmV0dXJuIHJ1bm5lcjtcbn1cbmZ1bmN0aW9uIHN0b3AocnVubmVyKSB7XG4gIHJ1bm5lci5lZmZlY3Quc3RvcCgpO1xufVxubGV0IHNob3VsZFRyYWNrID0gdHJ1ZTtcbmNvbnN0IHRyYWNrU3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHBhdXNlVHJhY2tpbmcoKSB7XG4gIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XG4gIHNob3VsZFRyYWNrID0gZmFsc2U7XG59XG5mdW5jdGlvbiBlbmFibGVUcmFja2luZygpIHtcbiAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcbiAgc2hvdWxkVHJhY2sgPSB0cnVlO1xufVxuZnVuY3Rpb24gcmVzZXRUcmFja2luZygpIHtcbiAgY29uc3QgbGFzdCA9IHRyYWNrU3RhY2sucG9wKCk7XG4gIHNob3VsZFRyYWNrID0gbGFzdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IGxhc3Q7XG59XG5mdW5jdGlvbiBvbkVmZmVjdENsZWFudXAoZm4sIGZhaWxTaWxlbnRseSA9IGZhbHNlKSB7XG4gIGlmIChhY3RpdmVTdWIgaW5zdGFuY2VvZiBSZWFjdGl2ZUVmZmVjdCkge1xuICAgIGFjdGl2ZVN1Yi5jbGVhbnVwID0gZm47XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhZmFpbFNpbGVudGx5KSB7XG4gICAgd2FybihcbiAgICAgIGBvbkVmZmVjdENsZWFudXAoKSB3YXMgY2FsbGVkIHdoZW4gdGhlcmUgd2FzIG5vIGFjdGl2ZSBlZmZlY3QgdG8gYXNzb2NpYXRlIHdpdGguYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsZWFudXBFZmZlY3QoZSkge1xuICBjb25zdCB7IGNsZWFudXAgfSA9IGU7XG4gIGUuY2xlYW51cCA9IHZvaWQgMDtcbiAgaWYgKGNsZWFudXApIHtcbiAgICBjb25zdCBwcmV2U3ViID0gYWN0aXZlU3ViO1xuICAgIGFjdGl2ZVN1YiA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgY2xlYW51cCgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhY3RpdmVTdWIgPSBwcmV2U3ViO1xuICAgIH1cbiAgfVxufVxuXG5sZXQgZ2xvYmFsVmVyc2lvbiA9IDA7XG5jbGFzcyBMaW5rIHtcbiAgY29uc3RydWN0b3Ioc3ViLCBkZXApIHtcbiAgICB0aGlzLnN1YiA9IHN1YjtcbiAgICB0aGlzLmRlcCA9IGRlcDtcbiAgICB0aGlzLnZlcnNpb24gPSBkZXAudmVyc2lvbjtcbiAgICB0aGlzLm5leHREZXAgPSB0aGlzLnByZXZEZXAgPSB0aGlzLm5leHRTdWIgPSB0aGlzLnByZXZTdWIgPSB0aGlzLnByZXZBY3RpdmVMaW5rID0gdm9pZCAwO1xuICB9XG59XG5jbGFzcyBEZXAge1xuICBjb25zdHJ1Y3Rvcihjb21wdXRlZCkge1xuICAgIHRoaXMuY29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICB0aGlzLnZlcnNpb24gPSAwO1xuICAgIC8qKlxuICAgICAqIExpbmsgYmV0d2VlbiB0aGlzIGRlcCBhbmQgdGhlIGN1cnJlbnQgYWN0aXZlIGVmZmVjdFxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlTGluayA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBEb3VibHkgbGlua2VkIGxpc3QgcmVwcmVzZW50aW5nIHRoZSBzdWJzY3JpYmluZyBlZmZlY3RzICh0YWlsKVxuICAgICAqL1xuICAgIHRoaXMuc3VicyA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBGb3Igb2JqZWN0IHByb3BlcnR5IGRlcHMgY2xlYW51cFxuICAgICAqL1xuICAgIHRoaXMubWFwID0gdm9pZCAwO1xuICAgIHRoaXMua2V5ID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXIgY291bnRlclxuICAgICAqL1xuICAgIHRoaXMuc2MgPSAwO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB0aGlzLnN1YnNIZWFkID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICB0cmFjayhkZWJ1Z0luZm8pIHtcbiAgICBpZiAoIWFjdGl2ZVN1YiB8fCAhc2hvdWxkVHJhY2sgfHwgYWN0aXZlU3ViID09PSB0aGlzLmNvbXB1dGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBsaW5rID0gdGhpcy5hY3RpdmVMaW5rO1xuICAgIGlmIChsaW5rID09PSB2b2lkIDAgfHwgbGluay5zdWIgIT09IGFjdGl2ZVN1Yikge1xuICAgICAgbGluayA9IHRoaXMuYWN0aXZlTGluayA9IG5ldyBMaW5rKGFjdGl2ZVN1YiwgdGhpcyk7XG4gICAgICBpZiAoIWFjdGl2ZVN1Yi5kZXBzKSB7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzID0gYWN0aXZlU3ViLmRlcHNUYWlsID0gbGluaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmsucHJldkRlcCA9IGFjdGl2ZVN1Yi5kZXBzVGFpbDtcbiAgICAgICAgYWN0aXZlU3ViLmRlcHNUYWlsLm5leHREZXAgPSBsaW5rO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwgPSBsaW5rO1xuICAgICAgfVxuICAgICAgYWRkU3ViKGxpbmspO1xuICAgIH0gZWxzZSBpZiAobGluay52ZXJzaW9uID09PSAtMSkge1xuICAgICAgbGluay52ZXJzaW9uID0gdGhpcy52ZXJzaW9uO1xuICAgICAgaWYgKGxpbmsubmV4dERlcCkge1xuICAgICAgICBjb25zdCBuZXh0ID0gbGluay5uZXh0RGVwO1xuICAgICAgICBuZXh0LnByZXZEZXAgPSBsaW5rLnByZXZEZXA7XG4gICAgICAgIGlmIChsaW5rLnByZXZEZXApIHtcbiAgICAgICAgICBsaW5rLnByZXZEZXAubmV4dERlcCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgbGluay5wcmV2RGVwID0gYWN0aXZlU3ViLmRlcHNUYWlsO1xuICAgICAgICBsaW5rLm5leHREZXAgPSB2b2lkIDA7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbC5uZXh0RGVwID0gbGluaztcbiAgICAgICAgYWN0aXZlU3ViLmRlcHNUYWlsID0gbGluaztcbiAgICAgICAgaWYgKGFjdGl2ZVN1Yi5kZXBzID09PSBsaW5rKSB7XG4gICAgICAgICAgYWN0aXZlU3ViLmRlcHMgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGFjdGl2ZVN1Yi5vblRyYWNrKSB7XG4gICAgICBhY3RpdmVTdWIub25UcmFjayhcbiAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVmZmVjdDogYWN0aXZlU3ViXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZWJ1Z0luZm9cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbms7XG4gIH1cbiAgdHJpZ2dlcihkZWJ1Z0luZm8pIHtcbiAgICB0aGlzLnZlcnNpb24rKztcbiAgICBnbG9iYWxWZXJzaW9uKys7XG4gICAgdGhpcy5ub3RpZnkoZGVidWdJbmZvKTtcbiAgfVxuICBub3RpZnkoZGVidWdJbmZvKSB7XG4gICAgc3RhcnRCYXRjaCgpO1xuICAgIHRyeSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBmb3IgKGxldCBoZWFkID0gdGhpcy5zdWJzSGVhZDsgaGVhZDsgaGVhZCA9IGhlYWQubmV4dFN1Yikge1xuICAgICAgICAgIGlmIChoZWFkLnN1Yi5vblRyaWdnZXIgJiYgIShoZWFkLnN1Yi5mbGFncyAmIDgpKSB7XG4gICAgICAgICAgICBoZWFkLnN1Yi5vblRyaWdnZXIoXG4gICAgICAgICAgICAgIGV4dGVuZChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBlZmZlY3Q6IGhlYWQuc3ViXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWJ1Z0luZm9cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGxpbmsgPSB0aGlzLnN1YnM7IGxpbms7IGxpbmsgPSBsaW5rLnByZXZTdWIpIHtcbiAgICAgICAgaWYgKGxpbmsuc3ViLm5vdGlmeSgpKSB7XG4gICAgICAgICAgO1xuICAgICAgICAgIGxpbmsuc3ViLmRlcC5ub3RpZnkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBlbmRCYXRjaCgpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYWRkU3ViKGxpbmspIHtcbiAgbGluay5kZXAuc2MrKztcbiAgaWYgKGxpbmsuc3ViLmZsYWdzICYgNCkge1xuICAgIGNvbnN0IGNvbXB1dGVkID0gbGluay5kZXAuY29tcHV0ZWQ7XG4gICAgaWYgKGNvbXB1dGVkICYmICFsaW5rLmRlcC5zdWJzKSB7XG4gICAgICBjb21wdXRlZC5mbGFncyB8PSA0IHwgMTY7XG4gICAgICBmb3IgKGxldCBsID0gY29tcHV0ZWQuZGVwczsgbDsgbCA9IGwubmV4dERlcCkge1xuICAgICAgICBhZGRTdWIobCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRUYWlsID0gbGluay5kZXAuc3VicztcbiAgICBpZiAoY3VycmVudFRhaWwgIT09IGxpbmspIHtcbiAgICAgIGxpbmsucHJldlN1YiA9IGN1cnJlbnRUYWlsO1xuICAgICAgaWYgKGN1cnJlbnRUYWlsKSBjdXJyZW50VGFpbC5uZXh0U3ViID0gbGluaztcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbGluay5kZXAuc3Vic0hlYWQgPT09IHZvaWQgMCkge1xuICAgICAgbGluay5kZXAuc3Vic0hlYWQgPSBsaW5rO1xuICAgIH1cbiAgICBsaW5rLmRlcC5zdWJzID0gbGluaztcbiAgfVxufVxuY29uc3QgdGFyZ2V0TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBJVEVSQVRFX0tFWSA9IFN5bWJvbChcbiAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiT2JqZWN0IGl0ZXJhdGVcIiA6IFwiXCJcbik7XG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKFxuICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJNYXAga2V5cyBpdGVyYXRlXCIgOiBcIlwiXG4pO1xuY29uc3QgQVJSQVlfSVRFUkFURV9LRVkgPSBTeW1ib2woXG4gICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIkFycmF5IGl0ZXJhdGVcIiA6IFwiXCJcbik7XG5mdW5jdGlvbiB0cmFjayh0YXJnZXQsIHR5cGUsIGtleSkge1xuICBpZiAoc2hvdWxkVHJhY2sgJiYgYWN0aXZlU3ViKSB7XG4gICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XG4gICAgaWYgKCFkZXBzTWFwKSB7XG4gICAgICB0YXJnZXRNYXAuc2V0KHRhcmdldCwgZGVwc01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIH1cbiAgICBsZXQgZGVwID0gZGVwc01hcC5nZXQoa2V5KTtcbiAgICBpZiAoIWRlcCkge1xuICAgICAgZGVwc01hcC5zZXQoa2V5LCBkZXAgPSBuZXcgRGVwKCkpO1xuICAgICAgZGVwLm1hcCA9IGRlcHNNYXA7XG4gICAgICBkZXAua2V5ID0ga2V5O1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgZGVwLnRyYWNrKHtcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICB0eXBlLFxuICAgICAgICBrZXlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXAudHJhY2soKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXIodGFyZ2V0LCB0eXBlLCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgb2xkVGFyZ2V0KSB7XG4gIGNvbnN0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XG4gIGlmICghZGVwc01hcCkge1xuICAgIGdsb2JhbFZlcnNpb24rKztcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcnVuID0gKGRlcCkgPT4ge1xuICAgIGlmIChkZXApIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGRlcC50cmlnZ2VyKHtcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgb2xkVGFyZ2V0XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVwLnRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHN0YXJ0QmF0Y2goKTtcbiAgaWYgKHR5cGUgPT09IFwiY2xlYXJcIikge1xuICAgIGRlcHNNYXAuZm9yRWFjaChydW4pO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgY29uc3QgaXNBcnJheUluZGV4ID0gdGFyZ2V0SXNBcnJheSAmJiBpc0ludGVnZXJLZXkoa2V5KTtcbiAgICBpZiAodGFyZ2V0SXNBcnJheSAmJiBrZXkgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgIGNvbnN0IG5ld0xlbmd0aCA9IE51bWJlcihuZXdWYWx1ZSk7XG4gICAgICBkZXBzTWFwLmZvckVhY2goKGRlcCwga2V5MikgPT4ge1xuICAgICAgICBpZiAoa2V5MiA9PT0gXCJsZW5ndGhcIiB8fCBrZXkyID09PSBBUlJBWV9JVEVSQVRFX0tFWSB8fCAhaXNTeW1ib2woa2V5MikgJiYga2V5MiA+PSBuZXdMZW5ndGgpIHtcbiAgICAgICAgICBydW4oZGVwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChrZXkgIT09IHZvaWQgMCB8fCBkZXBzTWFwLmhhcyh2b2lkIDApKSB7XG4gICAgICAgIHJ1bihkZXBzTWFwLmdldChrZXkpKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5SW5kZXgpIHtcbiAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KEFSUkFZX0lURVJBVEVfS0VZKSk7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICAgIGlmICghdGFyZ2V0SXNBcnJheSkge1xuICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUluZGV4KSB7XG4gICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoXCJsZW5ndGhcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRlbGV0ZVwiOlxuICAgICAgICAgIGlmICghdGFyZ2V0SXNBcnJheSkge1xuICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNldFwiOlxuICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVuZEJhdGNoKCk7XG59XG5mdW5jdGlvbiBnZXREZXBGcm9tUmVhY3RpdmUob2JqZWN0LCBrZXkpIHtcbiAgY29uc3QgZGVwTWFwID0gdGFyZ2V0TWFwLmdldChvYmplY3QpO1xuICByZXR1cm4gZGVwTWFwICYmIGRlcE1hcC5nZXQoa2V5KTtcbn1cblxuZnVuY3Rpb24gcmVhY3RpdmVSZWFkQXJyYXkoYXJyYXkpIHtcbiAgY29uc3QgcmF3ID0gdG9SYXcoYXJyYXkpO1xuICBpZiAocmF3ID09PSBhcnJheSkgcmV0dXJuIHJhdztcbiAgdHJhY2socmF3LCBcIml0ZXJhdGVcIiwgQVJSQVlfSVRFUkFURV9LRVkpO1xuICByZXR1cm4gaXNTaGFsbG93KGFycmF5KSA/IHJhdyA6IHJhdy5tYXAodG9SZWFjdGl2ZSk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVhZEFycmF5KGFycikge1xuICB0cmFjayhhcnIgPSB0b1JhdyhhcnIpLCBcIml0ZXJhdGVcIiwgQVJSQVlfSVRFUkFURV9LRVkpO1xuICByZXR1cm4gYXJyO1xufVxuY29uc3QgYXJyYXlJbnN0cnVtZW50YXRpb25zID0ge1xuICBfX3Byb3RvX186IG51bGwsXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBpdGVyYXRvcih0aGlzLCBTeW1ib2wuaXRlcmF0b3IsIHRvUmVhY3RpdmUpO1xuICB9LFxuICBjb25jYXQoLi4uYXJncykge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS5jb25jYXQoXG4gICAgICAuLi5hcmdzLm1hcCgoeCkgPT4gaXNBcnJheSh4KSA/IHJlYWN0aXZlUmVhZEFycmF5KHgpIDogeClcbiAgICApO1xuICB9LFxuICBlbnRyaWVzKCkge1xuICAgIHJldHVybiBpdGVyYXRvcih0aGlzLCBcImVudHJpZXNcIiwgKHZhbHVlKSA9PiB7XG4gICAgICB2YWx1ZVsxXSA9IHRvUmVhY3RpdmUodmFsdWVbMV0pO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICB9LFxuICBldmVyeShmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImV2ZXJ5XCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbHRlcihmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbHRlclwiLCBmbiwgdGhpc0FyZywgKHYpID0+IHYubWFwKHRvUmVhY3RpdmUpLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaW5kKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZmluZFwiLCBmbiwgdGhpc0FyZywgdG9SZWFjdGl2ZSwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZEluZGV4KGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZmluZEluZGV4XCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbmRMYXN0KGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZmluZExhc3RcIiwgZm4sIHRoaXNBcmcsIHRvUmVhY3RpdmUsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbmRMYXN0SW5kZXgoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kTGFzdEluZGV4XCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIC8vIGZsYXQsIGZsYXRNYXAgY291bGQgYmVuZWZpdCBmcm9tIEFSUkFZX0lURVJBVEUgYnV0IGFyZSBub3Qgc3RyYWlnaHQtZm9yd2FyZCB0byBpbXBsZW1lbnRcbiAgZm9yRWFjaChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZvckVhY2hcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgaW5jbHVkZXMoLi4uYXJncykge1xuICAgIHJldHVybiBzZWFyY2hQcm94eSh0aGlzLCBcImluY2x1ZGVzXCIsIGFyZ3MpO1xuICB9LFxuICBpbmRleE9mKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gc2VhcmNoUHJveHkodGhpcywgXCJpbmRleE9mXCIsIGFyZ3MpO1xuICB9LFxuICBqb2luKHNlcGFyYXRvcikge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS5qb2luKHNlcGFyYXRvcik7XG4gIH0sXG4gIC8vIGtleXMoKSBpdGVyYXRvciBvbmx5IHJlYWRzIGBsZW5ndGhgLCBubyBvcHRpbWlzYXRpb24gcmVxdWlyZWRcbiAgbGFzdEluZGV4T2YoLi4uYXJncykge1xuICAgIHJldHVybiBzZWFyY2hQcm94eSh0aGlzLCBcImxhc3RJbmRleE9mXCIsIGFyZ3MpO1xuICB9LFxuICBtYXAoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJtYXBcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgcG9wKCkge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwicG9wXCIpO1xuICB9LFxuICBwdXNoKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInB1c2hcIiwgYXJncyk7XG4gIH0sXG4gIHJlZHVjZShmbiwgLi4uYXJncykge1xuICAgIHJldHVybiByZWR1Y2UodGhpcywgXCJyZWR1Y2VcIiwgZm4sIGFyZ3MpO1xuICB9LFxuICByZWR1Y2VSaWdodChmbiwgLi4uYXJncykge1xuICAgIHJldHVybiByZWR1Y2UodGhpcywgXCJyZWR1Y2VSaWdodFwiLCBmbiwgYXJncyk7XG4gIH0sXG4gIHNoaWZ0KCkge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwic2hpZnRcIik7XG4gIH0sXG4gIC8vIHNsaWNlIGNvdWxkIHVzZSBBUlJBWV9JVEVSQVRFIGJ1dCBhbHNvIHNlZW1zIHRvIGJlZyBmb3IgcmFuZ2UgdHJhY2tpbmdcbiAgc29tZShmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcInNvbWVcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgc3BsaWNlKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInNwbGljZVwiLCBhcmdzKTtcbiAgfSxcbiAgdG9SZXZlcnNlZCgpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykudG9SZXZlcnNlZCgpO1xuICB9LFxuICB0b1NvcnRlZChjb21wYXJlcikge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS50b1NvcnRlZChjb21wYXJlcik7XG4gIH0sXG4gIHRvU3BsaWNlZCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLnRvU3BsaWNlZCguLi5hcmdzKTtcbiAgfSxcbiAgdW5zaGlmdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJ1bnNoaWZ0XCIsIGFyZ3MpO1xuICB9LFxuICB2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yKHRoaXMsIFwidmFsdWVzXCIsIHRvUmVhY3RpdmUpO1xuICB9XG59O1xuZnVuY3Rpb24gaXRlcmF0b3Ioc2VsZiwgbWV0aG9kLCB3cmFwVmFsdWUpIHtcbiAgY29uc3QgYXJyID0gc2hhbGxvd1JlYWRBcnJheShzZWxmKTtcbiAgY29uc3QgaXRlciA9IGFyclttZXRob2RdKCk7XG4gIGlmIChhcnIgIT09IHNlbGYgJiYgIWlzU2hhbGxvdyhzZWxmKSkge1xuICAgIGl0ZXIuX25leHQgPSBpdGVyLm5leHQ7XG4gICAgaXRlci5uZXh0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gaXRlci5fbmV4dCgpO1xuICAgICAgaWYgKHJlc3VsdC52YWx1ZSkge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB3cmFwVmFsdWUocmVzdWx0LnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gaXRlcjtcbn1cbmNvbnN0IGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5mdW5jdGlvbiBhcHBseShzZWxmLCBtZXRob2QsIGZuLCB0aGlzQXJnLCB3cmFwcGVkUmV0Rm4sIGFyZ3MpIHtcbiAgY29uc3QgYXJyID0gc2hhbGxvd1JlYWRBcnJheShzZWxmKTtcbiAgY29uc3QgbmVlZHNXcmFwID0gYXJyICE9PSBzZWxmICYmICFpc1NoYWxsb3coc2VsZik7XG4gIGNvbnN0IG1ldGhvZEZuID0gYXJyW21ldGhvZF07XG4gIGlmIChtZXRob2RGbiAhPT0gYXJyYXlQcm90b1ttZXRob2RdKSB7XG4gICAgY29uc3QgcmVzdWx0MiA9IG1ldGhvZEZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIHJldHVybiBuZWVkc1dyYXAgPyB0b1JlYWN0aXZlKHJlc3VsdDIpIDogcmVzdWx0MjtcbiAgfVxuICBsZXQgd3JhcHBlZEZuID0gZm47XG4gIGlmIChhcnIgIT09IHNlbGYpIHtcbiAgICBpZiAobmVlZHNXcmFwKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCB0b1JlYWN0aXZlKGl0ZW0pLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZm4ubGVuZ3RoID4gMikge1xuICAgICAgd3JhcHBlZEZuID0gZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgaXRlbSwgaW5kZXgsIHNlbGYpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gbWV0aG9kRm4uY2FsbChhcnIsIHdyYXBwZWRGbiwgdGhpc0FyZyk7XG4gIHJldHVybiBuZWVkc1dyYXAgJiYgd3JhcHBlZFJldEZuID8gd3JhcHBlZFJldEZuKHJlc3VsdCkgOiByZXN1bHQ7XG59XG5mdW5jdGlvbiByZWR1Y2Uoc2VsZiwgbWV0aG9kLCBmbiwgYXJncykge1xuICBjb25zdCBhcnIgPSBzaGFsbG93UmVhZEFycmF5KHNlbGYpO1xuICBsZXQgd3JhcHBlZEZuID0gZm47XG4gIGlmIChhcnIgIT09IHNlbGYpIHtcbiAgICBpZiAoIWlzU2hhbGxvdyhzZWxmKSkge1xuICAgICAgd3JhcHBlZEZuID0gZnVuY3Rpb24oYWNjLCBpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBhY2MsIHRvUmVhY3RpdmUoaXRlbSksIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChmbi5sZW5ndGggPiAzKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihhY2MsIGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGFjYywgaXRlbSwgaW5kZXgsIHNlbGYpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyclttZXRob2RdKHdyYXBwZWRGbiwgLi4uYXJncyk7XG59XG5mdW5jdGlvbiBzZWFyY2hQcm94eShzZWxmLCBtZXRob2QsIGFyZ3MpIHtcbiAgY29uc3QgYXJyID0gdG9SYXcoc2VsZik7XG4gIHRyYWNrKGFyciwgXCJpdGVyYXRlXCIsIEFSUkFZX0lURVJBVEVfS0VZKTtcbiAgY29uc3QgcmVzID0gYXJyW21ldGhvZF0oLi4uYXJncyk7XG4gIGlmICgocmVzID09PSAtMSB8fCByZXMgPT09IGZhbHNlKSAmJiBpc1Byb3h5KGFyZ3NbMF0pKSB7XG4gICAgYXJnc1swXSA9IHRvUmF3KGFyZ3NbMF0pO1xuICAgIHJldHVybiBhcnJbbWV0aG9kXSguLi5hcmdzKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbm9UcmFja2luZyhzZWxmLCBtZXRob2QsIGFyZ3MgPSBbXSkge1xuICBwYXVzZVRyYWNraW5nKCk7XG4gIHN0YXJ0QmF0Y2goKTtcbiAgY29uc3QgcmVzID0gdG9SYXcoc2VsZilbbWV0aG9kXS5hcHBseShzZWxmLCBhcmdzKTtcbiAgZW5kQmF0Y2goKTtcbiAgcmVzZXRUcmFja2luZygpO1xuICByZXR1cm4gcmVzO1xufVxuXG5jb25zdCBpc05vblRyYWNrYWJsZUtleXMgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChgX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlYCk7XG5jb25zdCBidWlsdEluU3ltYm9scyA9IG5ldyBTZXQoXG4gIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpLmZpbHRlcigoa2V5KSA9PiBrZXkgIT09IFwiYXJndW1lbnRzXCIgJiYga2V5ICE9PSBcImNhbGxlclwiKS5tYXAoKGtleSkgPT4gU3ltYm9sW2tleV0pLmZpbHRlcihpc1N5bWJvbClcbik7XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShrZXkpIHtcbiAgaWYgKCFpc1N5bWJvbChrZXkpKSBrZXkgPSBTdHJpbmcoa2V5KTtcbiAgY29uc3Qgb2JqID0gdG9SYXcodGhpcyk7XG4gIHRyYWNrKG9iaiwgXCJoYXNcIiwga2V5KTtcbiAgcmV0dXJuIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpO1xufVxuY2xhc3MgQmFzZVJlYWN0aXZlSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKF9pc1JlYWRvbmx5ID0gZmFsc2UsIF9pc1NoYWxsb3cgPSBmYWxzZSkge1xuICAgIHRoaXMuX2lzUmVhZG9ubHkgPSBfaXNSZWFkb25seTtcbiAgICB0aGlzLl9pc1NoYWxsb3cgPSBfaXNTaGFsbG93O1xuICB9XG4gIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9za2lwXCIpIHJldHVybiB0YXJnZXRbXCJfX3Zfc2tpcFwiXTtcbiAgICBjb25zdCBpc1JlYWRvbmx5MiA9IHRoaXMuX2lzUmVhZG9ubHksIGlzU2hhbGxvdzIgPSB0aGlzLl9pc1NoYWxsb3c7XG4gICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiKSB7XG4gICAgICByZXR1cm4gIWlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIpIHtcbiAgICAgIHJldHVybiBpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNTaGFsbG93XCIpIHtcbiAgICAgIHJldHVybiBpc1NoYWxsb3cyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIikge1xuICAgICAgaWYgKHJlY2VpdmVyID09PSAoaXNSZWFkb25seTIgPyBpc1NoYWxsb3cyID8gc2hhbGxvd1JlYWRvbmx5TWFwIDogcmVhZG9ubHlNYXAgOiBpc1NoYWxsb3cyID8gc2hhbGxvd1JlYWN0aXZlTWFwIDogcmVhY3RpdmVNYXApLmdldCh0YXJnZXQpIHx8IC8vIHJlY2VpdmVyIGlzIG5vdCB0aGUgcmVhY3RpdmUgcHJveHksIGJ1dCBoYXMgdGhlIHNhbWUgcHJvdG90eXBlXG4gICAgICAvLyB0aGlzIG1lYW5zIHRoZSByZWNlaXZlciBpcyBhIHVzZXIgcHJveHkgb2YgdGhlIHJlYWN0aXZlIHByb3h5XG4gICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHJlY2VpdmVyKSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRJc0FycmF5ID0gaXNBcnJheSh0YXJnZXQpO1xuICAgIGlmICghaXNSZWFkb25seTIpIHtcbiAgICAgIGxldCBmbjtcbiAgICAgIGlmICh0YXJnZXRJc0FycmF5ICYmIChmbiA9IGFycmF5SW5zdHJ1bWVudGF0aW9uc1trZXldKSkge1xuICAgICAgICByZXR1cm4gZm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSBcImhhc093blByb3BlcnR5XCIpIHtcbiAgICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXMgPSBSZWZsZWN0LmdldChcbiAgICAgIHRhcmdldCxcbiAgICAgIGtleSxcbiAgICAgIC8vIGlmIHRoaXMgaXMgYSBwcm94eSB3cmFwcGluZyBhIHJlZiwgcmV0dXJuIG1ldGhvZHMgdXNpbmcgdGhlIHJhdyByZWZcbiAgICAgIC8vIGFzIHJlY2VpdmVyIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBjYWxsIGB0b1Jhd2Agb24gdGhlIHJlZiBpbiBhbGxcbiAgICAgIC8vIGl0cyBjbGFzcyBtZXRob2RzXG4gICAgICBpc1JlZih0YXJnZXQpID8gdGFyZ2V0IDogcmVjZWl2ZXJcbiAgICApO1xuICAgIGlmIChpc1N5bWJvbChrZXkpID8gYnVpbHRJblN5bWJvbHMuaGFzKGtleSkgOiBpc05vblRyYWNrYWJsZUtleXMoa2V5KSkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgaWYgKCFpc1JlYWRvbmx5Mikge1xuICAgICAgdHJhY2sodGFyZ2V0LCBcImdldFwiLCBrZXkpO1xuICAgIH1cbiAgICBpZiAoaXNTaGFsbG93Mikge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgaWYgKGlzUmVmKHJlcykpIHtcbiAgICAgIHJldHVybiB0YXJnZXRJc0FycmF5ICYmIGlzSW50ZWdlcktleShrZXkpID8gcmVzIDogcmVzLnZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QocmVzKSkge1xuICAgICAgcmV0dXJuIGlzUmVhZG9ubHkyID8gcmVhZG9ubHkocmVzKSA6IHJlYWN0aXZlKHJlcyk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbn1cbmNsYXNzIE11dGFibGVSZWFjdGl2ZUhhbmRsZXIgZXh0ZW5kcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoaXNTaGFsbG93MiA9IGZhbHNlKSB7XG4gICAgc3VwZXIoZmFsc2UsIGlzU2hhbGxvdzIpO1xuICB9XG4gIHNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgbGV0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgaWYgKCF0aGlzLl9pc1NoYWxsb3cpIHtcbiAgICAgIGNvbnN0IGlzT2xkVmFsdWVSZWFkb25seSA9IGlzUmVhZG9ubHkob2xkVmFsdWUpO1xuICAgICAgaWYgKCFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICBvbGRWYWx1ZSA9IHRvUmF3KG9sZFZhbHVlKTtcbiAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSAmJiBpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xuICAgICAgICBpZiAoaXNPbGRWYWx1ZVJlYWRvbmx5KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaGFkS2V5ID0gaXNBcnJheSh0YXJnZXQpICYmIGlzSW50ZWdlcktleShrZXkpID8gTnVtYmVyKGtleSkgPCB0YXJnZXQubGVuZ3RoIDogaGFzT3duKHRhcmdldCwga2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LnNldChcbiAgICAgIHRhcmdldCxcbiAgICAgIGtleSxcbiAgICAgIHZhbHVlLFxuICAgICAgaXNSZWYodGFyZ2V0KSA/IHRhcmdldCA6IHJlY2VpdmVyXG4gICAgKTtcbiAgICBpZiAodGFyZ2V0ID09PSB0b1JhdyhyZWNlaXZlcikpIHtcbiAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiLCBrZXksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCBoYWRLZXkgPSBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSk7XG4gICAgaWYgKHJlc3VsdCAmJiBoYWRLZXkpIHtcbiAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiLCBrZXksIHZvaWQgMCwgb2xkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGhhcyh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuaGFzKHRhcmdldCwga2V5KTtcbiAgICBpZiAoIWlzU3ltYm9sKGtleSkgfHwgIWJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpKSB7XG4gICAgICB0cmFjayh0YXJnZXQsIFwiaGFzXCIsIGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgb3duS2V5cyh0YXJnZXQpIHtcbiAgICB0cmFjayhcbiAgICAgIHRhcmdldCxcbiAgICAgIFwiaXRlcmF0ZVwiLFxuICAgICAgaXNBcnJheSh0YXJnZXQpID8gXCJsZW5ndGhcIiA6IElURVJBVEVfS0VZXG4gICAgKTtcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG4gIH1cbn1cbmNsYXNzIFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyIGV4dGVuZHMgQmFzZVJlYWN0aXZlSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKGlzU2hhbGxvdzIgPSBmYWxzZSkge1xuICAgIHN1cGVyKHRydWUsIGlzU2hhbGxvdzIpO1xuICB9XG4gIHNldCh0YXJnZXQsIGtleSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgU2V0IG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYERlbGV0ZSBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0YXJnZXRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5jb25zdCBtdXRhYmxlSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE11dGFibGVSZWFjdGl2ZUhhbmRsZXIoKTtcbmNvbnN0IHJlYWRvbmx5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTXV0YWJsZVJlYWN0aXZlSGFuZGxlcih0cnVlKTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBSZWFkb25seVJlYWN0aXZlSGFuZGxlcih0cnVlKTtcblxuY29uc3QgdG9TaGFsbG93ID0gKHZhbHVlKSA9PiB2YWx1ZTtcbmNvbnN0IGdldFByb3RvID0gKHYpID0+IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2Yodik7XG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHkyLCBpc1NoYWxsb3cyKSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIl07XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCB0YXJnZXRJc01hcCA9IGlzTWFwKHJhd1RhcmdldCk7XG4gICAgY29uc3QgaXNQYWlyID0gbWV0aG9kID09PSBcImVudHJpZXNcIiB8fCBtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcDtcbiAgICBjb25zdCBpc0tleU9ubHkgPSBtZXRob2QgPT09IFwia2V5c1wiICYmIHRhcmdldElzTWFwO1xuICAgIGNvbnN0IGlubmVySXRlcmF0b3IgPSB0YXJnZXRbbWV0aG9kXSguLi5hcmdzKTtcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93MiA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkyID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgIWlzUmVhZG9ubHkyICYmIHRyYWNrKFxuICAgICAgcmF3VGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBpdGVyYXRvciBwcm90b2NvbFxuICAgICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gaW5uZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBkb25lID8geyB2YWx1ZSwgZG9uZSB9IDoge1xuICAgICAgICAgIHZhbHVlOiBpc1BhaXIgPyBbd3JhcCh2YWx1ZVswXSksIHdyYXAodmFsdWVbMV0pXSA6IHdyYXAodmFsdWUpLFxuICAgICAgICAgIGRvbmVcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICAvLyBpdGVyYWJsZSBwcm90b2NvbFxuICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0b1Jhdyh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiZGVsZXRlXCIgPyBmYWxzZSA6IHR5cGUgPT09IFwiY2xlYXJcIiA/IHZvaWQgMCA6IHRoaXM7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25zKHJlYWRvbmx5LCBzaGFsbG93KSB7XG4gIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIl07XG4gICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgICAgIGlmICghcmVhZG9ubHkpIHtcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQoa2V5LCByYXdLZXkpKSB7XG4gICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiwgcmF3S2V5KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgaGFzIH0gPSBnZXRQcm90byhyYXdUYXJnZXQpO1xuICAgICAgY29uc3Qgd3JhcCA9IHNoYWxsb3cgPyB0b1NoYWxsb3cgOiByZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICAgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwga2V5KSkge1xuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KGtleSkpO1xuICAgICAgfSBlbHNlIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIHJhd0tleSkpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChyYXdLZXkpKTtcbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ICE9PSByYXdUYXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0LmdldChrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICAgICFyZWFkb25seSAmJiB0cmFjayh0b1Jhdyh0YXJnZXQpLCBcIml0ZXJhdGVcIiwgSVRFUkFURV9LRVkpO1xuICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgXCJzaXplXCIsIHRhcmdldCk7XG4gICAgfSxcbiAgICBoYXMoa2V5KSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgaWYgKCFyZWFkb25seSkge1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiLCByYXdLZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleSA9PT0gcmF3S2V5ID8gdGFyZ2V0LmhhcyhrZXkpIDogdGFyZ2V0LmhhcyhrZXkpIHx8IHRhcmdldC5oYXMocmF3S2V5KTtcbiAgICB9LFxuICAgIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcbiAgICAgIGNvbnN0IHRhcmdldCA9IG9ic2VydmVkW1wiX192X3Jhd1wiXTtcbiAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICBjb25zdCB3cmFwID0gc2hhbGxvdyA/IHRvU2hhbGxvdyA6IHJlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgICAhcmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiwgSVRFUkFURV9LRVkpO1xuICAgICAgcmV0dXJuIHRhcmdldC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHdyYXAodmFsdWUpLCB3cmFwKGtleSksIG9ic2VydmVkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgZXh0ZW5kKFxuICAgIGluc3RydW1lbnRhdGlvbnMsXG4gICAgcmVhZG9ubHkgPyB7XG4gICAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIpLFxuICAgICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiKSxcbiAgICAgIGRlbGV0ZTogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJkZWxldGVcIiksXG4gICAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiKVxuICAgIH0gOiB7XG4gICAgICBhZGQodmFsdWUpIHtcbiAgICAgICAgaWYgKCFzaGFsbG93ICYmICFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XG4gICAgICAgIGNvbnN0IGhhZEtleSA9IHByb3RvLmhhcy5jYWxsKHRhcmdldCwgdmFsdWUpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIHRhcmdldC5hZGQodmFsdWUpO1xuICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiLCB2YWx1ZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICghc2hhbGxvdyAmJiAhaXNTaGFsbG93KHZhbHVlKSAmJiAhaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICAgICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgICAgIHRhcmdldC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIGtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKGtleSkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICAgICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQgPyBnZXQuY2FsbCh0YXJnZXQsIGtleSkgOiB2b2lkIDA7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5kZWxldGUoa2V5KTtcbiAgICAgICAgaWYgKGhhZEtleSkge1xuICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiLCBrZXksIHZvaWQgMCwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCBoYWRJdGVtcyA9IHRhcmdldC5zaXplICE9PSAwO1xuICAgICAgICBjb25zdCBvbGRUYXJnZXQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gaXNNYXAodGFyZ2V0KSA/IG5ldyBNYXAodGFyZ2V0KSA6IG5ldyBTZXQodGFyZ2V0KSA6IHZvaWQgMDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmNsZWFyKCk7XG4gICAgICAgIGlmIChoYWRJdGVtcykge1xuICAgICAgICAgIHRyaWdnZXIoXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBcImNsZWFyXCIsXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICBvbGRUYXJnZXRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICApO1xuICBjb25zdCBpdGVyYXRvck1ldGhvZHMgPSBbXG4gICAgXCJrZXlzXCIsXG4gICAgXCJ2YWx1ZXNcIixcbiAgICBcImVudHJpZXNcIixcbiAgICBTeW1ib2wuaXRlcmF0b3JcbiAgXTtcbiAgaXRlcmF0b3JNZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4ge1xuICAgIGluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgcmVhZG9ubHksIHNoYWxsb3cpO1xuICB9KTtcbiAgcmV0dXJuIGluc3RydW1lbnRhdGlvbnM7XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoaXNSZWFkb25seTIsIHNoYWxsb3cpIHtcbiAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IGNyZWF0ZUluc3RydW1lbnRhdGlvbnMoaXNSZWFkb25seTIsIHNoYWxsb3cpO1xuICByZXR1cm4gKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4ge1xuICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIikge1xuICAgICAgcmV0dXJuICFpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5nZXQoXG4gICAgICBoYXNPd24oaW5zdHJ1bWVudGF0aW9ucywga2V5KSAmJiBrZXkgaW4gdGFyZ2V0ID8gaW5zdHJ1bWVudGF0aW9ucyA6IHRhcmdldCxcbiAgICAgIGtleSxcbiAgICAgIHJlY2VpdmVyXG4gICAgKTtcbiAgfTtcbn1cbmNvbnN0IG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxufTtcbmNvbnN0IHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgdHJ1ZSlcbn07XG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KSB7XG4gIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gIGlmIChyYXdLZXkgIT09IGtleSAmJiBoYXMuY2FsbCh0YXJnZXQsIHJhd0tleSkpIHtcbiAgICBjb25zdCB0eXBlID0gdG9SYXdUeXBlKHRhcmdldCk7XG4gICAgd2FybihcbiAgICAgIGBSZWFjdGl2ZSAke3R5cGV9IGNvbnRhaW5zIGJvdGggdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgb2YgdGhlIHNhbWUgb2JqZWN0JHt0eXBlID09PSBgTWFwYCA/IGAgYXMga2V5c2AgOiBgYH0sIHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gQXZvaWQgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgb2YgYW4gb2JqZWN0IGFuZCBvbmx5IHVzZSB0aGUgcmVhY3RpdmUgdmVyc2lvbiBpZiBwb3NzaWJsZS5gXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCByZWFjdGl2ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWFkb25seU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiB0YXJnZXRUeXBlTWFwKHJhd1R5cGUpIHtcbiAgc3dpdGNoIChyYXdUeXBlKSB7XG4gICAgY2FzZSBcIk9iamVjdFwiOlxuICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgcmV0dXJuIDEgLyogQ09NTU9OICovO1xuICAgIGNhc2UgXCJNYXBcIjpcbiAgICBjYXNlIFwiU2V0XCI6XG4gICAgY2FzZSBcIldlYWtNYXBcIjpcbiAgICBjYXNlIFwiV2Vha1NldFwiOlxuICAgICAgcmV0dXJuIDIgLyogQ09MTEVDVElPTiAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLztcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VGFyZ2V0VHlwZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiXSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgPyAwIC8qIElOVkFMSUQgKi8gOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gcmVhY3RpdmUodGFyZ2V0KSB7XG4gIGlmIChpc1JlYWRvbmx5KHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgZmFsc2UsXG4gICAgbXV0YWJsZUhhbmRsZXJzLFxuICAgIG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhY3RpdmVNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFjdGl2ZSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyxcbiAgICBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gcmVhZG9ubHkodGFyZ2V0KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgdHJ1ZSxcbiAgICByZWFkb25seUhhbmRsZXJzLFxuICAgIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHJlYWRvbmx5TWFwXG4gICk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVhZG9ubHkodGFyZ2V0KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgdHJ1ZSxcbiAgICBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWRvbmx5TWFwXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGlzUmVhZG9ubHkyLCBiYXNlSGFuZGxlcnMsIGNvbGxlY3Rpb25IYW5kbGVycywgcHJveHlNYXApIHtcbiAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGB2YWx1ZSBjYW5ub3QgYmUgbWFkZSAke2lzUmVhZG9ubHkyID8gXCJyZWFkb25seVwiIDogXCJyZWFjdGl2ZVwifTogJHtTdHJpbmcoXG4gICAgICAgICAgdGFyZ2V0XG4gICAgICAgICl9YFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBpZiAodGFyZ2V0W1wiX192X3Jhd1wiXSAmJiAhKGlzUmVhZG9ubHkyICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCJdKSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY29uc3QgZXhpc3RpbmdQcm94eSA9IHByb3h5TWFwLmdldCh0YXJnZXQpO1xuICBpZiAoZXhpc3RpbmdQcm94eSkge1xuICAgIHJldHVybiBleGlzdGluZ1Byb3h5O1xuICB9XG4gIGNvbnN0IHRhcmdldFR5cGUgPSBnZXRUYXJnZXRUeXBlKHRhcmdldCk7XG4gIGlmICh0YXJnZXRUeXBlID09PSAwIC8qIElOVkFMSUQgKi8pIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KFxuICAgIHRhcmdldCxcbiAgICB0YXJnZXRUeXBlID09PSAyIC8qIENPTExFQ1RJT04gKi8gPyBjb2xsZWN0aW9uSGFuZGxlcnMgOiBiYXNlSGFuZGxlcnNcbiAgKTtcbiAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xuICByZXR1cm4gcHJveHk7XG59XG5mdW5jdGlvbiBpc1JlYWN0aXZlKHZhbHVlKSB7XG4gIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiXSk7XG4gIH1cbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIl0pO1xufVxuZnVuY3Rpb24gaXNSZWFkb25seSh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFkb25seVwiXSk7XG59XG5mdW5jdGlvbiBpc1NoYWxsb3codmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzU2hhbGxvd1wiXSk7XG59XG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA/ICEhdmFsdWVbXCJfX3ZfcmF3XCJdIDogZmFsc2U7XG59XG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xuICBjb25zdCByYXcgPSBvYnNlcnZlZCAmJiBvYnNlcnZlZFtcIl9fdl9yYXdcIl07XG4gIHJldHVybiByYXcgPyB0b1JhdyhyYXcpIDogb2JzZXJ2ZWQ7XG59XG5mdW5jdGlvbiBtYXJrUmF3KHZhbHVlKSB7XG4gIGlmICghaGFzT3duKHZhbHVlLCBcIl9fdl9za2lwXCIpICYmIE9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpKSB7XG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIsIHRydWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XG5cbmZ1bmN0aW9uIGlzUmVmKHIpIHtcbiAgcmV0dXJuIHIgPyByW1wiX192X2lzUmVmXCJdID09PSB0cnVlIDogZmFsc2U7XG59XG5mdW5jdGlvbiByZWYodmFsdWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlZih2YWx1ZSkge1xuICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdykge1xuICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XG4gICAgcmV0dXJuIHJhd1ZhbHVlO1xuICB9XG4gIHJldHVybiBuZXcgUmVmSW1wbChyYXdWYWx1ZSwgc2hhbGxvdyk7XG59XG5jbGFzcyBSZWZJbXBsIHtcbiAgY29uc3RydWN0b3IodmFsdWUsIGlzU2hhbGxvdzIpIHtcbiAgICB0aGlzLmRlcCA9IG5ldyBEZXAoKTtcbiAgICB0aGlzW1wiX192X2lzUmVmXCJdID0gdHJ1ZTtcbiAgICB0aGlzW1wiX192X2lzU2hhbGxvd1wiXSA9IGZhbHNlO1xuICAgIHRoaXMuX3Jhd1ZhbHVlID0gaXNTaGFsbG93MiA/IHZhbHVlIDogdG9SYXcodmFsdWUpO1xuICAgIHRoaXMuX3ZhbHVlID0gaXNTaGFsbG93MiA/IHZhbHVlIDogdG9SZWFjdGl2ZSh2YWx1ZSk7XG4gICAgdGhpc1tcIl9fdl9pc1NoYWxsb3dcIl0gPSBpc1NoYWxsb3cyO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgdGhpcy5kZXAudHJhY2soe1xuICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgIGtleTogXCJ2YWx1ZVwiXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZXAudHJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5fcmF3VmFsdWU7XG4gICAgY29uc3QgdXNlRGlyZWN0VmFsdWUgPSB0aGlzW1wiX192X2lzU2hhbGxvd1wiXSB8fCBpc1NoYWxsb3cobmV3VmFsdWUpIHx8IGlzUmVhZG9ubHkobmV3VmFsdWUpO1xuICAgIG5ld1ZhbHVlID0gdXNlRGlyZWN0VmFsdWUgPyBuZXdWYWx1ZSA6IHRvUmF3KG5ld1ZhbHVlKTtcbiAgICBpZiAoaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICB0aGlzLl9yYXdWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgdGhpcy5fdmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbHVlIDogdG9SZWFjdGl2ZShuZXdWYWx1ZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB0aGlzLmRlcC50cmlnZ2VyKHtcbiAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICBrZXk6IFwidmFsdWVcIixcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICBvbGRWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVwLnRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJSZWYocmVmMikge1xuICBpZiAocmVmMi5kZXApIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcmVmMi5kZXAudHJpZ2dlcih7XG4gICAgICAgIHRhcmdldDogcmVmMixcbiAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAga2V5OiBcInZhbHVlXCIsXG4gICAgICAgIG5ld1ZhbHVlOiByZWYyLl92YWx1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZjIuZGVwLnRyaWdnZXIoKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVucmVmKHJlZjIpIHtcbiAgcmV0dXJuIGlzUmVmKHJlZjIpID8gcmVmMi52YWx1ZSA6IHJlZjI7XG59XG5mdW5jdGlvbiB0b1ZhbHVlKHNvdXJjZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2UpID8gc291cmNlKCkgOiB1bnJlZihzb3VyY2UpO1xufVxuY29uc3Qgc2hhbGxvd1Vud3JhcEhhbmRsZXJzID0ge1xuICBnZXQ6ICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IGtleSA9PT0gXCJfX3ZfcmF3XCIgPyB0YXJnZXQgOiB1bnJlZihSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpKSxcbiAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikgPT4ge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgaWYgKGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcbiAgcmV0dXJuIGlzUmVhY3RpdmUob2JqZWN0V2l0aFJlZnMpID8gb2JqZWN0V2l0aFJlZnMgOiBuZXcgUHJveHkob2JqZWN0V2l0aFJlZnMsIHNoYWxsb3dVbndyYXBIYW5kbGVycyk7XG59XG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoZmFjdG9yeSkge1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICAgIGNvbnN0IGRlcCA9IHRoaXMuZGVwID0gbmV3IERlcCgpO1xuICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IGZhY3RvcnkoZGVwLnRyYWNrLmJpbmQoZGVwKSwgZGVwLnRyaWdnZXIuYmluZChkZXApKTtcbiAgICB0aGlzLl9nZXQgPSBnZXQ7XG4gICAgdGhpcy5fc2V0ID0gc2V0O1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgPSB0aGlzLl9nZXQoKTtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgdGhpcy5fc2V0KG5ld1ZhbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGN1c3RvbVJlZihmYWN0b3J5KSB7XG4gIHJldHVybiBuZXcgQ3VzdG9tUmVmSW1wbChmYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3QpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzUHJveHkob2JqZWN0KSkge1xuICAgIHdhcm4oYHRvUmVmcygpIGV4cGVjdHMgYSByZWFjdGl2ZSBvYmplY3QgYnV0IHJlY2VpdmVkIGEgcGxhaW4gb25lLmApO1xuICB9XG4gIGNvbnN0IHJldCA9IGlzQXJyYXkob2JqZWN0KSA/IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKSA6IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICByZXRba2V5XSA9IHByb3BlcnR5VG9SZWYob2JqZWN0LCBrZXkpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5jbGFzcyBPYmplY3RSZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoX29iamVjdCwgX2tleSwgX2RlZmF1bHRWYWx1ZSkge1xuICAgIHRoaXMuX29iamVjdCA9IF9vYmplY3Q7XG4gICAgdGhpcy5fa2V5ID0gX2tleTtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBfZGVmYXVsdFZhbHVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgPSB2YWwgPT09IHZvaWQgMCA/IHRoaXMuX2RlZmF1bHRWYWx1ZSA6IHZhbDtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XG4gIH1cbiAgZ2V0IGRlcCgpIHtcbiAgICByZXR1cm4gZ2V0RGVwRnJvbVJlYWN0aXZlKHRvUmF3KHRoaXMuX29iamVjdCksIHRoaXMuX2tleSk7XG4gIH1cbn1cbmNsYXNzIEdldHRlclJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihfZ2V0dGVyKSB7XG4gICAgdGhpcy5fZ2V0dGVyID0gX2dldHRlcjtcbiAgICB0aGlzW1wiX192X2lzUmVmXCJdID0gdHJ1ZTtcbiAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIl0gPSB0cnVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgPSB0aGlzLl9nZXR0ZXIoKTtcbiAgfVxufVxuZnVuY3Rpb24gdG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIG5ldyBHZXR0ZXJSZWZJbXBsKHNvdXJjZSk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSAmJiBhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIHJldHVybiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWYoc291cmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJvcGVydHlUb1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGNvbnN0IHZhbCA9IHNvdXJjZVtrZXldO1xuICByZXR1cm4gaXNSZWYodmFsKSA/IHZhbCA6IG5ldyBPYmplY3RSZWZJbXBsKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xufVxuXG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcihmbiwgc2V0dGVyLCBpc1NTUikge1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLnNldHRlciA9IHNldHRlcjtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl92YWx1ZSA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcCA9IG5ldyBEZXAodGhpcyk7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIC8vIFRPRE8gaXNvbGF0ZWREZWNsYXJhdGlvbnMgXCJfX3ZfaXNSZWFkb25seVwiXG4gICAgLy8gQSBjb21wdXRlZCBpcyBhbHNvIGEgc3Vic2NyaWJlciB0aGF0IHRyYWNrcyBvdGhlciBkZXBzXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwc1RhaWwgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5mbGFncyA9IDE2O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZ2xvYmFsVmVyc2lvbiA9IGdsb2JhbFZlcnNpb24gLSAxO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgIHRoaXMuZWZmZWN0ID0gdGhpcztcbiAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIl0gPSAhc2V0dGVyO1xuICAgIHRoaXMuaXNTU1IgPSBpc1NTUjtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnkoKSB7XG4gICAgdGhpcy5mbGFncyB8PSAxNjtcbiAgICBpZiAoISh0aGlzLmZsYWdzICYgOCkgJiYgLy8gYXZvaWQgaW5maW5pdGUgc2VsZiByZWN1cnNpb25cbiAgICBhY3RpdmVTdWIgIT09IHRoaXMpIHtcbiAgICAgIGJhdGNoKHRoaXMsIHRydWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IGxpbmsgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gdGhpcy5kZXAudHJhY2soe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgIGtleTogXCJ2YWx1ZVwiXG4gICAgfSkgOiB0aGlzLmRlcC50cmFjaygpO1xuICAgIHJlZnJlc2hDb21wdXRlZCh0aGlzKTtcbiAgICBpZiAobGluaykge1xuICAgICAgbGluay52ZXJzaW9uID0gdGhpcy5kZXAudmVyc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgIGlmICh0aGlzLnNldHRlcikge1xuICAgICAgdGhpcy5zZXR0ZXIobmV3VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcIldyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5XCIpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMsIGlzU1NSID0gZmFsc2UpIHtcbiAgbGV0IGdldHRlcjtcbiAgbGV0IHNldHRlcjtcbiAgaWYgKGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSkge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcbiAgfSBlbHNlIHtcbiAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xuICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XG4gIH1cbiAgY29uc3QgY1JlZiA9IG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIGlzU1NSKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZGVidWdPcHRpb25zICYmICFpc1NTUikge1xuICAgIGNSZWYub25UcmFjayA9IGRlYnVnT3B0aW9ucy5vblRyYWNrO1xuICAgIGNSZWYub25UcmlnZ2VyID0gZGVidWdPcHRpb25zLm9uVHJpZ2dlcjtcbiAgfVxuICByZXR1cm4gY1JlZjtcbn1cblxuY29uc3QgVHJhY2tPcFR5cGVzID0ge1xuICBcIkdFVFwiOiBcImdldFwiLFxuICBcIkhBU1wiOiBcImhhc1wiLFxuICBcIklURVJBVEVcIjogXCJpdGVyYXRlXCJcbn07XG5jb25zdCBUcmlnZ2VyT3BUeXBlcyA9IHtcbiAgXCJTRVRcIjogXCJzZXRcIixcbiAgXCJBRERcIjogXCJhZGRcIixcbiAgXCJERUxFVEVcIjogXCJkZWxldGVcIixcbiAgXCJDTEVBUlwiOiBcImNsZWFyXCJcbn07XG5jb25zdCBSZWFjdGl2ZUZsYWdzID0ge1xuICBcIlNLSVBcIjogXCJfX3Zfc2tpcFwiLFxuICBcIklTX1JFQUNUSVZFXCI6IFwiX192X2lzUmVhY3RpdmVcIixcbiAgXCJJU19SRUFET05MWVwiOiBcIl9fdl9pc1JlYWRvbmx5XCIsXG4gIFwiSVNfU0hBTExPV1wiOiBcIl9fdl9pc1NoYWxsb3dcIixcbiAgXCJSQVdcIjogXCJfX3ZfcmF3XCIsXG4gIFwiSVNfUkVGXCI6IFwiX192X2lzUmVmXCJcbn07XG5cbmNvbnN0IFdhdGNoRXJyb3JDb2RlcyA9IHtcbiAgXCJXQVRDSF9HRVRURVJcIjogMixcbiAgXCIyXCI6IFwiV0FUQ0hfR0VUVEVSXCIsXG4gIFwiV0FUQ0hfQ0FMTEJBQ0tcIjogMyxcbiAgXCIzXCI6IFwiV0FUQ0hfQ0FMTEJBQ0tcIixcbiAgXCJXQVRDSF9DTEVBTlVQXCI6IDQsXG4gIFwiNFwiOiBcIldBVENIX0NMRUFOVVBcIlxufTtcbmNvbnN0IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xuY29uc3QgY2xlYW51cE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xubGV0IGFjdGl2ZVdhdGNoZXIgPSB2b2lkIDA7XG5mdW5jdGlvbiBnZXRDdXJyZW50V2F0Y2hlcigpIHtcbiAgcmV0dXJuIGFjdGl2ZVdhdGNoZXI7XG59XG5mdW5jdGlvbiBvbldhdGNoZXJDbGVhbnVwKGNsZWFudXBGbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UsIG93bmVyID0gYWN0aXZlV2F0Y2hlcikge1xuICBpZiAob3duZXIpIHtcbiAgICBsZXQgY2xlYW51cHMgPSBjbGVhbnVwTWFwLmdldChvd25lcik7XG4gICAgaWYgKCFjbGVhbnVwcykgY2xlYW51cE1hcC5zZXQob3duZXIsIGNsZWFudXBzID0gW10pO1xuICAgIGNsZWFudXBzLnB1c2goY2xlYW51cEZuKTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uV2F0Y2hlckNsZWFudXAoKSB3YXMgY2FsbGVkIHdoZW4gdGhlcmUgd2FzIG5vIGFjdGl2ZSB3YXRjaGVyIHRvIGFzc29jaWF0ZSB3aXRoLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IHsgaW1tZWRpYXRlLCBkZWVwLCBvbmNlLCBzY2hlZHVsZXIsIGF1Z21lbnRKb2IsIGNhbGwgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHdhcm5JbnZhbGlkU291cmNlID0gKHMpID0+IHtcbiAgICAob3B0aW9ucy5vbldhcm4gfHwgd2FybikoXG4gICAgICBgSW52YWxpZCB3YXRjaCBzb3VyY2U6IGAsXG4gICAgICBzLFxuICAgICAgYEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGEgcmVhY3RpdmUgb2JqZWN0LCBvciBhbiBhcnJheSBvZiB0aGVzZSB0eXBlcy5gXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgcmVhY3RpdmVHZXR0ZXIgPSAoc291cmNlMikgPT4ge1xuICAgIGlmIChkZWVwKSByZXR1cm4gc291cmNlMjtcbiAgICBpZiAoaXNTaGFsbG93KHNvdXJjZTIpIHx8IGRlZXAgPT09IGZhbHNlIHx8IGRlZXAgPT09IDApXG4gICAgICByZXR1cm4gdHJhdmVyc2Uoc291cmNlMiwgMSk7XG4gICAgcmV0dXJuIHRyYXZlcnNlKHNvdXJjZTIpO1xuICB9O1xuICBsZXQgZWZmZWN0O1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgY2xlYW51cDtcbiAgbGV0IGJvdW5kQ2xlYW51cDtcbiAgbGV0IGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xuICBsZXQgaXNNdWx0aVNvdXJjZSA9IGZhbHNlO1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS52YWx1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBpc1NoYWxsb3coc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKHNvdXJjZSkpIHtcbiAgICBnZXR0ZXIgPSAoKSA9PiByZWFjdGl2ZUdldHRlcihzb3VyY2UpO1xuICAgIGZvcmNlVHJpZ2dlciA9IHRydWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XG4gICAgZm9yY2VUcmlnZ2VyID0gc291cmNlLnNvbWUoKHMpID0+IGlzUmVhY3RpdmUocykgfHwgaXNTaGFsbG93KHMpKTtcbiAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKChzKSA9PiB7XG4gICAgICBpZiAoaXNSZWYocykpIHtcbiAgICAgICAgcmV0dXJuIHMudmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcbiAgICAgICAgcmV0dXJuIHJlYWN0aXZlR2V0dGVyKHMpO1xuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgICAgIHJldHVybiBjYWxsID8gY2FsbChzLCAyKSA6IHMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBnZXR0ZXIgPSBjYWxsID8gKCkgPT4gY2FsbChzb3VyY2UsIDIpIDogc291cmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudEVmZmVjdCA9IGFjdGl2ZVdhdGNoZXI7XG4gICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBlZmZlY3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGwgPyBjYWxsKHNvdXJjZSwgMywgW2JvdW5kQ2xlYW51cF0pIDogc291cmNlKGJvdW5kQ2xlYW51cCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGN1cnJlbnRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IE5PT1A7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzb3VyY2UpO1xuICB9XG4gIGlmIChjYiAmJiBkZWVwKSB7XG4gICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcbiAgICBjb25zdCBkZXB0aCA9IGRlZXAgPT09IHRydWUgPyBJbmZpbml0eSA6IGRlZXA7XG4gICAgZ2V0dGVyID0gKCkgPT4gdHJhdmVyc2UoYmFzZUdldHRlcigpLCBkZXB0aCk7XG4gIH1cbiAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgY29uc3Qgd2F0Y2hIYW5kbGUgPSAoKSA9PiB7XG4gICAgZWZmZWN0LnN0b3AoKTtcbiAgICBpZiAoc2NvcGUgJiYgc2NvcGUuYWN0aXZlKSB7XG4gICAgICByZW1vdmUoc2NvcGUuZWZmZWN0cywgZWZmZWN0KTtcbiAgICB9XG4gIH07XG4gIGlmIChvbmNlICYmIGNiKSB7XG4gICAgY29uc3QgX2NiID0gY2I7XG4gICAgY2IgPSAoLi4uYXJncykgPT4ge1xuICAgICAgX2NiKC4uLmFyZ3MpO1xuICAgICAgd2F0Y2hIYW5kbGUoKTtcbiAgICB9O1xuICB9XG4gIGxldCBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCkuZmlsbChJTklUSUFMX1dBVENIRVJfVkFMVUUpIDogSU5JVElBTF9XQVRDSEVSX1ZBTFVFO1xuICBjb25zdCBqb2IgPSAoaW1tZWRpYXRlRmlyc3RSdW4pID0+IHtcbiAgICBpZiAoIShlZmZlY3QuZmxhZ3MgJiAxKSB8fCAhZWZmZWN0LmRpcnR5ICYmICFpbW1lZGlhdGVGaXJzdFJ1bikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2IpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgaWYgKGRlZXAgfHwgZm9yY2VUcmlnZ2VyIHx8IChpc011bHRpU291cmNlID8gbmV3VmFsdWUuc29tZSgodiwgaSkgPT4gaGFzQ2hhbmdlZCh2LCBvbGRWYWx1ZVtpXSkpIDogaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSkge1xuICAgICAgICBpZiAoY2xlYW51cCkge1xuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50V2F0Y2hlciA9IGFjdGl2ZVdhdGNoZXI7XG4gICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBlZmZlY3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgYXJncyA9IFtcbiAgICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgICAgLy8gcGFzcyB1bmRlZmluZWQgYXMgdGhlIG9sZCB2YWx1ZSB3aGVuIGl0J3MgY2hhbmdlZCBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyB2b2lkIDAgOiBpc011bHRpU291cmNlICYmIG9sZFZhbHVlWzBdID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyBbXSA6IG9sZFZhbHVlLFxuICAgICAgICAgICAgYm91bmRDbGVhbnVwXG4gICAgICAgICAgXTtcbiAgICAgICAgICBjYWxsID8gY2FsbChjYiwgMywgYXJncykgOiAoXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBjYiguLi5hcmdzKVxuICAgICAgICAgICk7XG4gICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY3RpdmVXYXRjaGVyID0gY3VycmVudFdhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGF1Z21lbnRKb2IpIHtcbiAgICBhdWdtZW50Sm9iKGpvYik7XG4gIH1cbiAgZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGdldHRlcik7XG4gIGVmZmVjdC5zY2hlZHVsZXIgPSBzY2hlZHVsZXIgPyAoKSA9PiBzY2hlZHVsZXIoam9iLCBmYWxzZSkgOiBqb2I7XG4gIGJvdW5kQ2xlYW51cCA9IChmbikgPT4gb25XYXRjaGVyQ2xlYW51cChmbiwgZmFsc2UsIGVmZmVjdCk7XG4gIGNsZWFudXAgPSBlZmZlY3Qub25TdG9wID0gKCkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXBzID0gY2xlYW51cE1hcC5nZXQoZWZmZWN0KTtcbiAgICBpZiAoY2xlYW51cHMpIHtcbiAgICAgIGlmIChjYWxsKSB7XG4gICAgICAgIGNhbGwoY2xlYW51cHMsIDQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBjbGVhbnVwMiBvZiBjbGVhbnVwcykgY2xlYW51cDIoKTtcbiAgICAgIH1cbiAgICAgIGNsZWFudXBNYXAuZGVsZXRlKGVmZmVjdCk7XG4gICAgfVxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGVmZmVjdC5vblRyYWNrID0gb3B0aW9ucy5vblRyYWNrO1xuICAgIGVmZmVjdC5vblRyaWdnZXIgPSBvcHRpb25zLm9uVHJpZ2dlcjtcbiAgfVxuICBpZiAoY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICBqb2IodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9sZFZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzY2hlZHVsZXIpIHtcbiAgICBzY2hlZHVsZXIoam9iLmJpbmQobnVsbCwgdHJ1ZSksIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGVmZmVjdC5ydW4oKTtcbiAgfVxuICB3YXRjaEhhbmRsZS5wYXVzZSA9IGVmZmVjdC5wYXVzZS5iaW5kKGVmZmVjdCk7XG4gIHdhdGNoSGFuZGxlLnJlc3VtZSA9IGVmZmVjdC5yZXN1bWUuYmluZChlZmZlY3QpO1xuICB3YXRjaEhhbmRsZS5zdG9wID0gd2F0Y2hIYW5kbGU7XG4gIHJldHVybiB3YXRjaEhhbmRsZTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBkZXB0aCA9IEluZmluaXR5LCBzZWVuKSB7XG4gIGlmIChkZXB0aCA8PSAwIHx8ICFpc09iamVjdCh2YWx1ZSkgfHwgdmFsdWVbXCJfX3Zfc2tpcFwiXSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBpZiAoc2Vlbi5oYXModmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHNlZW4uYWRkKHZhbHVlKTtcbiAgZGVwdGgtLTtcbiAgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgIHRyYXZlcnNlKHZhbHVlLnZhbHVlLCBkZXB0aCwgc2Vlbik7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0cmF2ZXJzZSh2YWx1ZVtpXSwgZGVwdGgsIHNlZW4pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc1NldCh2YWx1ZSkgfHwgaXNNYXAodmFsdWUpKSB7XG4gICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xuICAgICAgdHJhdmVyc2UodiwgZGVwdGgsIHNlZW4pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIGRlcHRoLCBzZWVuKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh2YWx1ZSkpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgZGVwdGgsIHNlZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB7IEFSUkFZX0lURVJBVEVfS0VZLCBFZmZlY3RGbGFncywgRWZmZWN0U2NvcGUsIElURVJBVEVfS0VZLCBNQVBfS0VZX0lURVJBVEVfS0VZLCBSZWFjdGl2ZUVmZmVjdCwgUmVhY3RpdmVGbGFncywgVHJhY2tPcFR5cGVzLCBUcmlnZ2VyT3BUeXBlcywgV2F0Y2hFcnJvckNvZGVzLCBjb21wdXRlZCwgY3VzdG9tUmVmLCBlZmZlY3QsIGVmZmVjdFNjb3BlLCBlbmFibGVUcmFja2luZywgZ2V0Q3VycmVudFNjb3BlLCBnZXRDdXJyZW50V2F0Y2hlciwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1Jhdywgb25FZmZlY3RDbGVhbnVwLCBvblNjb3BlRGlzcG9zZSwgb25XYXRjaGVyQ2xlYW51cCwgcGF1c2VUcmFja2luZywgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhY3RpdmVSZWFkQXJyYXksIHJlYWRvbmx5LCByZWYsIHJlc2V0VHJhY2tpbmcsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRBcnJheSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWFjdGl2ZSwgdG9SZWFkb25seSwgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJhY2ssIHRyYXZlcnNlLCB0cmlnZ2VyLCB0cmlnZ2VyUmVmLCB1bnJlZiwgd2F0Y2ggfTtcbiIsIi8qKlxuKiBAdnVlL3J1bnRpbWUtY29yZSB2My41LjEzXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBwYXVzZVRyYWNraW5nLCByZXNldFRyYWNraW5nLCBpc1JlZiwgdG9SYXcsIHRyYXZlcnNlLCBzaGFsbG93UmVmLCByZWFkb25seSwgaXNSZWFjdGl2ZSwgcmVmLCBpc1NoYWxsb3csIHNoYWxsb3dSZWFkQXJyYXksIHRvUmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgdHJhY2ssIHJlYWN0aXZlLCBzaGFsbG93UmVhY3RpdmUsIHRyaWdnZXIsIFJlYWN0aXZlRWZmZWN0LCB3YXRjaCBhcyB3YXRjaCQxLCBjdXN0b21SZWYsIGlzUHJveHksIHByb3h5UmVmcywgbWFya1JhdywgRWZmZWN0U2NvcGUsIGNvbXB1dGVkIGFzIGNvbXB1dGVkJDEsIGlzUmVhZG9ubHkgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuZXhwb3J0IHsgRWZmZWN0U2NvcGUsIFJlYWN0aXZlRWZmZWN0LCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBjdXN0b21SZWYsIGVmZmVjdCwgZWZmZWN0U2NvcGUsIGdldEN1cnJlbnRTY29wZSwgZ2V0Q3VycmVudFdhdGNoZXIsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBpc1NoYWxsb3csIG1hcmtSYXcsIG9uU2NvcGVEaXNwb3NlLCBvbldhdGNoZXJDbGVhbnVwLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRvVmFsdWUsIHRyaWdnZXJSZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc1Byb21pc2UsIGlzQXJyYXksIEVNUFRZX09CSiwgTk9PUCwgZ2V0R2xvYmFsVGhpcywgZXh0ZW5kLCBpc0J1aWx0SW5EaXJlY3RpdmUsIGhhc093biwgcmVtb3ZlLCBkZWYsIGlzT24sIGlzUmVzZXJ2ZWRQcm9wLCBub3JtYWxpemVDbGFzcywgc3RyaW5naWZ5U3R5bGUsIG5vcm1hbGl6ZVN0eWxlLCBpc0tub3duU3ZnQXR0ciwgaXNCb29sZWFuQXR0ciwgaXNLbm93bkh0bWxBdHRyLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSwgZ2V0RXNjYXBlZENzc1Zhck5hbWUsIGlzT2JqZWN0LCBpc1JlZ0V4cCwgaW52b2tlQXJyYXlGbnMsIHRvSGFuZGxlcktleSwgY2FwaXRhbGl6ZSwgY2FtZWxpemUsIGlzU3ltYm9sLCBpc0dsb2JhbGx5QWxsb3dlZCwgTk8sIGh5cGhlbmF0ZSwgRU1QVFlfQVJSLCB0b1Jhd1R5cGUsIG1ha2VNYXAsIGhhc0NoYW5nZWQsIGxvb3NlVG9OdW1iZXIsIGlzTW9kZWxMaXN0ZW5lciwgdG9OdW1iZXIgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5leHBvcnQgeyBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXkgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN0YWNrID0gW107XG5mdW5jdGlvbiBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpIHtcbiAgc3RhY2sucHVzaCh2bm9kZSk7XG59XG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcbiAgc3RhY2sucG9wKCk7XG59XG5sZXQgaXNXYXJuaW5nID0gZmFsc2U7XG5mdW5jdGlvbiB3YXJuJDEobXNnLCAuLi5hcmdzKSB7XG4gIGlmIChpc1dhcm5pbmcpIHJldHVybjtcbiAgaXNXYXJuaW5nID0gdHJ1ZTtcbiAgcGF1c2VUcmFja2luZygpO1xuICBjb25zdCBpbnN0YW5jZSA9IHN0YWNrLmxlbmd0aCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLmNvbXBvbmVudCA6IG51bGw7XG4gIGNvbnN0IGFwcFdhcm5IYW5kbGVyID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcud2FybkhhbmRsZXI7XG4gIGNvbnN0IHRyYWNlID0gZ2V0Q29tcG9uZW50VHJhY2UoKTtcbiAgaWYgKGFwcFdhcm5IYW5kbGVyKSB7XG4gICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgYXBwV2FybkhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDExLFxuICAgICAgW1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgICAgbXNnICsgYXJncy5tYXAoKGEpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBhLnRvU3RyaW5nKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChhKSkgIT0gbnVsbCA/IF9iIDogSlNPTi5zdHJpbmdpZnkoYSk7XG4gICAgICAgIH0pLmpvaW4oXCJcIiksXG4gICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxuICAgICAgICB0cmFjZS5tYXAoXG4gICAgICAgICAgKHsgdm5vZGUgfSkgPT4gYGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIHZub2RlLnR5cGUpfT5gXG4gICAgICAgICkuam9pbihcIlxcblwiKSxcbiAgICAgICAgdHJhY2VcbiAgICAgIF1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHdhcm5BcmdzID0gW2BbVnVlIHdhcm5dOiAke21zZ31gLCAuLi5hcmdzXTtcbiAgICBpZiAodHJhY2UubGVuZ3RoICYmIC8vIGF2b2lkIHNwYW1taW5nIGNvbnNvbGUgZHVyaW5nIHRlc3RzXG4gICAgdHJ1ZSkge1xuICAgICAgd2FybkFyZ3MucHVzaChgXG5gLCAuLi5mb3JtYXRUcmFjZSh0cmFjZSkpO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oLi4ud2FybkFyZ3MpO1xuICB9XG4gIHJlc2V0VHJhY2tpbmcoKTtcbiAgaXNXYXJuaW5nID0gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcbiAgbGV0IGN1cnJlbnRWTm9kZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAoIWN1cnJlbnRWTm9kZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkU3RhY2sgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xuICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XG4gICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XG4gICAgICBsYXN0LnJlY3Vyc2VDb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XG4gICAgICAgIHZub2RlOiBjdXJyZW50Vk5vZGUsXG4gICAgICAgIHJlY3Vyc2VDb3VudDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcbiAgICBjdXJyZW50Vk5vZGUgPSBwYXJlbnRJbnN0YW5jZSAmJiBwYXJlbnRJbnN0YW5jZS52bm9kZTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcbiAgY29uc3QgbG9ncyA9IFtdO1xuICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xuICAgIGxvZ3MucHVzaCguLi5pID09PSAwID8gW10gOiBbYFxuYF0sIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcbiAgfSk7XG4gIHJldHVybiBsb2dzO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xuICBjb25zdCBwb3N0Zml4ID0gcmVjdXJzZUNvdW50ID4gMCA/IGAuLi4gKCR7cmVjdXJzZUNvdW50fSByZWN1cnNpdmUgY2FsbHMpYCA6IGBgO1xuICBjb25zdCBpc1Jvb3QgPSB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQucGFyZW50ID09IG51bGwgOiBmYWxzZTtcbiAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShcbiAgICB2bm9kZS5jb21wb25lbnQsXG4gICAgdm5vZGUudHlwZSxcbiAgICBpc1Jvb3RcbiAgKX1gO1xuICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XG4gIHJldHVybiB2bm9kZS5wcm9wcyA/IFtvcGVuLCAuLi5mb3JtYXRQcm9wcyh2bm9kZS5wcm9wcyksIGNsb3NlXSA6IFtvcGVuICsgY2xvc2VdO1xufVxuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcbiAgY29uc3QgcmVzID0gW107XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcbiAgfSk7XG4gIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcbiAgICByZXMucHVzaChgIC4uLmApO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IGZvcm1hdFByb3Aoa2V5LCB0b1Jhdyh2YWx1ZS52YWx1ZSksIHRydWUpO1xuICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PVJlZjxgLCB2YWx1ZSwgYD5gXTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09YCwgdmFsdWVdO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnROdW1iZXIodmFsLCB0eXBlKSB7XG4gIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgcmV0dXJuO1xuICBpZiAodmFsID09PSB2b2lkIDApIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCAhPT0gXCJudW1iZXJcIikge1xuICAgIHdhcm4kMShgJHt0eXBlfSBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcbiAgfSBlbHNlIGlmIChpc05hTih2YWwpKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIE5hTiAtIHRoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC5gKTtcbiAgfVxufVxuXG5jb25zdCBFcnJvckNvZGVzID0ge1xuICBcIlNFVFVQX0ZVTkNUSU9OXCI6IDAsXG4gIFwiMFwiOiBcIlNFVFVQX0ZVTkNUSU9OXCIsXG4gIFwiUkVOREVSX0ZVTkNUSU9OXCI6IDEsXG4gIFwiMVwiOiBcIlJFTkRFUl9GVU5DVElPTlwiLFxuICBcIk5BVElWRV9FVkVOVF9IQU5ETEVSXCI6IDUsXG4gIFwiNVwiOiBcIk5BVElWRV9FVkVOVF9IQU5ETEVSXCIsXG4gIFwiQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVJcIjogNixcbiAgXCI2XCI6IFwiQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJWTk9ERV9IT09LXCI6IDcsXG4gIFwiN1wiOiBcIlZOT0RFX0hPT0tcIixcbiAgXCJESVJFQ1RJVkVfSE9PS1wiOiA4LFxuICBcIjhcIjogXCJESVJFQ1RJVkVfSE9PS1wiLFxuICBcIlRSQU5TSVRJT05fSE9PS1wiOiA5LFxuICBcIjlcIjogXCJUUkFOU0lUSU9OX0hPT0tcIixcbiAgXCJBUFBfRVJST1JfSEFORExFUlwiOiAxMCxcbiAgXCIxMFwiOiBcIkFQUF9FUlJPUl9IQU5ETEVSXCIsXG4gIFwiQVBQX1dBUk5fSEFORExFUlwiOiAxMSxcbiAgXCIxMVwiOiBcIkFQUF9XQVJOX0hBTkRMRVJcIixcbiAgXCJGVU5DVElPTl9SRUZcIjogMTIsXG4gIFwiMTJcIjogXCJGVU5DVElPTl9SRUZcIixcbiAgXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCI6IDEzLFxuICBcIjEzXCI6IFwiQVNZTkNfQ09NUE9ORU5UX0xPQURFUlwiLFxuICBcIlNDSEVEVUxFUlwiOiAxNCxcbiAgXCIxNFwiOiBcIlNDSEVEVUxFUlwiLFxuICBcIkNPTVBPTkVOVF9VUERBVEVcIjogMTUsXG4gIFwiMTVcIjogXCJDT01QT05FTlRfVVBEQVRFXCIsXG4gIFwiQVBQX1VOTU9VTlRfQ0xFQU5VUFwiOiAxNixcbiAgXCIxNlwiOiBcIkFQUF9VTk1PVU5UX0NMRUFOVVBcIlxufTtcbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MkMSA9IHtcbiAgW1wic3BcIl06IFwic2VydmVyUHJlZmV0Y2ggaG9va1wiLFxuICBbXCJiY1wiXTogXCJiZWZvcmVDcmVhdGUgaG9va1wiLFxuICBbXCJjXCJdOiBcImNyZWF0ZWQgaG9va1wiLFxuICBbXCJibVwiXTogXCJiZWZvcmVNb3VudCBob29rXCIsXG4gIFtcIm1cIl06IFwibW91bnRlZCBob29rXCIsXG4gIFtcImJ1XCJdOiBcImJlZm9yZVVwZGF0ZSBob29rXCIsXG4gIFtcInVcIl06IFwidXBkYXRlZFwiLFxuICBbXCJidW1cIl06IFwiYmVmb3JlVW5tb3VudCBob29rXCIsXG4gIFtcInVtXCJdOiBcInVubW91bnRlZCBob29rXCIsXG4gIFtcImFcIl06IFwiYWN0aXZhdGVkIGhvb2tcIixcbiAgW1wiZGFcIl06IFwiZGVhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJlY1wiXTogXCJlcnJvckNhcHR1cmVkIGhvb2tcIixcbiAgW1wicnRjXCJdOiBcInJlbmRlclRyYWNrZWQgaG9va1wiLFxuICBbXCJydGdcIl06IFwicmVuZGVyVHJpZ2dlcmVkIGhvb2tcIixcbiAgWzBdOiBcInNldHVwIGZ1bmN0aW9uXCIsXG4gIFsxXTogXCJyZW5kZXIgZnVuY3Rpb25cIixcbiAgWzJdOiBcIndhdGNoZXIgZ2V0dGVyXCIsXG4gIFszXTogXCJ3YXRjaGVyIGNhbGxiYWNrXCIsXG4gIFs0XTogXCJ3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb25cIixcbiAgWzVdOiBcIm5hdGl2ZSBldmVudCBoYW5kbGVyXCIsXG4gIFs2XTogXCJjb21wb25lbnQgZXZlbnQgaGFuZGxlclwiLFxuICBbN106IFwidm5vZGUgaG9va1wiLFxuICBbOF06IFwiZGlyZWN0aXZlIGhvb2tcIixcbiAgWzldOiBcInRyYW5zaXRpb24gaG9va1wiLFxuICBbMTBdOiBcImFwcCBlcnJvckhhbmRsZXJcIixcbiAgWzExXTogXCJhcHAgd2FybkhhbmRsZXJcIixcbiAgWzEyXTogXCJyZWYgZnVuY3Rpb25cIixcbiAgWzEzXTogXCJhc3luYyBjb21wb25lbnQgbG9hZGVyXCIsXG4gIFsxNF06IFwic2NoZWR1bGVyIGZsdXNoXCIsXG4gIFsxNV06IFwiY29tcG9uZW50IHVwZGF0ZVwiLFxuICBbMTZdOiBcImFwcCB1bm1vdW50IGNsZWFudXAgZnVuY3Rpb25cIlxufTtcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXJncyA/IGZuKC4uLmFyZ3MpIDogZm4oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICBjb25zdCByZXMgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcbiAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICByZXMuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmIChpc0FycmF5KGZuKSkge1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgSW52YWxpZCB2YWx1ZSB0eXBlIHBhc3NlZCB0byBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZygpOiAke3R5cGVvZiBmbn1gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcbiAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XG4gIGNvbnN0IHsgZXJyb3JIYW5kbGVyLCB0aHJvd1VuaGFuZGxlZEVycm9ySW5Qcm9kdWN0aW9uIH0gPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyB8fCBFTVBUWV9PQko7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGxldCBjdXIgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XG4gICAgY29uc3QgZXJyb3JJbmZvID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXSA6IGBodHRwczovL3Z1ZWpzLm9yZy9lcnJvci1yZWZlcmVuY2UvI3J1bnRpbWUtJHt0eXBlfWA7XG4gICAgd2hpbGUgKGN1cikge1xuICAgICAgY29uc3QgZXJyb3JDYXB0dXJlZEhvb2tzID0gY3VyLmVjO1xuICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yQ2FwdHVyZWRIb29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3NbaV0oZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mbykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXIgPSBjdXIucGFyZW50O1xuICAgIH1cbiAgICBpZiAoZXJyb3JIYW5kbGVyKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZXJyb3JIYW5kbGVyLCBudWxsLCAxMCwgW1xuICAgICAgICBlcnIsXG4gICAgICAgIGV4cG9zZWRJbnN0YW5jZSxcbiAgICAgICAgZXJyb3JJbmZvXG4gICAgICBdKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYsIHRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24pO1xufVxuZnVuY3Rpb24gbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYgPSB0cnVlLCB0aHJvd0luUHJvZCA9IGZhbHNlKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgaW5mbyA9IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXTtcbiAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICBwdXNoV2FybmluZ0NvbnRleHQoY29udGV4dFZOb2RlKTtcbiAgICB9XG4gICAgd2FybiQxKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcbiAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgIH1cbiAgICBpZiAodGhyb3dJbkRldikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHRocm93SW5Qcm9kKSB7XG4gICAgdGhyb3cgZXJyO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5jb25zdCBxdWV1ZSA9IFtdO1xubGV0IGZsdXNoSW5kZXggPSAtMTtcbmNvbnN0IHBlbmRpbmdQb3N0Rmx1c2hDYnMgPSBbXTtcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xubGV0IHBvc3RGbHVzaEluZGV4ID0gMDtcbmNvbnN0IHJlc29sdmVkUHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gIGNvbnN0IHAgPSBjdXJyZW50Rmx1c2hQcm9taXNlIHx8IHJlc29sdmVkUHJvbWlzZTtcbiAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcbn1cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChpZCkge1xuICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcbiAgbGV0IGVuZCA9IHF1ZXVlLmxlbmd0aDtcbiAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgY29uc3QgbWlkZGxlID0gc3RhcnQgKyBlbmQgPj4+IDE7XG4gICAgY29uc3QgbWlkZGxlSm9iID0gcXVldWVbbWlkZGxlXTtcbiAgICBjb25zdCBtaWRkbGVKb2JJZCA9IGdldElkKG1pZGRsZUpvYik7XG4gICAgaWYgKG1pZGRsZUpvYklkIDwgaWQgfHwgbWlkZGxlSm9iSWQgPT09IGlkICYmIG1pZGRsZUpvYi5mbGFncyAmIDIpIHtcbiAgICAgIHN0YXJ0ID0gbWlkZGxlICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kID0gbWlkZGxlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhcnQ7XG59XG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcbiAgaWYgKCEoam9iLmZsYWdzICYgMSkpIHtcbiAgICBjb25zdCBqb2JJZCA9IGdldElkKGpvYik7XG4gICAgY29uc3QgbGFzdEpvYiA9IHF1ZXVlW3F1ZXVlLmxlbmd0aCAtIDFdO1xuICAgIGlmICghbGFzdEpvYiB8fCAvLyBmYXN0IHBhdGggd2hlbiB0aGUgam9iIGlkIGlzIGxhcmdlciB0aGFuIHRoZSB0YWlsXG4gICAgIShqb2IuZmxhZ3MgJiAyKSAmJiBqb2JJZCA+PSBnZXRJZChsYXN0Sm9iKSkge1xuICAgICAgcXVldWUucHVzaChqb2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZS5zcGxpY2UoZmluZEluc2VydGlvbkluZGV4KGpvYklkKSwgMCwgam9iKTtcbiAgICB9XG4gICAgam9iLmZsYWdzIHw9IDE7XG4gICAgcXVldWVGbHVzaCgpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZUZsdXNoKCkge1xuICBpZiAoIWN1cnJlbnRGbHVzaFByb21pc2UpIHtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcbiAgfVxufVxuZnVuY3Rpb24gcXVldWVQb3N0Rmx1c2hDYihjYikge1xuICBpZiAoIWlzQXJyYXkoY2IpKSB7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicyAmJiBjYi5pZCA9PT0gLTEpIHtcbiAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5zcGxpY2UocG9zdEZsdXNoSW5kZXggKyAxLCAwLCBjYik7XG4gICAgfSBlbHNlIGlmICghKGNiLmZsYWdzICYgMSkpIHtcbiAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaChjYik7XG4gICAgICBjYi5mbGFncyB8PSAxO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLnB1c2goLi4uY2IpO1xuICB9XG4gIHF1ZXVlRmx1c2goKTtcbn1cbmZ1bmN0aW9uIGZsdXNoUHJlRmx1c2hDYnMoaW5zdGFuY2UsIHNlZW4sIGkgPSBmbHVzaEluZGV4ICsgMSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNiID0gcXVldWVbaV07XG4gICAgaWYgKGNiICYmIGNiLmZsYWdzICYgMikge1xuICAgICAgaWYgKGluc3RhbmNlICYmIGNiLmlkICE9PSBpbnN0YW5jZS51aWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgY2IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgaS0tO1xuICAgICAgaWYgKGNiLmZsYWdzICYgNCkge1xuICAgICAgICBjYi5mbGFncyAmPSB+MTtcbiAgICAgIH1cbiAgICAgIGNiKCk7XG4gICAgICBpZiAoIShjYi5mbGFncyAmIDQpKSB7XG4gICAgICAgIGNiLmZsYWdzICY9IH4xO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xuICBpZiAocGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICBjb25zdCBkZWR1cGVkID0gWy4uLm5ldyBTZXQocGVuZGluZ1Bvc3RGbHVzaENicyldLnNvcnQoXG4gICAgICAoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKVxuICAgICk7XG4gICAgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGggPSAwO1xuICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcbiAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5wdXNoKC4uLmRlZHVwZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBkZWR1cGVkO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBmb3IgKHBvc3RGbHVzaEluZGV4ID0gMDsgcG9zdEZsdXNoSW5kZXggPCBhY3RpdmVQb3N0Rmx1c2hDYnMubGVuZ3RoOyBwb3N0Rmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBjYiA9IGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF07XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgY2IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNiLmZsYWdzICYgNCkge1xuICAgICAgICBjYi5mbGFncyAmPSB+MTtcbiAgICAgIH1cbiAgICAgIGlmICghKGNiLmZsYWdzICYgOCkpIGNiKCk7XG4gICAgICBjYi5mbGFncyAmPSB+MTtcbiAgICB9XG4gICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcbiAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XG4gIH1cbn1cbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBqb2IuZmxhZ3MgJiAyID8gLTEgOiBJbmZpbml0eSA6IGpvYi5pZDtcbmZ1bmN0aW9uIGZsdXNoSm9icyhzZWVuKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBjb25zdCBjaGVjayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyAoam9iKSA9PiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKSA6IE5PT1A7XG4gIHRyeSB7XG4gICAgZm9yIChmbHVzaEluZGV4ID0gMDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgIGlmIChqb2IgJiYgIShqb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVjayhqb2IpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpvYi5mbGFncyAmIDQpIHtcbiAgICAgICAgICBqb2IuZmxhZ3MgJj0gfjE7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgICAgIGpvYixcbiAgICAgICAgICBqb2IuaSxcbiAgICAgICAgICBqb2IuaSA/IDE1IDogMTRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEoam9iLmZsYWdzICYgNCkpIHtcbiAgICAgICAgICBqb2IuZmxhZ3MgJj0gfjE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgZm9yICg7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xuICAgICAgY29uc3Qgam9iID0gcXVldWVbZmx1c2hJbmRleF07XG4gICAgICBpZiAoam9iKSB7XG4gICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgIH1cbiAgICB9XG4gICAgZmx1c2hJbmRleCA9IC0xO1xuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XG4gICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgICAgZmx1c2hKb2JzKHNlZW4pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XG4gIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pIHx8IDA7XG4gIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZm4uaTtcbiAgICBjb25zdCBjb21wb25lbnROYW1lID0gaW5zdGFuY2UgJiYgZ2V0Q29tcG9uZW50TmFtZShpbnN0YW5jZS50eXBlKTtcbiAgICBoYW5kbGVFcnJvcihcbiAgICAgIGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gLFxuICAgICAgbnVsbCxcbiAgICAgIDEwXG4gICAgKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5sZXQgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuY29uc3QgaG1yRGlydHlDb21wb25lbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xuICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxuICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcbiAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxuICB9O1xufVxuY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIGNvbnN0IGlkID0gaW5zdGFuY2UudHlwZS5fX2htcklkO1xuICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcbiAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgfVxuICByZWNvcmQuaW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIG1hcC5nZXQoaW5zdGFuY2UudHlwZS5fX2htcklkKS5pbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCwgaW5pdGlhbERlZikge1xuICBpZiAobWFwLmhhcyhpZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbWFwLnNldChpZCwge1xuICAgIGluaXRpYWxEZWY6IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluaXRpYWxEZWYpLFxuICAgIGluc3RhbmNlczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICB9KTtcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC5fX3ZjY09wdHMgOiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XG4gIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICBpZiAoIXJlY29yZCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZWNvcmQuaW5pdGlhbERlZi5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gIFsuLi5yZWNvcmQuaW5zdGFuY2VzXS5mb3JFYWNoKChpbnN0YW5jZSkgPT4ge1xuICAgIGlmIChuZXdSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICAgIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICBpc0htclVwZGF0aW5nID0gZmFsc2U7XG4gIH0pO1xufVxuZnVuY3Rpb24gcmVsb2FkKGlkLCBuZXdDb21wKSB7XG4gIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICBpZiAoIXJlY29yZCkgcmV0dXJuO1xuICBuZXdDb21wID0gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQobmV3Q29tcCk7XG4gIHVwZGF0ZUNvbXBvbmVudERlZihyZWNvcmQuaW5pdGlhbERlZiwgbmV3Q29tcCk7XG4gIGNvbnN0IGluc3RhbmNlcyA9IFsuLi5yZWNvcmQuaW5zdGFuY2VzXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc1tpXTtcbiAgICBjb25zdCBvbGRDb21wID0gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSk7XG4gICAgbGV0IGRpcnR5SW5zdGFuY2VzID0gaG1yRGlydHlDb21wb25lbnRzLmdldChvbGRDb21wKTtcbiAgICBpZiAoIWRpcnR5SW5zdGFuY2VzKSB7XG4gICAgICBpZiAob2xkQ29tcCAhPT0gcmVjb3JkLmluaXRpYWxEZWYpIHtcbiAgICAgICAgdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApO1xuICAgICAgfVxuICAgICAgaG1yRGlydHlDb21wb25lbnRzLnNldChvbGRDb21wLCBkaXJ0eUluc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICAgIH1cbiAgICBkaXJ0eUluc3RhbmNlcy5hZGQoaW5zdGFuY2UpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQucHJvcHNDYWNoZS5kZWxldGUoaW5zdGFuY2UudHlwZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5lbWl0c0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0Lm9wdGlvbnNDYWNoZS5kZWxldGUoaW5zdGFuY2UudHlwZSk7XG4gICAgaWYgKGluc3RhbmNlLmNlUmVsb2FkKSB7XG4gICAgICBkaXJ0eUluc3RhbmNlcy5hZGQoaW5zdGFuY2UpO1xuICAgICAgaW5zdGFuY2UuY2VSZWxvYWQobmV3Q29tcC5zdHlsZXMpO1xuICAgICAgZGlydHlJbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLnBhcmVudCkge1xuICAgICAgcXVldWVKb2IoKCkgPT4ge1xuICAgICAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UucGFyZW50LnVwZGF0ZSgpO1xuICAgICAgICBpc0htclVwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIGRpcnR5SW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKSB7XG4gICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnJvb3QuY2UgJiYgaW5zdGFuY2UgIT09IGluc3RhbmNlLnJvb3QpIHtcbiAgICAgIGluc3RhbmNlLnJvb3QuY2UuX3JlbW92ZUNoaWxkU3R5bGUob2xkQ29tcCk7XG4gICAgfVxuICB9XG4gIHF1ZXVlUG9zdEZsdXNoQ2IoKCkgPT4ge1xuICAgIGhtckRpcnR5Q29tcG9uZW50cy5jbGVhcigpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudERlZihvbGRDb21wLCBuZXdDb21wKSB7XG4gIGV4dGVuZChvbGRDb21wLCBuZXdDb21wKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2xkQ29tcCkge1xuICAgIGlmIChrZXkgIT09IFwiX19maWxlXCIgJiYgIShrZXkgaW4gbmV3Q29tcCkpIHtcbiAgICAgIGRlbGV0ZSBvbGRDb21wW2tleV07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XG4gIHJldHVybiAoaWQsIGFyZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFtITVJdIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBWdWUgY29tcG9uZW50IGhvdC1yZWxvYWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLmBcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG5sZXQgZGV2dG9vbHMkMTtcbmxldCBidWZmZXIgPSBbXTtcbmxldCBkZXZ0b29sc05vdEluc3RhbGxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gZW1pdCQxKGV2ZW50LCAuLi5hcmdzKSB7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgfSBlbHNlIGlmICghZGV2dG9vbHNOb3RJbnN0YWxsZWQpIHtcbiAgICBidWZmZXIucHVzaCh7IGV2ZW50LCBhcmdzIH0pO1xuICB9XG59XG5mdW5jdGlvbiBzZXREZXZ0b29sc0hvb2skMShob29rLCB0YXJnZXQpIHtcbiAgdmFyIF9hLCBfYjtcbiAgZGV2dG9vbHMkMSA9IGhvb2s7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbmFibGVkID0gdHJ1ZTtcbiAgICBidWZmZXIuZm9yRWFjaCgoeyBldmVudCwgYXJncyB9KSA9PiBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpKTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfSBlbHNlIGlmIChcbiAgICAvLyBoYW5kbGUgbGF0ZSBkZXZ0b29scyBpbmplY3Rpb24gLSBvbmx5IGRvIHRoaXMgaWYgd2UgYXJlIGluIGFuIGFjdHVhbFxuICAgIC8vIGJyb3dzZXIgZW52aXJvbm1lbnQgdG8gYXZvaWQgdGhlIHRpbWVyIGhhbmRsZSBzdGFsbGluZyB0ZXN0IHJ1bm5lciBleGl0XG4gICAgLy8gKCM0ODE1KVxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgLy8gc29tZSBlbnZzIG1vY2sgd2luZG93IGJ1dCBub3QgZnVsbHlcbiAgICB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgLy8gYWxzbyBleGNsdWRlIGpzZG9tXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgISgoX2IgPSAoX2EgPSB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlckFnZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJqc2RvbVwiKSlcbiAgKSB7XG4gICAgY29uc3QgcmVwbGF5ID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyB8fCBbXTtcbiAgICByZXBsYXkucHVzaCgobmV3SG9vaykgPT4ge1xuICAgICAgc2V0RGV2dG9vbHNIb29rJDEobmV3SG9vaywgdGFyZ2V0KTtcbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghZGV2dG9vbHMkMSkge1xuICAgICAgICB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IG51bGw7XG4gICAgICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgICAgYnVmZmVyID0gW107XG4gICAgICB9XG4gICAgfSwgM2UzKTtcbiAgfSBlbHNlIHtcbiAgICBkZXZ0b29sc05vdEluc3RhbGxlZCA9IHRydWU7XG4gICAgYnVmZmVyID0gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pIHtcbiAgZW1pdCQxKFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XG4gICAgRnJhZ21lbnQsXG4gICAgVGV4dCxcbiAgICBDb21tZW50LFxuICAgIFN0YXRpY1xuICB9KTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzVW5tb3VudEFwcChhcHApIHtcbiAgZW1pdCQxKFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcbn1cbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50QWRkZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OmFkZGVkXCIgLyogQ09NUE9ORU5UX0FEREVEICovKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIENPTVBPTkVOVF9VUERBVEVEICovKTtcbmNvbnN0IF9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFxuICBcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi9cbik7XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAoY29tcG9uZW50KSA9PiB7XG4gIGlmIChkZXZ0b29scyQxICYmIHR5cGVvZiBkZXZ0b29scyQxLmNsZWFudXBCdWZmZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAvLyByZW1vdmUgdGhlIGNvbXBvbmVudCBpZiBpdCB3YXNuJ3QgYnVmZmVyZWRcbiAgIWRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlcihjb21wb25lbnQpKSB7XG4gICAgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChjb21wb25lbnQpO1xuICB9XG59O1xuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKGhvb2spIHtcbiAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcbiAgICBlbWl0JDEoXG4gICAgICBob29rLFxuICAgICAgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLFxuICAgICAgY29tcG9uZW50LnVpZCxcbiAgICAgIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHZvaWQgMCxcbiAgICAgIGNvbXBvbmVudFxuICAgICk7XG4gIH07XG59XG5jb25zdCBkZXZ0b29sc1BlcmZTdGFydCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6c3RhcnRcIiAvKiBQRVJGT1JNQU5DRV9TVEFSVCAqLyk7XG5jb25zdCBkZXZ0b29sc1BlcmZFbmQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXCJwZXJmOmVuZFwiIC8qIFBFUkZPUk1BTkNFX0VORCAqLyk7XG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhob29rKSB7XG4gIHJldHVybiAoY29tcG9uZW50LCB0eXBlLCB0aW1lKSA9PiB7XG4gICAgZW1pdCQxKGhvb2ssIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LnVpZCwgY29tcG9uZW50LCB0eXBlLCB0aW1lKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzQ29tcG9uZW50RW1pdChjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpIHtcbiAgZW1pdCQxKFxuICAgIFwiY29tcG9uZW50OmVtaXRcIiAvKiBDT01QT05FTlRfRU1JVCAqLyxcbiAgICBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsXG4gICAgY29tcG9uZW50LFxuICAgIGV2ZW50LFxuICAgIHBhcmFtc1xuICApO1xufVxuXG5sZXQgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcbmxldCBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG5mdW5jdGlvbiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3QgcHJldiA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XG4gIGN1cnJlbnRTY29wZUlkID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX3Njb3BlSWQgfHwgbnVsbDtcbiAgcmV0dXJuIHByZXY7XG59XG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xuICBjdXJyZW50U2NvcGVJZCA9IGlkO1xufVxuZnVuY3Rpb24gcG9wU2NvcGVJZCgpIHtcbiAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xufVxuY29uc3Qgd2l0aFNjb3BlSWQgPSAoX2lkKSA9PiB3aXRoQ3R4O1xuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCBpc05vblNjb3BlZFNsb3QpIHtcbiAgaWYgKCFjdHgpIHJldHVybiBmbjtcbiAgaWYgKGZuLl9uKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG4gIGNvbnN0IHJlbmRlckZuV2l0aENvbnRleHQgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcbiAgICB9XG4gICAgY29uc3QgcHJldkluc3RhbmNlID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XG4gICAgbGV0IHJlcztcbiAgICB0cnkge1xuICAgICAgcmVzID0gZm4oLi4uYXJncyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2SW5zdGFuY2UpO1xuICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoY3R4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fbiA9IHRydWU7XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX2MgPSB0cnVlO1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9kID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlckZuV2l0aENvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKSB7XG4gIGlmIChpc0J1aWx0SW5EaXJlY3RpdmUobmFtZSkpIHtcbiAgICB3YXJuJDEoXCJEbyBub3QgdXNlIGJ1aWx0LWluIGRpcmVjdGl2ZSBpZHMgYXMgY3VzdG9tIGRpcmVjdGl2ZSBpZDogXCIgKyBuYW1lKTtcbiAgfVxufVxuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcbiAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBjb25zdCBpbnN0YW5jZSA9IGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSk7XG4gIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycyB8fCAodm5vZGUuZGlycyA9IFtdKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IFtkaXIsIHZhbHVlLCBhcmcsIG1vZGlmaWVycyA9IEVNUFRZX09CSl0gPSBkaXJlY3RpdmVzW2ldO1xuICAgIGlmIChkaXIpIHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcikpIHtcbiAgICAgICAgZGlyID0ge1xuICAgICAgICAgIG1vdW50ZWQ6IGRpcixcbiAgICAgICAgICB1cGRhdGVkOiBkaXJcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXIuZGVlcCkge1xuICAgICAgICB0cmF2ZXJzZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBiaW5kaW5ncy5wdXNoKHtcbiAgICAgICAgZGlyLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXG4gICAgICAgIGFyZyxcbiAgICAgICAgbW9kaWZpZXJzXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xuICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnM7XG4gIGNvbnN0IG9sZEJpbmRpbmdzID0gcHJldlZOb2RlICYmIHByZXZWTm9kZS5kaXJzO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xuICAgIGlmIChvbGRCaW5kaW5ncykge1xuICAgICAgYmluZGluZy5vbGRWYWx1ZSA9IG9sZEJpbmRpbmdzW2ldLnZhbHVlO1xuICAgIH1cbiAgICBsZXQgaG9vayA9IGJpbmRpbmcuZGlyW25hbWVdO1xuICAgIGlmIChob29rKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgOCwgW1xuICAgICAgICB2bm9kZS5lbCxcbiAgICAgICAgYmluZGluZyxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIHByZXZWTm9kZVxuICAgICAgXSk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IFRlbGVwb3J0RW5kS2V5ID0gU3ltYm9sKFwiX3Z0ZVwiKTtcbmNvbnN0IGlzVGVsZXBvcnQgPSAodHlwZSkgPT4gdHlwZS5fX2lzVGVsZXBvcnQ7XG5jb25zdCBpc1RlbGVwb3J0RGlzYWJsZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5kaXNhYmxlZCA9PT0gXCJcIik7XG5jb25zdCBpc1RlbGVwb3J0RGVmZXJyZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kZWZlciB8fCBwcm9wcy5kZWZlciA9PT0gXCJcIik7XG5jb25zdCBpc1RhcmdldFNWRyA9ICh0YXJnZXQpID0+IHR5cGVvZiBTVkdFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG5jb25zdCBpc1RhcmdldE1hdGhNTCA9ICh0YXJnZXQpID0+IHR5cGVvZiBNYXRoTUxFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgJiYgdGFyZ2V0IGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudDtcbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAocHJvcHMsIHNlbGVjdCkgPT4ge1xuICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHByb3BzICYmIHByb3BzLnRvO1xuICBpZiAoaXNTdHJpbmcodGFyZ2V0U2VsZWN0b3IpKSB7XG4gICAgaWYgKCFzZWxlY3QpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgQ3VycmVudCByZW5kZXJlciBkb2VzIG5vdCBzdXBwb3J0IHN0cmluZyB0YXJnZXQgZm9yIFRlbGVwb3J0cy4gKG1pc3NpbmcgcXVlcnlTZWxlY3RvciByZW5kZXJlciBvcHRpb24pYFxuICAgICAgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBzZWxlY3QodGFyZ2V0U2VsZWN0b3IpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXRhcmdldCAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYEZhaWxlZCB0byBsb2NhdGUgVGVsZXBvcnQgdGFyZ2V0IHdpdGggc2VsZWN0b3IgXCIke3RhcmdldFNlbGVjdG9yfVwiLiBOb3RlIHRoZSB0YXJnZXQgZWxlbWVudCBtdXN0IGV4aXN0IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgLSBpLmUuIHRoZSB0YXJnZXQgY2Fubm90IGJlIHJlbmRlcmVkIGJ5IHRoZSBjb21wb25lbnQgaXRzZWxmLCBhbmQgaWRlYWxseSBzaG91bGQgYmUgb3V0c2lkZSBvZiB0aGUgZW50aXJlIFZ1ZSBjb21wb25lbnQgdHJlZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgIHdhcm4kMShgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRTZWxlY3RvcjtcbiAgfVxufTtcbmNvbnN0IFRlbGVwb3J0SW1wbCA9IHtcbiAgbmFtZTogXCJUZWxlcG9ydFwiLFxuICBfX2lzVGVsZXBvcnQ6IHRydWUsXG4gIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgICBwYzogcGF0Y2hDaGlsZHJlbixcbiAgICAgIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLFxuICAgICAgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfVxuICAgIH0gPSBpbnRlcm5hbHM7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjIucHJvcHMpO1xuICAgIGxldCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBuMi5lbCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVDb21tZW50KFwidGVsZXBvcnQgc3RhcnRcIikgOiBjcmVhdGVUZXh0KFwiXCIpO1xuICAgICAgY29uc3QgbWFpbkFuY2hvciA9IG4yLmFuY2hvciA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVDb21tZW50KFwidGVsZXBvcnQgZW5kXCIpIDogY3JlYXRlVGV4dChcIlwiKTtcbiAgICAgIGluc2VydChwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lcjIsIGFuY2hvcjIpID0+IHtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuaXNDRSkge1xuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmNlLl90ZWxlcG9ydFRhcmdldCA9IGNvbnRhaW5lcjI7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICBhbmNob3IyLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgbW91bnRUb1RhcmdldCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IHByZXBhcmVBbmNob3IodGFyZ2V0LCBuMiwgY3JlYXRlVGV4dCwgaW5zZXJ0KTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UgIT09IFwic3ZnXCIgJiYgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSAhPT0gXCJtYXRobWxcIiAmJiBpc1RhcmdldE1hdGhNTCh0YXJnZXQpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICB1cGRhdGVDc3NWYXJzKG4yLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDpcIixcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBtb3VudChjb250YWluZXIsIG1haW5BbmNob3IpO1xuICAgICAgICB1cGRhdGVDc3NWYXJzKG4yLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1RlbGVwb3J0RGVmZXJyZWQobjIucHJvcHMpKSB7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgbW91bnRUb1RhcmdldCgpO1xuICAgICAgICAgIG4yLmVsLl9faXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRUb1RhcmdldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNUZWxlcG9ydERlZmVycmVkKG4yLnByb3BzKSAmJiAhbjEuZWwuX19pc01vdW50ZWQpIHtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBUZWxlcG9ydEltcGwucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgICAgZGVsZXRlIG4xLmVsLl9faXNNb3VudGVkO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICBuMi50YXJnZXRTdGFydCA9IG4xLnRhcmdldFN0YXJ0O1xuICAgICAgY29uc3QgbWFpbkFuY2hvciA9IG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG4yLnRhcmdldCA9IG4xLnRhcmdldDtcbiAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcjtcbiAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDb250YWluZXIgPSB3YXNEaXNhYmxlZCA/IGNvbnRhaW5lciA6IHRhcmdldDtcbiAgICAgIGNvbnN0IGN1cnJlbnRBbmNob3IgPSB3YXNEaXNhYmxlZCA/IG1haW5BbmNob3IgOiB0YXJnZXRBbmNob3I7XG4gICAgICBpZiAobmFtZXNwYWNlID09PSBcInN2Z1wiIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCkpIHtcbiAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSBcIm1hdGhtbFwiIHx8IGlzVGFyZ2V0TWF0aE1MKHRhcmdldCkpIHtcbiAgICAgICAgbmFtZXNwYWNlID0gXCJtYXRobWxcIjtcbiAgICAgIH1cbiAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKFxuICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgY3VycmVudENvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIGN1cnJlbnRBbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBpZiAoIXdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBtYWluQW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG4yLnByb3BzICYmIG4xLnByb3BzICYmIG4yLnByb3BzLnRvICE9PSBuMS5wcm9wcy50bykge1xuICAgICAgICAgICAgbjIucHJvcHMudG8gPSBuMS5wcm9wcy50bztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XG4gICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgICAgICAgICBuMi5wcm9wcyxcbiAgICAgICAgICAgIHF1ZXJ5U2VsZWN0b3JcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXh0VGFyZ2V0KSB7XG4gICAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgICBuZXh0VGFyZ2V0LFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gdXBkYXRlOlwiLFxuICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xuICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdGFyZ2V0QW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIGRpc2FibGVkKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgeyB1bTogdW5tb3VudCwgbzogeyByZW1vdmU6IGhvc3RSZW1vdmUgfSB9LCBkb1JlbW92ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgYW5jaG9yLFxuICAgICAgdGFyZ2V0U3RhcnQsXG4gICAgICB0YXJnZXRBbmNob3IsXG4gICAgICB0YXJnZXQsXG4gICAgICBwcm9wc1xuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBob3N0UmVtb3ZlKHRhcmdldFN0YXJ0KTtcbiAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcbiAgICB9XG4gICAgZG9SZW1vdmUgJiYgaG9zdFJlbW92ZShhbmNob3IpO1xuICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlID0gZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNob3VsZFJlbW92ZSxcbiAgICAgICAgICAhIWNoaWxkLmR5bmFtaWNDaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW92ZTogbW92ZVRlbGVwb3J0LFxuICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcbn07XG5mdW5jdGlvbiBtb3ZlVGVsZXBvcnQodm5vZGUsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCB7IG86IHsgaW5zZXJ0IH0sIG06IG1vdmUgfSwgbW92ZVR5cGUgPSAyKSB7XG4gIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBjb25zdCB7IGVsLCBhbmNob3IsIHNoYXBlRmxhZywgY2hpbGRyZW4sIHByb3BzIH0gPSB2bm9kZTtcbiAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDI7XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoZWwsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vdmUoXG4gICAgICAgICAgY2hpbGRyZW5baV0sXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudEFuY2hvcixcbiAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGh5ZHJhdGVUZWxlcG9ydChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHtcbiAgbzogeyBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcXVlcnlTZWxlY3RvciwgaW5zZXJ0LCBjcmVhdGVUZXh0IH1cbn0sIGh5ZHJhdGVDaGlsZHJlbikge1xuICBjb25zdCB0YXJnZXQgPSB2bm9kZS50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KFxuICAgIHZub2RlLnByb3BzLFxuICAgIHF1ZXJ5U2VsZWN0b3JcbiAgKTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKTtcbiAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0Ll9scGEgfHwgdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIG5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudE5vZGUobm9kZSksXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgdm5vZGUudGFyZ2V0U3RhcnQgPSB0YXJnZXROb2RlO1xuICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlICYmIG5leHRTaWJsaW5nKHRhcmdldE5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGxldCB0YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgICB3aGlsZSAodGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgaWYgKHRhcmdldEFuY2hvciAmJiB0YXJnZXRBbmNob3Iubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXRBbmNob3IuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBzdGFydCBhbmNob3JcIikge1xuICAgICAgICAgICAgICB2bm9kZS50YXJnZXRTdGFydCA9IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0QW5jaG9yLmRhdGEgPT09IFwidGVsZXBvcnQgYW5jaG9yXCIpIHtcbiAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgICB0YXJnZXQuX2xwYSA9IHZub2RlLnRhcmdldEFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS50YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFyZ2V0QW5jaG9yID0gbmV4dFNpYmxpbmcodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZub2RlLnRhcmdldEFuY2hvcikge1xuICAgICAgICAgIHByZXBhcmVBbmNob3IodGFyZ2V0LCB2bm9kZSwgY3JlYXRlVGV4dCwgaW5zZXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgdGFyZ2V0Tm9kZSAmJiBuZXh0U2libGluZyh0YXJnZXROb2RlKSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ3NzVmFycyh2bm9kZSwgZGlzYWJsZWQpO1xuICB9XG4gIHJldHVybiB2bm9kZS5hbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yKTtcbn1cbmNvbnN0IFRlbGVwb3J0ID0gVGVsZXBvcnRJbXBsO1xuZnVuY3Rpb24gdXBkYXRlQ3NzVmFycyh2bm9kZSwgaXNEaXNhYmxlZCkge1xuICBjb25zdCBjdHggPSB2bm9kZS5jdHg7XG4gIGlmIChjdHggJiYgY3R4LnV0KSB7XG4gICAgbGV0IG5vZGUsIGFuY2hvcjtcbiAgICBpZiAoaXNEaXNhYmxlZCkge1xuICAgICAgbm9kZSA9IHZub2RlLmVsO1xuICAgICAgYW5jaG9yID0gdm5vZGUuYW5jaG9yO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlID0gdm5vZGUudGFyZ2V0U3RhcnQ7XG4gICAgICBhbmNob3IgPSB2bm9kZS50YXJnZXRBbmNob3I7XG4gICAgfVxuICAgIHdoaWxlIChub2RlICYmIG5vZGUgIT09IGFuY2hvcikge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS12LW93bmVyXCIsIGN0eC51aWQpO1xuICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIGN0eC51dCgpO1xuICB9XG59XG5mdW5jdGlvbiBwcmVwYXJlQW5jaG9yKHRhcmdldCwgdm5vZGUsIGNyZWF0ZVRleHQsIGluc2VydCkge1xuICBjb25zdCB0YXJnZXRTdGFydCA9IHZub2RlLnRhcmdldFN0YXJ0ID0gY3JlYXRlVGV4dChcIlwiKTtcbiAgY29uc3QgdGFyZ2V0QW5jaG9yID0gdm5vZGUudGFyZ2V0QW5jaG9yID0gY3JlYXRlVGV4dChcIlwiKTtcbiAgdGFyZ2V0U3RhcnRbVGVsZXBvcnRFbmRLZXldID0gdGFyZ2V0QW5jaG9yO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgaW5zZXJ0KHRhcmdldFN0YXJ0LCB0YXJnZXQpO1xuICAgIGluc2VydCh0YXJnZXRBbmNob3IsIHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIHRhcmdldEFuY2hvcjtcbn1cblxuY29uc3QgbGVhdmVDYktleSA9IFN5bWJvbChcIl9sZWF2ZUNiXCIpO1xuY29uc3QgZW50ZXJDYktleSA9IFN5bWJvbChcIl9lbnRlckNiXCIpO1xuZnVuY3Rpb24gdXNlVHJhbnNpdGlvblN0YXRlKCkge1xuICBjb25zdCBzdGF0ZSA9IHtcbiAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgIGlzTGVhdmluZzogZmFsc2UsXG4gICAgaXNVbm1vdW50aW5nOiBmYWxzZSxcbiAgICBsZWF2aW5nVk5vZGVzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4gIH07XG4gIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgc3RhdGUuaXNNb3VudGVkID0gdHJ1ZTtcbiAgfSk7XG4gIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgc3RhdGUuaXNVbm1vdW50aW5nID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiBzdGF0ZTtcbn1cbmNvbnN0IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yID0gW0Z1bmN0aW9uLCBBcnJheV07XG5jb25zdCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcbiAgbW9kZTogU3RyaW5nLFxuICBhcHBlYXI6IEJvb2xlYW4sXG4gIHBlcnNpc3RlZDogQm9vbGVhbixcbiAgLy8gZW50ZXJcbiAgb25CZWZvcmVFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFmdGVyRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkVudGVyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgLy8gbGVhdmVcbiAgb25CZWZvcmVMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFmdGVyTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkxlYXZlQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgLy8gYXBwZWFyXG4gIG9uQmVmb3JlQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFmdGVyQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BcHBlYXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yXG59O1xuY29uc3QgcmVjdXJzaXZlR2V0U3VidHJlZSA9IChpbnN0YW5jZSkgPT4ge1xuICBjb25zdCBzdWJUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgcmV0dXJuIHN1YlRyZWUuY29tcG9uZW50ID8gcmVjdXJzaXZlR2V0U3VidHJlZShzdWJUcmVlLmNvbXBvbmVudCkgOiBzdWJUcmVlO1xufTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uSW1wbCA9IHtcbiAgbmFtZTogYEJhc2VUcmFuc2l0aW9uYCxcbiAgcHJvcHM6IEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLFxuICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSwgdHJ1ZSk7XG4gICAgICBpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hpbGQgPSBmaW5kTm9uQ29tbWVudENoaWxkKGNoaWxkcmVuKTtcbiAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgY29uc3QgeyBtb2RlIH0gPSByYXdQcm9wcztcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG1vZGUgJiYgbW9kZSAhPT0gXCJpbi1vdXRcIiAmJiBtb2RlICE9PSBcIm91dC1pblwiICYmIG1vZGUgIT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgIHdhcm4kMShgaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJHttb2RlfWApO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmlzTGVhdmluZykge1xuICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbm5lckNoaWxkID0gZ2V0SW5uZXJDaGlsZCQxKGNoaWxkKTtcbiAgICAgIGlmICghaW5uZXJDaGlsZCkge1xuICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICB9XG4gICAgICBsZXQgZW50ZXJIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgIGlubmVyQ2hpbGQsXG4gICAgICAgIHJhd1Byb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIC8vICMxMTA2MSwgZW5zdXJlIGVudGVySG9va3MgaXMgZnJlc2ggYWZ0ZXIgY2xvbmVcbiAgICAgICAgKGhvb2tzKSA9PiBlbnRlckhvb2tzID0gaG9va3NcbiAgICAgICk7XG4gICAgICBpZiAoaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCBlbnRlckhvb2tzKTtcbiAgICAgIH1cbiAgICAgIGxldCBvbGRJbm5lckNoaWxkID0gaW5zdGFuY2Uuc3ViVHJlZSAmJiBnZXRJbm5lckNoaWxkJDEoaW5zdGFuY2Uuc3ViVHJlZSk7XG4gICAgICBpZiAob2xkSW5uZXJDaGlsZCAmJiBvbGRJbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQgJiYgIWlzU2FtZVZOb2RlVHlwZShpbm5lckNoaWxkLCBvbGRJbm5lckNoaWxkKSAmJiByZWN1cnNpdmVHZXRTdWJ0cmVlKGluc3RhbmNlKS50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgIGxldCBsZWF2aW5nSG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgIG9sZElubmVyQ2hpbGQsXG4gICAgICAgICAgcmF3UHJvcHMsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIGxlYXZpbmdIb29rcyk7XG4gICAgICAgIGlmIChtb2RlID09PSBcIm91dC1pblwiICYmIGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IHRydWU7XG4gICAgICAgICAgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICghKGluc3RhbmNlLmpvYi5mbGFncyAmIDgpKSB7XG4gICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlO1xuICAgICAgICAgICAgb2xkSW5uZXJDaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImluLW91dFwiICYmIGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKFxuICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtTdHJpbmcob2xkSW5uZXJDaGlsZC5rZXkpXSA9IG9sZElubmVyQ2hpbGQ7XG4gICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcbiAgICAgICAgICAgICAgZWxbbGVhdmVDYktleV0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgIGRlbGV0ZSBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgZGVsYXllZExlYXZlKCk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG9sZElubmVyQ2hpbGQpIHtcbiAgICAgICAgb2xkSW5uZXJDaGlsZCA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICB9XG59O1xuZnVuY3Rpb24gZmluZE5vbkNvbW1lbnRDaGlsZChjaGlsZHJlbikge1xuICBsZXQgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICBsZXQgaGFzRm91bmQgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IGMgb2YgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChjLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaGFzRm91bmQpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBcIjx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQgb3IgY29tcG9uZW50LiBVc2UgPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQgPSBjO1xuICAgICAgICBoYXNGb3VuZCA9IHRydWU7XG4gICAgICAgIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGlsZDtcbn1cbmNvbnN0IEJhc2VUcmFuc2l0aW9uID0gQmFzZVRyYW5zaXRpb25JbXBsO1xuZnVuY3Rpb24gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpIHtcbiAgY29uc3QgeyBsZWF2aW5nVk5vZGVzIH0gPSBzdGF0ZTtcbiAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xuICBpZiAoIWxlYXZpbmdWTm9kZXNDYWNoZSkge1xuICAgIGxlYXZpbmdWTm9kZXNDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XG4gIH1cbiAgcmV0dXJuIGxlYXZpbmdWTm9kZXNDYWNoZTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uSG9va3Modm5vZGUsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UsIHBvc3RDbG9uZSkge1xuICBjb25zdCB7XG4gICAgYXBwZWFyLFxuICAgIG1vZGUsXG4gICAgcGVyc2lzdGVkID0gZmFsc2UsXG4gICAgb25CZWZvcmVFbnRlcixcbiAgICBvbkVudGVyLFxuICAgIG9uQWZ0ZXJFbnRlcixcbiAgICBvbkVudGVyQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlTGVhdmUsXG4gICAgb25MZWF2ZSxcbiAgICBvbkFmdGVyTGVhdmUsXG4gICAgb25MZWF2ZUNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUFwcGVhcixcbiAgICBvbkFwcGVhcixcbiAgICBvbkFmdGVyQXBwZWFyLFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qga2V5ID0gU3RyaW5nKHZub2RlLmtleSk7XG4gIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcbiAgY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgIGhvb2sgJiYgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBob29rLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA5LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH07XG4gIGNvbnN0IGNhbGxBc3luY0hvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgIGNvbnN0IGRvbmUgPSBhcmdzWzFdO1xuICAgIGNhbGxIb29rKGhvb2ssIGFyZ3MpO1xuICAgIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgICBpZiAoaG9vay5ldmVyeSgoaG9vazIpID0+IGhvb2syLmxlbmd0aCA8PSAxKSkgZG9uZSgpO1xuICAgIH0gZWxzZSBpZiAoaG9vay5sZW5ndGggPD0gMSkge1xuICAgICAgZG9uZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaG9va3MgPSB7XG4gICAgbW9kZSxcbiAgICBwZXJzaXN0ZWQsXG4gICAgYmVmb3JlRW50ZXIoZWwpIHtcbiAgICAgIGxldCBob29rID0gb25CZWZvcmVFbnRlcjtcbiAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICBob29rID0gb25CZWZvcmVBcHBlYXIgfHwgb25CZWZvcmVFbnRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbFtsZWF2ZUNiS2V5XSkge1xuICAgICAgICBlbFtsZWF2ZUNiS2V5XShcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcbiAgICAgIGlmIChsZWF2aW5nVk5vZGUgJiYgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmIGxlYXZpbmdWTm9kZS5lbFtsZWF2ZUNiS2V5XSkge1xuICAgICAgICBsZWF2aW5nVk5vZGUuZWxbbGVhdmVDYktleV0oKTtcbiAgICAgIH1cbiAgICAgIGNhbGxIb29rKGhvb2ssIFtlbF0pO1xuICAgIH0sXG4gICAgZW50ZXIoZWwpIHtcbiAgICAgIGxldCBob29rID0gb25FbnRlcjtcbiAgICAgIGxldCBhZnRlckhvb2sgPSBvbkFmdGVyRW50ZXI7XG4gICAgICBsZXQgY2FuY2VsSG9vayA9IG9uRW50ZXJDYW5jZWxsZWQ7XG4gICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgaG9vayA9IG9uQXBwZWFyIHx8IG9uRW50ZXI7XG4gICAgICAgICAgYWZ0ZXJIb29rID0gb25BZnRlckFwcGVhciB8fCBvbkFmdGVyRW50ZXI7XG4gICAgICAgICAgY2FuY2VsSG9vayA9IG9uQXBwZWFyQ2FuY2VsbGVkIHx8IG9uRW50ZXJDYW5jZWxsZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBkb25lID0gZWxbZW50ZXJDYktleV0gPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgIGNhbGxIb29rKGNhbmNlbEhvb2ssIFtlbF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvb2tzLmRlbGF5ZWRMZWF2ZSkge1xuICAgICAgICAgIGhvb2tzLmRlbGF5ZWRMZWF2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsW2VudGVyQ2JLZXldID0gdm9pZCAwO1xuICAgICAgfTtcbiAgICAgIGlmIChob29rKSB7XG4gICAgICAgIGNhbGxBc3luY0hvb2soaG9vaywgW2VsLCBkb25lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XG4gICAgICBjb25zdCBrZXkyID0gU3RyaW5nKHZub2RlLmtleSk7XG4gICAgICBpZiAoZWxbZW50ZXJDYktleV0pIHtcbiAgICAgICAgZWxbZW50ZXJDYktleV0oXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICAgIC8qIGNhbmNlbGxlZCAqL1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmlzVW5tb3VudGluZykge1xuICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUxlYXZlLCBbZWxdKTtcbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRvbmUgPSBlbFtsZWF2ZUNiS2V5XSA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxIb29rKG9uQWZ0ZXJMZWF2ZSwgW2VsXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxbbGVhdmVDYktleV0gPSB2b2lkIDA7XG4gICAgICAgIGlmIChsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml0gPT09IHZub2RlKSB7XG4gICAgICAgICAgZGVsZXRlIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXSA9IHZub2RlO1xuICAgICAgaWYgKG9uTGVhdmUpIHtcbiAgICAgICAgY2FsbEFzeW5jSG9vayhvbkxlYXZlLCBbZWwsIGRvbmVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsb25lKHZub2RlMikge1xuICAgICAgY29uc3QgaG9va3MyID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgdm5vZGUyLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBwb3N0Q2xvbmVcbiAgICAgICk7XG4gICAgICBpZiAocG9zdENsb25lKSBwb3N0Q2xvbmUoaG9va3MyKTtcbiAgICAgIHJldHVybiBob29rczI7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaG9va3M7XG59XG5mdW5jdGlvbiBlbXB0eVBsYWNlaG9sZGVyKHZub2RlKSB7XG4gIGlmIChpc0tlZXBBbGl2ZSh2bm9kZSkpIHtcbiAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgIHZub2RlLmNoaWxkcmVuID0gbnVsbDtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldElubmVyQ2hpbGQkMSh2bm9kZSkge1xuICBpZiAoIWlzS2VlcEFsaXZlKHZub2RlKSkge1xuICAgIGlmIChpc1RlbGVwb3J0KHZub2RlLnR5cGUpICYmIHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gZmluZE5vbkNvbW1lbnRDaGlsZCh2bm9kZS5jaGlsZHJlbik7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5jb21wb25lbnQpIHtcbiAgICByZXR1cm4gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XG4gIH1cbiAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAzMiAmJiBpc0Z1bmN0aW9uKGNoaWxkcmVuLmRlZmF1bHQpKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW4uZGVmYXVsdCgpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAmJiB2bm9kZS5jb21wb25lbnQpIHtcbiAgICB2bm9kZS50cmFuc2l0aW9uID0gaG9va3M7XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBob29rcyk7XG4gIH0gZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xuICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkcmVuLCBrZWVwQ29tbWVudCA9IGZhbHNlLCBwYXJlbnRLZXkpIHtcbiAgbGV0IHJldCA9IFtdO1xuICBsZXQga2V5ZWRGcmFnbWVudENvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGNvbnN0IGtleSA9IHBhcmVudEtleSA9PSBudWxsID8gY2hpbGQua2V5IDogU3RyaW5nKHBhcmVudEtleSkgKyBTdHJpbmcoY2hpbGQua2V5ICE9IG51bGwgPyBjaGlsZC5rZXkgOiBpKTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGlmIChjaGlsZC5wYXRjaEZsYWcgJiAxMjgpIGtleWVkRnJhZ21lbnRDb3VudCsrO1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChcbiAgICAgICAgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCwga2V5KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGtlZXBDb21tZW50IHx8IGNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgIHJldC5wdXNoKGtleSAhPSBudWxsID8gY2xvbmVWTm9kZShjaGlsZCwgeyBrZXkgfSkgOiBjaGlsZCk7XG4gICAgfVxuICB9XG4gIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldFtpXS5wYXRjaEZsYWcgPSAtMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucykge1xuICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IChcbiAgICAvLyAjODIzNjogZXh0ZW5kIGNhbGwgYW5kIG9wdGlvbnMubmFtZSBhY2Nlc3MgYXJlIGNvbnNpZGVyZWQgc2lkZS1lZmZlY3RzXG4gICAgLy8gYnkgUm9sbHVwLCBzbyB3ZSBoYXZlIHRvIHdyYXAgaXQgaW4gYSBwdXJlLWFubm90YXRlZCBJSUZFLlxuICAgIC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZXh0ZW5kKHsgbmFtZTogb3B0aW9ucy5uYW1lIH0sIGV4dHJhT3B0aW9ucywgeyBzZXR1cDogb3B0aW9ucyB9KSkoKVxuICApIDogb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gdXNlSWQoKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGkpIHtcbiAgICByZXR1cm4gKGkuYXBwQ29udGV4dC5jb25maWcuaWRQcmVmaXggfHwgXCJ2XCIpICsgXCItXCIgKyBpLmlkc1swXSArIGkuaWRzWzFdKys7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGB1c2VJZCgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UuaWRzID0gW2luc3RhbmNlLmlkc1swXSArIGluc3RhbmNlLmlkc1syXSsrICsgXCItXCIsIDAsIDBdO1xufVxuXG5jb25zdCBrbm93blRlbXBsYXRlUmVmcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gdXNlVGVtcGxhdGVSZWYoa2V5KSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgY29uc3QgciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGlmIChpKSB7XG4gICAgY29uc3QgcmVmcyA9IGkucmVmcyA9PT0gRU1QVFlfT0JKID8gaS5yZWZzID0ge30gOiBpLnJlZnM7XG4gICAgbGV0IGRlc2M7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgKGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlZnMsIGtleSkpICYmICFkZXNjLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgd2FybiQxKGB1c2VUZW1wbGF0ZVJlZignJHtrZXl9JykgYWxyZWFkeSBleGlzdHMuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWZzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiByLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2YWwpID0+IHIudmFsdWUgPSB2YWxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHVzZVRlbXBsYXRlUmVmKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbiAgY29uc3QgcmV0ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHJlYWRvbmx5KHIpIDogcjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBrbm93blRlbXBsYXRlUmVmcy5hZGQocmV0KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50ID0gZmFsc2UpIHtcbiAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xuICAgIHJhd1JlZi5mb3JFYWNoKFxuICAgICAgKHIsIGkpID0+IHNldFJlZihcbiAgICAgICAgcixcbiAgICAgICAgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGlzVW5tb3VudFxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA1MTIgJiYgdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgJiYgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUuY29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZWZWYWx1ZSA9IHZub2RlLnNoYXBlRmxhZyAmIDQgPyBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSh2bm9kZS5jb21wb25lbnQpIDogdm5vZGUuZWw7XG4gIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xuICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW93bmVyKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gQSB2bm9kZSB3aXRoIHJlZiBtdXN0IGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24uYFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcbiAgY29uc3QgcmVmcyA9IG93bmVyLnJlZnMgPT09IEVNUFRZX09CSiA/IG93bmVyLnJlZnMgPSB7fSA6IG93bmVyLnJlZnM7XG4gIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xuICBjb25zdCByYXdTZXR1cFN0YXRlID0gdG9SYXcoc2V0dXBTdGF0ZSk7XG4gIGNvbnN0IGNhblNldFNldHVwUmVmID0gc2V0dXBTdGF0ZSA9PT0gRU1QVFlfT0JKID8gKCkgPT4gZmFsc2UgOiAoa2V5KSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KSAmJiAhaXNSZWYocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFRlbXBsYXRlIHJlZiBcIiR7a2V5fVwiIHVzZWQgb24gYSBub24tcmVmIHZhbHVlLiBJdCB3aWxsIG5vdCB3b3JrIGluIHRoZSBwcm9kdWN0aW9uIGJ1aWxkLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChrbm93blRlbXBsYXRlUmVmcy5oYXMocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KTtcbiAgfTtcbiAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XG4gICAgaWYgKGlzU3RyaW5nKG9sZFJlZikpIHtcbiAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XG4gICAgICBpZiAoY2FuU2V0U2V0dXBSZWYob2xkUmVmKSkge1xuICAgICAgICBzZXR1cFN0YXRlW29sZFJlZl0gPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xuICAgICAgb2xkUmVmLnZhbHVlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xuICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiwgW3ZhbHVlLCByZWZzXSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgX2lzU3RyaW5nID0gaXNTdHJpbmcocmVmKTtcbiAgICBjb25zdCBfaXNSZWYgPSBpc1JlZihyZWYpO1xuICAgIGlmIChfaXNTdHJpbmcgfHwgX2lzUmVmKSB7XG4gICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJhd1JlZi5mKSB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBfaXNTdHJpbmcgPyBjYW5TZXRTZXR1cFJlZihyZWYpID8gc2V0dXBTdGF0ZVtyZWZdIDogcmVmc1tyZWZdIDogcmVmLnZhbHVlO1xuICAgICAgICAgIGlmIChpc1VubW91bnQpIHtcbiAgICAgICAgICAgIGlzQXJyYXkoZXhpc3RpbmcpICYmIHJlbW92ZShleGlzdGluZywgcmVmVmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzQXJyYXkoZXhpc3RpbmcpKSB7XG4gICAgICAgICAgICAgIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICByZWZzW3JlZl0gPSBbcmVmVmFsdWVdO1xuICAgICAgICAgICAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihyZWYpKSB7XG4gICAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSByZWZzW3JlZl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlZi52YWx1ZSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IHJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghZXhpc3RpbmcuaW5jbHVkZXMocmVmVmFsdWUpKSB7XG4gICAgICAgICAgICAgIGV4aXN0aW5nLnB1c2gocmVmVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICByZWZzW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoY2FuU2V0U2V0dXBSZWYocmVmKSkge1xuICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF9pc1JlZikge1xuICAgICAgICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIGlmIChyYXdSZWYuaykgcmVmc1tyYXdSZWYua10gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZG9TZXQuaWQgPSAtMTtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb1NldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgfVxuICB9XG59XG5cbmxldCBoYXNMb2dnZWRNaXNtYXRjaEVycm9yID0gZmFsc2U7XG5jb25zdCBsb2dNaXNtYXRjaEVycm9yID0gKCkgPT4ge1xuICBpZiAoaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvcikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmVycm9yKFwiSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5cIik7XG4gIGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IgPSB0cnVlO1xufTtcbmNvbnN0IGlzU1ZHQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcInN2Z1wiKSAmJiBjb250YWluZXIudGFnTmFtZSAhPT0gXCJmb3JlaWduT2JqZWN0XCI7XG5jb25zdCBpc01hdGhNTENvbnRhaW5lciA9IChjb250YWluZXIpID0+IGNvbnRhaW5lci5uYW1lc3BhY2VVUkkuaW5jbHVkZXMoXCJNYXRoTUxcIik7XG5jb25zdCBnZXRDb250YWluZXJUeXBlID0gKGNvbnRhaW5lcikgPT4ge1xuICBpZiAoY29udGFpbmVyLm5vZGVUeXBlICE9PSAxKSByZXR1cm4gdm9pZCAwO1xuICBpZiAoaXNTVkdDb250YWluZXIoY29udGFpbmVyKSkgcmV0dXJuIFwic3ZnXCI7XG4gIGlmIChpc01hdGhNTENvbnRhaW5lcihjb250YWluZXIpKSByZXR1cm4gXCJtYXRobWxcIjtcbiAgcmV0dXJuIHZvaWQgMDtcbn07XG5jb25zdCBpc0NvbW1lbnQgPSAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gODtcbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyhyZW5kZXJlckludGVybmFscykge1xuICBjb25zdCB7XG4gICAgbXQ6IG1vdW50Q29tcG9uZW50LFxuICAgIHA6IHBhdGNoLFxuICAgIG86IHtcbiAgICAgIHBhdGNoUHJvcCxcbiAgICAgIGNyZWF0ZVRleHQsXG4gICAgICBuZXh0U2libGluZyxcbiAgICAgIHBhcmVudE5vZGUsXG4gICAgICByZW1vdmUsXG4gICAgICBpbnNlcnQsXG4gICAgICBjcmVhdGVDb21tZW50XG4gICAgfVxuICB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xuICAgIGlmICghY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgIGBBdHRlbXB0aW5nIHRvIGh5ZHJhdGUgZXhpc3RpbmcgbWFya3VwIGJ1dCBjb250YWluZXIgaXMgZW1wdHkuIFBlcmZvcm1pbmcgZnVsbCBtb3VudCBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyKTtcbiAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGh5ZHJhdGVOb2RlKGNvbnRhaW5lci5maXJzdENoaWxkLCB2bm9kZSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVOb2RlID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGlzRnJhZ21lbnRTdGFydCA9IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiO1xuICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChcbiAgICAgIG5vZGUsXG4gICAgICB2bm9kZSxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgaXNGcmFnbWVudFN0YXJ0XG4gICAgKTtcbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcgfSA9IHZub2RlO1xuICAgIGxldCBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICB2bm9kZS5lbCA9IG5vZGU7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZWYobm9kZSwgXCJfX3Zub2RlXCIsIHZub2RlLCB0cnVlKTtcbiAgICAgIGRlZihub2RlLCBcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIsIHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFRleHQ6XG4gICAgICAgIGlmIChkb21UeXBlICE9PSAzKSB7XG4gICAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuID09PSBcIlwiKSB7XG4gICAgICAgICAgICBpbnNlcnQodm5vZGUuZWwgPSBjcmVhdGVUZXh0KFwiXCIpLCBwYXJlbnROb2RlKG5vZGUpLCBub2RlKTtcbiAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgICAgICAgYEh5ZHJhdGlvbiB0ZXh0IG1pc21hdGNoIGluYCxcbiAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YVxuICAgICAgICAgICAgICApfVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHtKU09OLnN0cmluZ2lmeSh2bm9kZS5jaGlsZHJlbil9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICBpZiAoaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIHJlcGxhY2VOb2RlKFxuICAgICAgICAgICAgdm5vZGUuZWwgPSBub2RlLmNvbnRlbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGRvbVR5cGUgIT09IDggfHwgaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb21UeXBlID09PSAxIHx8IGRvbVR5cGUgPT09IDMpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZWVkVG9BZG9wdENvbnRlbnQpXG4gICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9IG5leHROb2RlLm5vZGVUeXBlID09PSAxID8gbmV4dE5vZGUub3V0ZXJIVE1MIDogbmV4dE5vZGUuZGF0YTtcbiAgICAgICAgICAgIGlmIChpID09PSB2bm9kZS5zdGF0aWNDb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGlzRnJhZ21lbnRTdGFydCA/IG5leHRTaWJsaW5nKG5leHROb2RlKSA6IG5leHROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIGlmICghaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSkge1xuICAgICAgICAgIGlmICgoZG9tVHlwZSAhPT0gMSB8fCB2bm9kZS50eXBlLnRvTG93ZXJDYXNlKCkgIT09IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSAmJiAhaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcInRlbGVwb3J0IHN0YXJ0XCIpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlLCBub2RlLmRhdGEsIFwidGVsZXBvcnQgZW5kXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb3VudENvbXBvbmVudChcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpICYmICF2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICAgICAgbGV0IHN1YlRyZWU7XG4gICAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgIHN1YlRyZWUgPSBjcmVhdGVWTm9kZShGcmFnbWVudCk7XG4gICAgICAgICAgICAgIHN1YlRyZWUuYW5jaG9yID0gbmV4dE5vZGUgPyBuZXh0Tm9kZS5wcmV2aW91c1NpYmxpbmcgOiBjb250YWluZXIubGFzdENoaWxkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IG5vZGUubm9kZVR5cGUgPT09IDMgPyBjcmVhdGVUZXh0Vk5vZGUoXCJcIikgOiBjcmVhdGVWTm9kZShcImRpdlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xuICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUgPSBzdWJUcmVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4KSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgICAgICAgICAgIGh5ZHJhdGVDaGlsZHJlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUoXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIGdldENvbnRhaW5lclR5cGUocGFyZW50Tm9kZShub2RlKSksXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgIGh5ZHJhdGVOb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykge1xuICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgSG9zdFZOb2RlIHR5cGU6XCIsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dE5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICAgIGNvbnN0IGZvcmNlUGF0Y2ggPSB0eXBlID09PSBcImlucHV0XCIgfHwgdHlwZSA9PT0gXCJvcHRpb25cIjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBmb3JjZVBhdGNoIHx8IHBhdGNoRmxhZyAhPT0gLTEpIHtcbiAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJjcmVhdGVkXCIpO1xuICAgICAgfVxuICAgICAgbGV0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gZmFsc2U7XG4gICAgICBpZiAoaXNUZW1wbGF0ZU5vZGUoZWwpKSB7XG4gICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gbmVlZFRyYW5zaXRpb24oXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAvLyBubyBuZWVkIGNoZWNrIHBhcmVudFN1c3BlbnNlIGluIGh5ZHJhdGlvblxuICAgICAgICAgIHRyYW5zaXRpb25cbiAgICAgICAgKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzICYmIHBhcmVudENvbXBvbmVudC52bm9kZS5wcm9wcy5hcHBlYXI7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlbC5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZU5vZGUoY29udGVudCwgZWwsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIHZub2RlLmVsID0gZWwgPSBjb250ZW50O1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2ICYmIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcbiAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XG4gICAgICAgIGxldCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIGVsLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoZWwsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgICBgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdXIgPSBuZXh0O1xuICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIHJlbW92ZShjdXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgbGV0IGNsaWVudFRleHQgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNsaWVudFRleHRbMF0gPT09IFwiXFxuXCIgJiYgKGVsLnRhZ05hbWUgPT09IFwiUFJFXCIgfHwgZWwudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSkge1xuICAgICAgICAgIGNsaWVudFRleHQgPSBjbGllbnRUZXh0LnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gY2xpZW50VGV4dCkge1xuICAgICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoZWwsIDAgLyogVEVYVCAqLykpIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgY29udGVudCBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke2VsLnRleHRDb250ZW50fVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHt2bm9kZS5jaGlsZHJlbn1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fIHx8IGZvcmNlUGF0Y2ggfHwgIW9wdGltaXplZCB8fCBwYXRjaEZsYWcgJiAoMTYgfCAzMikpIHtcbiAgICAgICAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBlbC50YWdOYW1lLmluY2x1ZGVzKFwiLVwiKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgaWYgKCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgLy8gIzExMTg5IHNraXAgaWYgdGhpcyBub2RlIGhhcyBkaXJlY3RpdmVzIHRoYXQgaGF2ZSBjcmVhdGVkIGhvb2tzXG4gICAgICAgICAgICAvLyBhcyBpdCBjb3VsZCBoYXZlIG11dGF0ZWQgdGhlIERPTSBpbiBhbnkgcG9zc2libGUgd2F5XG4gICAgICAgICAgICAhKGRpcnMgJiYgZGlycy5zb21lKChkKSA9PiBkLmRpci5jcmVhdGVkKSkgJiYgcHJvcEhhc01pc21hdGNoKGVsLCBrZXksIHByb3BzW2tleV0sIHZub2RlLCBwYXJlbnRDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3JjZVBhdGNoICYmIChrZXkuZW5kc1dpdGgoXCJ2YWx1ZVwiKSB8fCBrZXkgPT09IFwiaW5kZXRlcm1pbmF0ZVwiKSB8fCBpc09uKGtleSkgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkgfHwgLy8gZm9yY2UgaHlkcmF0ZSB2LWJpbmQgd2l0aCAucHJvcCBtb2RpZmllcnNcbiAgICAgICAgICAgIGtleVswXSA9PT0gXCIuXCIgfHwgaXNDdXN0b21FbGVtZW50KSB7XG4gICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCB2b2lkIDAsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgICBwYXRjaFByb3AoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIFwib25DbGlja1wiLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDQgJiYgaXNSZWFjdGl2ZShwcm9wcy5zdHlsZSkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcy5zdHlsZSkgcHJvcHMuc3R5bGVba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHZub2RlSG9va3M7XG4gICAgICBpZiAodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkge1xuICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAoZGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlTW91bnRcIik7XG4gICAgICB9XG4gICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHwgZGlycyB8fCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSgoKSA9PiB7XG4gICAgICAgICAgdm5vZGVIb29rcyAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwibW91bnRlZFwiKTtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWwubmV4dFNpYmxpbmc7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVDaGlsZHJlbiA9IChub2RlLCBwYXJlbnRWTm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xuICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCB2bm9kZSA9IG9wdGltaXplZCA/IGNoaWxkcmVuW2ldIDogY2hpbGRyZW5baV0gPSBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSk7XG4gICAgICBjb25zdCBpc1RleHQgPSB2bm9kZS50eXBlID09PSBUZXh0O1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgaWYgKGlzVGV4dCAmJiAhb3B0aW1pemVkKSB7XG4gICAgICAgICAgaWYgKGkgKyAxIDwgbCAmJiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpICsgMV0pLnR5cGUgPT09IFRleHQpIHtcbiAgICAgICAgICAgIGluc2VydChcbiAgICAgICAgICAgICAgY3JlYXRlVGV4dChcbiAgICAgICAgICAgICAgICBub2RlLmRhdGEuc2xpY2Uodm5vZGUuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICAgIG5leHRTaWJsaW5nKG5vZGUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBoeWRyYXRlTm9kZShcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGlzVGV4dCAmJiAhdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgaW5zZXJ0KHZub2RlLmVsID0gY3JlYXRlVGV4dChcIlwiKSwgY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoY29udGFpbmVyLCAxIC8qIENISUxEUkVOICovKSkge1xuICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgYFxuU2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgZmV3ZXIgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIGdldENvbnRhaW5lclR5cGUoY29udGFpbmVyKSxcbiAgICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVGcmFnbWVudCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCB7IHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IHZub2RlO1xuICAgIGlmIChmcmFnbWVudFNsb3RTY29wZUlkcykge1xuICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcykgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICBjb25zdCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgbmV4dFNpYmxpbmcobm9kZSksXG4gICAgICB2bm9kZSxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgb3B0aW1pemVkXG4gICAgKTtcbiAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSBcIl1cIikge1xuICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvciA9IG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICBpbnNlcnQodm5vZGUuYW5jaG9yID0gY3JlYXRlQ29tbWVudChgXWApLCBjb250YWluZXIsIG5leHQpO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50KSA9PiB7XG4gICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChub2RlLnBhcmVudEVsZW1lbnQsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEh5ZHJhdGlvbiBub2RlIG1pc21hdGNoOlxuLSByZW5kZXJlZCBvbiBzZXJ2ZXI6YCxcbiAgICAgICAgbm9kZSxcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGAodGV4dClgIDogaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCIgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWAgOiBgYCxcbiAgICAgICAgYFxuLSBleHBlY3RlZCBvbiBjbGllbnQ6YCxcbiAgICAgICAgdm5vZGUudHlwZVxuICAgICAgKTtcbiAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICB9XG4gICAgdm5vZGUuZWwgPSBudWxsO1xuICAgIGlmIChpc0ZyYWdtZW50KSB7XG4gICAgICBjb25zdCBlbmQgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUpO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgbmV4dDIgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgaWYgKG5leHQyICYmIG5leHQyICE9PSBlbmQpIHtcbiAgICAgICAgICByZW1vdmUobmV4dDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgIHJlbW92ZShub2RlKTtcbiAgICBwYXRjaChcbiAgICAgIG51bGwsXG4gICAgICB2bm9kZSxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG5leHQsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgIGdldENvbnRhaW5lclR5cGUoY29udGFpbmVyKSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgcGFyZW50Q29tcG9uZW50LnZub2RlLmVsID0gdm5vZGUuZWw7XG4gICAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCB2bm9kZS5lbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0O1xuICB9O1xuICBjb25zdCBsb2NhdGVDbG9zaW5nQW5jaG9yID0gKG5vZGUsIG9wZW4gPSBcIltcIiwgY2xvc2UgPSBcIl1cIikgPT4ge1xuICAgIGxldCBtYXRjaCA9IDA7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBvcGVuKSBtYXRjaCsrO1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBjbG9zZSkge1xuICAgICAgICAgIGlmIChtYXRjaCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRjaC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgcmVwbGFjZU5vZGUgPSAobmV3Tm9kZSwgb2xkTm9kZSwgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgcGFyZW50Tm9kZTIgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUyKSB7XG4gICAgICBwYXJlbnROb2RlMi5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gICAgfVxuICAgIGxldCBwYXJlbnQgPSBwYXJlbnRDb21wb25lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC52bm9kZS5lbCA9PT0gb2xkTm9kZSkge1xuICAgICAgICBwYXJlbnQudm5vZGUuZWwgPSBwYXJlbnQuc3ViVHJlZS5lbCA9IG5ld05vZGU7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaXNUZW1wbGF0ZU5vZGUgPSAobm9kZSkgPT4ge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxICYmIG5vZGUudGFnTmFtZSA9PT0gXCJURU1QTEFURVwiO1xuICB9O1xuICByZXR1cm4gW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXTtcbn1cbmZ1bmN0aW9uIHByb3BIYXNNaXNtYXRjaChlbCwga2V5LCBjbGllbnRWYWx1ZSwgdm5vZGUsIGluc3RhbmNlKSB7XG4gIGxldCBtaXNtYXRjaFR5cGU7XG4gIGxldCBtaXNtYXRjaEtleTtcbiAgbGV0IGFjdHVhbDtcbiAgbGV0IGV4cGVjdGVkO1xuICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICBleHBlY3RlZCA9IG5vcm1hbGl6ZUNsYXNzKGNsaWVudFZhbHVlKTtcbiAgICBpZiAoIWlzU2V0RXF1YWwodG9DbGFzc1NldChhY3R1YWwgfHwgXCJcIiksIHRvQ2xhc3NTZXQoZXhwZWN0ZWQpKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gMiAvKiBDTEFTUyAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0gYGNsYXNzYDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSB8fCBcIlwiO1xuICAgIGV4cGVjdGVkID0gaXNTdHJpbmcoY2xpZW50VmFsdWUpID8gY2xpZW50VmFsdWUgOiBzdHJpbmdpZnlTdHlsZShub3JtYWxpemVTdHlsZShjbGllbnRWYWx1ZSkpO1xuICAgIGNvbnN0IGFjdHVhbE1hcCA9IHRvU3R5bGVNYXAoYWN0dWFsKTtcbiAgICBjb25zdCBleHBlY3RlZE1hcCA9IHRvU3R5bGVNYXAoZXhwZWN0ZWQpO1xuICAgIGlmICh2bm9kZS5kaXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IHsgZGlyLCB2YWx1ZSB9IG9mIHZub2RlLmRpcnMpIHtcbiAgICAgICAgaWYgKGRpci5uYW1lID09PSBcInNob3dcIiAmJiAhdmFsdWUpIHtcbiAgICAgICAgICBleHBlY3RlZE1hcC5zZXQoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHJlc29sdmVDc3NWYXJzKGluc3RhbmNlLCB2bm9kZSwgZXhwZWN0ZWRNYXApO1xuICAgIH1cbiAgICBpZiAoIWlzTWFwRXF1YWwoYWN0dWFsTWFwLCBleHBlY3RlZE1hcCkpIHtcbiAgICAgIG1pc21hdGNoVHlwZSA9IDMgLyogU1RZTEUgKi87XG4gICAgICBtaXNtYXRjaEtleSA9IFwic3R5bGVcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZWwgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmIGlzS25vd25TdmdBdHRyKGtleSkgfHwgZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAoaXNCb29sZWFuQXR0cihrZXkpIHx8IGlzS25vd25IdG1sQXR0cihrZXkpKSkge1xuICAgIGlmIChpc0Jvb2xlYW5BdHRyKGtleSkpIHtcbiAgICAgIGFjdHVhbCA9IGVsLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgZXhwZWN0ZWQgPSBpbmNsdWRlQm9vbGVhbkF0dHIoY2xpZW50VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoY2xpZW50VmFsdWUgPT0gbnVsbCkge1xuICAgICAgYWN0dWFsID0gZWwuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgICBleHBlY3RlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKGtleSkpIHtcbiAgICAgICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiICYmIGVsLnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICBhY3R1YWwgPSBlbC52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdHVhbCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZXhwZWN0ZWQgPSBpc1JlbmRlcmFibGVBdHRyVmFsdWUoY2xpZW50VmFsdWUpID8gU3RyaW5nKGNsaWVudFZhbHVlKSA6IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gNCAvKiBBVFRSSUJVVEUgKi87XG4gICAgICBtaXNtYXRjaEtleSA9IGtleTtcbiAgICB9XG4gIH1cbiAgaWYgKG1pc21hdGNoVHlwZSAhPSBudWxsICYmICFpc01pc21hdGNoQWxsb3dlZChlbCwgbWlzbWF0Y2hUeXBlKSkge1xuICAgIGNvbnN0IGZvcm1hdCA9ICh2KSA9PiB2ID09PSBmYWxzZSA/IGAobm90IHJlbmRlcmVkKWAgOiBgJHttaXNtYXRjaEtleX09XCIke3Z9XCJgO1xuICAgIGNvbnN0IHByZVNlZ21lbnQgPSBgSHlkcmF0aW9uICR7TWlzbWF0Y2hUeXBlU3RyaW5nW21pc21hdGNoVHlwZV19IG1pc21hdGNoIG9uYDtcbiAgICBjb25zdCBwb3N0U2VnbWVudCA9IGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7Zm9ybWF0KGFjdHVhbCl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke2Zvcm1hdChleHBlY3RlZCl9XG4gIE5vdGU6IHRoaXMgbWlzbWF0Y2ggaXMgY2hlY2stb25seS4gVGhlIERPTSB3aWxsIG5vdCBiZSByZWN0aWZpZWQgaW4gcHJvZHVjdGlvbiBkdWUgdG8gcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuXG4gIFlvdSBzaG91bGQgZml4IHRoZSBzb3VyY2Ugb2YgdGhlIG1pc21hdGNoLmA7XG4gICAge1xuICAgICAgd2FybiQxKHByZVNlZ21lbnQsIGVsLCBwb3N0U2VnbWVudCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvQ2xhc3NTZXQoc3RyKSB7XG4gIHJldHVybiBuZXcgU2V0KHN0ci50cmltKCkuc3BsaXQoL1xccysvKSk7XG59XG5mdW5jdGlvbiBpc1NldEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgcyBvZiBhKSB7XG4gICAgaWYgKCFiLmhhcyhzKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHRvU3R5bGVNYXAoc3RyKSB7XG4gIGNvbnN0IHN0eWxlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIHN0ci5zcGxpdChcIjtcIikpIHtcbiAgICBsZXQgW2tleSwgdmFsdWVdID0gaXRlbS5zcGxpdChcIjpcIik7XG4gICAga2V5ID0ga2V5LnRyaW0oKTtcbiAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlLnRyaW0oKTtcbiAgICBpZiAoa2V5ICYmIHZhbHVlKSB7XG4gICAgICBzdHlsZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHlsZU1hcDtcbn1cbmZ1bmN0aW9uIGlzTWFwRXF1YWwoYSwgYikge1xuICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgYSkge1xuICAgIGlmICh2YWx1ZSAhPT0gYi5nZXQoa2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDc3NWYXJzKGluc3RhbmNlLCB2bm9kZSwgZXhwZWN0ZWRNYXApIHtcbiAgY29uc3Qgcm9vdCA9IGluc3RhbmNlLnN1YlRyZWU7XG4gIGlmIChpbnN0YW5jZS5nZXRDc3NWYXJzICYmICh2bm9kZSA9PT0gcm9vdCB8fCByb290ICYmIHJvb3QudHlwZSA9PT0gRnJhZ21lbnQgJiYgcm9vdC5jaGlsZHJlbi5pbmNsdWRlcyh2bm9kZSkpKSB7XG4gICAgY29uc3QgY3NzVmFycyA9IGluc3RhbmNlLmdldENzc1ZhcnMoKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjc3NWYXJzKSB7XG4gICAgICBleHBlY3RlZE1hcC5zZXQoXG4gICAgICAgIGAtLSR7Z2V0RXNjYXBlZENzc1Zhck5hbWUoa2V5LCBmYWxzZSl9YCxcbiAgICAgICAgU3RyaW5nKGNzc1ZhcnNba2V5XSlcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGlmICh2bm9kZSA9PT0gcm9vdCAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICByZXNvbHZlQ3NzVmFycyhpbnN0YW5jZS5wYXJlbnQsIGluc3RhbmNlLnZub2RlLCBleHBlY3RlZE1hcCk7XG4gIH1cbn1cbmNvbnN0IGFsbG93TWlzbWF0Y2hBdHRyID0gXCJkYXRhLWFsbG93LW1pc21hdGNoXCI7XG5jb25zdCBNaXNtYXRjaFR5cGVTdHJpbmcgPSB7XG4gIFswIC8qIFRFWFQgKi9dOiBcInRleHRcIixcbiAgWzEgLyogQ0hJTERSRU4gKi9dOiBcImNoaWxkcmVuXCIsXG4gIFsyIC8qIENMQVNTICovXTogXCJjbGFzc1wiLFxuICBbMyAvKiBTVFlMRSAqL106IFwic3R5bGVcIixcbiAgWzQgLyogQVRUUklCVVRFICovXTogXCJhdHRyaWJ1dGVcIlxufTtcbmZ1bmN0aW9uIGlzTWlzbWF0Y2hBbGxvd2VkKGVsLCBhbGxvd2VkVHlwZSkge1xuICBpZiAoYWxsb3dlZFR5cGUgPT09IDAgLyogVEVYVCAqLyB8fCBhbGxvd2VkVHlwZSA9PT0gMSAvKiBDSElMRFJFTiAqLykge1xuICAgIHdoaWxlIChlbCAmJiAhZWwuaGFzQXR0cmlidXRlKGFsbG93TWlzbWF0Y2hBdHRyKSkge1xuICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfVxuICBjb25zdCBhbGxvd2VkQXR0ciA9IGVsICYmIGVsLmdldEF0dHJpYnV0ZShhbGxvd01pc21hdGNoQXR0cik7XG4gIGlmIChhbGxvd2VkQXR0ciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGFsbG93ZWRBdHRyID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbGlzdCA9IGFsbG93ZWRBdHRyLnNwbGl0KFwiLFwiKTtcbiAgICBpZiAoYWxsb3dlZFR5cGUgPT09IDAgLyogVEVYVCAqLyAmJiBsaXN0LmluY2x1ZGVzKFwiY2hpbGRyZW5cIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gYWxsb3dlZEF0dHIuc3BsaXQoXCIsXCIpLmluY2x1ZGVzKE1pc21hdGNoVHlwZVN0cmluZ1thbGxvd2VkVHlwZV0pO1xuICB9XG59XG5cbmNvbnN0IHJlcXVlc3RJZGxlQ2FsbGJhY2sgPSBnZXRHbG9iYWxUaGlzKCkucmVxdWVzdElkbGVDYWxsYmFjayB8fCAoKGNiKSA9PiBzZXRUaW1lb3V0KGNiLCAxKSk7XG5jb25zdCBjYW5jZWxJZGxlQ2FsbGJhY2sgPSBnZXRHbG9iYWxUaGlzKCkuY2FuY2VsSWRsZUNhbGxiYWNrIHx8ICgoaWQpID0+IGNsZWFyVGltZW91dChpZCkpO1xuY29uc3QgaHlkcmF0ZU9uSWRsZSA9ICh0aW1lb3V0ID0gMWU0KSA9PiAoaHlkcmF0ZSkgPT4ge1xuICBjb25zdCBpZCA9IHJlcXVlc3RJZGxlQ2FsbGJhY2soaHlkcmF0ZSwgeyB0aW1lb3V0IH0pO1xuICByZXR1cm4gKCkgPT4gY2FuY2VsSWRsZUNhbGxiYWNrKGlkKTtcbn07XG5mdW5jdGlvbiBlbGVtZW50SXNWaXNpYmxlSW5WaWV3cG9ydChlbCkge1xuICBjb25zdCB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHsgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGggfSA9IHdpbmRvdztcbiAgcmV0dXJuICh0b3AgPiAwICYmIHRvcCA8IGlubmVySGVpZ2h0IHx8IGJvdHRvbSA+IDAgJiYgYm90dG9tIDwgaW5uZXJIZWlnaHQpICYmIChsZWZ0ID4gMCAmJiBsZWZ0IDwgaW5uZXJXaWR0aCB8fCByaWdodCA+IDAgJiYgcmlnaHQgPCBpbm5lcldpZHRoKTtcbn1cbmNvbnN0IGh5ZHJhdGVPblZpc2libGUgPSAob3B0cykgPT4gKGh5ZHJhdGUsIGZvckVhY2gpID0+IHtcbiAgY29uc3Qgb2IgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICBmb3IgKGNvbnN0IGUgb2YgZW50cmllcykge1xuICAgICAgaWYgKCFlLmlzSW50ZXJzZWN0aW5nKSBjb250aW51ZTtcbiAgICAgIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgb3B0cyk7XG4gIGZvckVhY2goKGVsKSA9PiB7XG4gICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSkgcmV0dXJuO1xuICAgIGlmIChlbGVtZW50SXNWaXNpYmxlSW5WaWV3cG9ydChlbCkpIHtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2Iub2JzZXJ2ZShlbCk7XG4gIH0pO1xuICByZXR1cm4gKCkgPT4gb2IuZGlzY29ubmVjdCgpO1xufTtcbmNvbnN0IGh5ZHJhdGVPbk1lZGlhUXVlcnkgPSAocXVlcnkpID0+IChoeWRyYXRlKSA9PiB7XG4gIGlmIChxdWVyeSkge1xuICAgIGNvbnN0IG1xbCA9IG1hdGNoTWVkaWEocXVlcnkpO1xuICAgIGlmIChtcWwubWF0Y2hlcykge1xuICAgICAgaHlkcmF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtcWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoeWRyYXRlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4gKCkgPT4gbXFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaHlkcmF0ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgaHlkcmF0ZU9uSW50ZXJhY3Rpb24gPSAoaW50ZXJhY3Rpb25zID0gW10pID0+IChoeWRyYXRlLCBmb3JFYWNoKSA9PiB7XG4gIGlmIChpc1N0cmluZyhpbnRlcmFjdGlvbnMpKSBpbnRlcmFjdGlvbnMgPSBbaW50ZXJhY3Rpb25zXTtcbiAgbGV0IGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gIGNvbnN0IGRvSHlkcmF0ZSA9IChlKSA9PiB7XG4gICAgaWYgKCFoYXNIeWRyYXRlZCkge1xuICAgICAgaGFzSHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgdGVhcmRvd24oKTtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIGUudGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IGUuY29uc3RydWN0b3IoZS50eXBlLCBlKSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB0ZWFyZG93biA9ICgpID0+IHtcbiAgICBmb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBpIG9mIGludGVyYWN0aW9ucykge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGksIGRvSHlkcmF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGZvckVhY2goKGVsKSA9PiB7XG4gICAgZm9yIChjb25zdCBpIG9mIGludGVyYWN0aW9ucykge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihpLCBkb0h5ZHJhdGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGVhcmRvd247XG59O1xuZnVuY3Rpb24gZm9yRWFjaEVsZW1lbnQobm9kZSwgY2IpIHtcbiAgaWYgKGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiKSB7XG4gICAgbGV0IGRlcHRoID0gMTtcbiAgICBsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgd2hpbGUgKG5leHQpIHtcbiAgICAgIGlmIChuZXh0Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNiKG5leHQpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzQ29tbWVudChuZXh0KSkge1xuICAgICAgICBpZiAobmV4dC5kYXRhID09PSBcIl1cIikge1xuICAgICAgICAgIGlmICgtLWRlcHRoID09PSAwKSBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0LmRhdGEgPT09IFwiW1wiKSB7XG4gICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNiKG5vZGUpO1xuICB9XG59XG5cbmNvbnN0IGlzQXN5bmNXcmFwcGVyID0gKGkpID0+ICEhaS50eXBlLl9fYXN5bmNMb2FkZXI7XG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkZWZpbmVBc3luY0NvbXBvbmVudChzb3VyY2UpIHtcbiAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xuICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcbiAgfVxuICBjb25zdCB7XG4gICAgbG9hZGVyLFxuICAgIGxvYWRpbmdDb21wb25lbnQsXG4gICAgZXJyb3JDb21wb25lbnQsXG4gICAgZGVsYXkgPSAyMDAsXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVN0cmF0ZWd5LFxuICAgIHRpbWVvdXQsXG4gICAgLy8gdW5kZWZpbmVkID0gbmV2ZXIgdGltZXMgb3V0XG4gICAgc3VzcGVuc2libGUgPSB0cnVlLFxuICAgIG9uRXJyb3I6IHVzZXJPbkVycm9yXG4gIH0gPSBzb3VyY2U7XG4gIGxldCBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gIGxldCByZXNvbHZlZENvbXA7XG4gIGxldCByZXRyaWVzID0gMDtcbiAgY29uc3QgcmV0cnkgPSAoKSA9PiB7XG4gICAgcmV0cmllcysrO1xuICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICByZXR1cm4gbG9hZCgpO1xuICB9O1xuICBjb25zdCBsb2FkID0gKCkgPT4ge1xuICAgIGxldCB0aGlzUmVxdWVzdDtcbiAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3QgfHwgKHRoaXNSZXF1ZXN0ID0gcGVuZGluZ1JlcXVlc3QgPSBsb2FkZXIoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBlcnIgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyKSk7XG4gICAgICBpZiAodXNlck9uRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCB1c2VyUmV0cnkgPSAoKSA9PiByZXNvbHZlKHJldHJ5KCkpO1xuICAgICAgICAgIGNvbnN0IHVzZXJGYWlsID0gKCkgPT4gcmVqZWN0KGVycik7XG4gICAgICAgICAgdXNlck9uRXJyb3IoZXJyLCB1c2VyUmV0cnksIHVzZXJGYWlsLCByZXRyaWVzICsgMSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0pLnRoZW4oKGNvbXApID0+IHtcbiAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0O1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWNvbXApIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBBc3luYyBjb21wb25lbnQgbG9hZGVyIHJlc29sdmVkIHRvIHVuZGVmaW5lZC4gSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXAgJiYgKGNvbXAuX19lc01vZHVsZSB8fCBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09IFwiTW9kdWxlXCIpKSB7XG4gICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXN5bmMgY29tcG9uZW50IGxvYWQgcmVzdWx0OiAke2NvbXB9YCk7XG4gICAgICB9XG4gICAgICByZXNvbHZlZENvbXAgPSBjb21wO1xuICAgICAgcmV0dXJuIGNvbXA7XG4gICAgfSkpO1xuICB9O1xuICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiBcIkFzeW5jQ29tcG9uZW50V3JhcHBlclwiLFxuICAgIF9fYXN5bmNMb2FkZXI6IGxvYWQsXG4gICAgX19hc3luY0h5ZHJhdGUoZWwsIGluc3RhbmNlLCBoeWRyYXRlKSB7XG4gICAgICBjb25zdCBkb0h5ZHJhdGUgPSBoeWRyYXRlU3RyYXRlZ3kgPyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlYXJkb3duID0gaHlkcmF0ZVN0cmF0ZWd5KFxuICAgICAgICAgIGh5ZHJhdGUsXG4gICAgICAgICAgKGNiKSA9PiBmb3JFYWNoRWxlbWVudChlbCwgY2IpXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0ZWFyZG93bikge1xuICAgICAgICAgIChpbnN0YW5jZS5idW0gfHwgKGluc3RhbmNlLmJ1bSA9IFtdKSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgIH1cbiAgICAgIH0gOiBoeWRyYXRlO1xuICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xuICAgICAgICBkb0h5ZHJhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvYWQoKS50aGVuKCgpID0+ICFpbnN0YW5jZS5pc1VubW91bnRlZCAmJiBkb0h5ZHJhdGUoKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQgX19hc3luY1Jlc29sdmVkKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVkQ29tcDtcbiAgICB9LFxuICAgIHNldHVwKCkge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gICAgICBpZiAocmVzb2x2ZWRDb21wKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIGhhbmRsZUVycm9yKFxuICAgICAgICAgIGVycixcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAxMyxcbiAgICAgICAgICAhZXJyb3JDb21wb25lbnRcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgICBpZiAoc3VzcGVuc2libGUgJiYgaW5zdGFuY2Uuc3VzcGVuc2UgfHwgaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgICAgIHJldHVybiBsb2FkKCkudGhlbigoY29tcCkgPT4ge1xuICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAoY29tcCwgaW5zdGFuY2UpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgIHJldHVybiAoKSA9PiBlcnJvckNvbXBvbmVudCA/IGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XG4gICAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgICAgfSkgOiBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxvYWRlZCA9IHJlZihmYWxzZSk7XG4gICAgICBjb25zdCBlcnJvciA9IHJlZigpO1xuICAgICAgY29uc3QgZGVsYXllZCA9IHJlZighIWRlbGF5KTtcbiAgICAgIGlmIChkZWxheSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBkZWxheWVkLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFsb2FkZWQudmFsdWUgJiYgIWVycm9yLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBBc3luYyBjb21wb25lbnQgdGltZWQgb3V0IGFmdGVyICR7dGltZW91dH1tcy5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgIH1cbiAgICAgIGxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgbG9hZGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGluc3RhbmNlLnBhcmVudCAmJiBpc0tlZXBBbGl2ZShpbnN0YW5jZS5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgICAgaW5zdGFuY2UucGFyZW50LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChsb2FkZWQudmFsdWUgJiYgcmVzb2x2ZWRDb21wKSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci52YWx1ZSAmJiBlcnJvckNvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9hZGluZ0NvbXBvbmVudCAmJiAhZGVsYXllZC52YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShsb2FkaW5nQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHBhcmVudCkge1xuICBjb25zdCB7IHJlZjogcmVmMiwgcHJvcHMsIGNoaWxkcmVuLCBjZSB9ID0gcGFyZW50LnZub2RlO1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XG4gIHZub2RlLnJlZiA9IHJlZjI7XG4gIHZub2RlLmNlID0gY2U7XG4gIGRlbGV0ZSBwYXJlbnQudm5vZGUuY2U7XG4gIHJldHVybiB2bm9kZTtcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcbmNvbnN0IEtlZXBBbGl2ZUltcGwgPSB7XG4gIG5hbWU6IGBLZWVwQWxpdmVgLFxuICAvLyBNYXJrZXIgZm9yIHNwZWNpYWwgaGFuZGxpbmcgaW5zaWRlIHRoZSByZW5kZXJlci4gV2UgYXJlIG5vdCB1c2luZyBhID09PVxuICAvLyBjaGVjayBkaXJlY3RseSBvbiBLZWVwQWxpdmUgaW4gdGhlIHJlbmRlcmVyLCBiZWNhdXNlIGltcG9ydGluZyBpdCBkaXJlY3RseVxuICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXG4gIF9faXNLZWVwQWxpdmU6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgZXhjbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXG4gIH0sXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHNoYXJlZENvbnRleHQgPSBpbnN0YW5jZS5jdHg7XG4gICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAxID8gY2hpbGRyZW5bMF0gOiBjaGlsZHJlbjtcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCBrZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBsZXQgY3VycmVudCA9IG51bGw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5fX3ZfY2FjaGUgPSBjYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50U3VzcGVuc2UgPSBpbnN0YW5jZS5zdXNwZW5zZTtcbiAgICBjb25zdCB7XG4gICAgICByZW5kZXJlcjoge1xuICAgICAgICBwOiBwYXRjaCxcbiAgICAgICAgbTogbW92ZSxcbiAgICAgICAgdW06IF91bm1vdW50LFxuICAgICAgICBvOiB7IGNyZWF0ZUVsZW1lbnQgfVxuICAgICAgfVxuICAgIH0gPSBzaGFyZWRDb250ZXh0O1xuICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNoYXJlZENvbnRleHQuYWN0aXZhdGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBpbnN0YW5jZTIudm5vZGUsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgaW5zdGFuY2UyLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuYSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlMi5hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcbiAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlMi5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNoYXJlZENvbnRleHQuZGVhY3RpdmF0ZSA9ICh2bm9kZSkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgaW52YWxpZGF0ZU1vdW50KGluc3RhbmNlMi5tKTtcbiAgICAgIGludmFsaWRhdGVNb3VudChpbnN0YW5jZTIuYSk7XG4gICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UyLmRhKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UyLmRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xuICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UyLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gdHJ1ZTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlMik7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiB1bm1vdW50KHZub2RlKSB7XG4gICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICBfdW5tb3VudCh2bm9kZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJ1bmVDYWNoZShmaWx0ZXIpIHtcbiAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUodm5vZGUudHlwZSk7XG4gICAgICAgIGlmIChuYW1lICYmICFmaWx0ZXIobmFtZSkpIHtcbiAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKGNhY2hlZCAmJiAoIWN1cnJlbnQgfHwgIWlzU2FtZVZOb2RlVHlwZShjYWNoZWQsIGN1cnJlbnQpKSkge1xuICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgcmVzZXRTaGFwZUZsYWcoY3VycmVudCk7XG4gICAgICB9XG4gICAgICBjYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHdhdGNoKFxuICAgICAgKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLFxuICAgICAgKFtpbmNsdWRlLCBleGNsdWRlXSkgPT4ge1xuICAgICAgICBpbmNsdWRlICYmIHBydW5lQ2FjaGUoKG5hbWUpID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xuICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUoKG5hbWUpID0+ICFtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKTtcbiAgICAgIH0sXG4gICAgICAvLyBwcnVuZSBwb3N0LXJlbmRlciBhZnRlciBgY3VycmVudGAgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgeyBmbHVzaDogXCJwb3N0XCIsIGRlZXA6IHRydWUgfVxuICAgICk7XG4gICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XG4gICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdDYWNoZUtleSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc1N1c3BlbnNlKGluc3RhbmNlLnN1YlRyZWUudHlwZSkpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgY2FjaGUuc2V0KHBlbmRpbmdDYWNoZUtleSwgZ2V0SW5uZXJDaGlsZChpbnN0YW5jZS5zdWJUcmVlKSk7XG4gICAgICAgICAgfSwgaW5zdGFuY2Uuc3ViVHJlZS5zdXNwZW5zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FjaGUuc2V0KHBlbmRpbmdDYWNoZUtleSwgZ2V0SW5uZXJDaGlsZChpbnN0YW5jZS5zdWJUcmVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG9uTW91bnRlZChjYWNoZVN1YnRyZWUpO1xuICAgIG9uVXBkYXRlZChjYWNoZVN1YnRyZWUpO1xuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICBjYWNoZS5mb3JFYWNoKChjYWNoZWQpID0+IHtcbiAgICAgICAgY29uc3QgeyBzdWJUcmVlLCBzdXNwZW5zZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChzdWJUcmVlKTtcbiAgICAgICAgaWYgKGNhY2hlZC50eXBlID09PSB2bm9kZS50eXBlICYmIGNhY2hlZC5rZXkgPT09IHZub2RlLmtleSkge1xuICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcbiAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcbiAgICAgICAgICBkYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZGEsIHN1c3BlbnNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XG4gICAgICBpZiAoIXNsb3RzLmRlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XG4gICAgICBjb25zdCByYXdWTm9kZSA9IGNoaWxkcmVuWzBdO1xuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoYEtlZXBBbGl2ZSBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSBjb21wb25lbnQgY2hpbGQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH0gZWxzZSBpZiAoIWlzVk5vZGUocmF3Vk5vZGUpIHx8ICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCkgJiYgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjgpKSB7XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICB9XG4gICAgICBsZXQgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHJhd1ZOb2RlKTtcbiAgICAgIGlmICh2bm9kZS50eXBlID09PSBDb21tZW50KSB7XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gdm5vZGU7XG4gICAgICB9XG4gICAgICBjb25zdCBjb21wID0gdm5vZGUudHlwZTtcbiAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBpc0FzeW5jV3JhcHBlcih2bm9kZSkgPyB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCB8fCB7fSA6IGNvbXBcbiAgICAgICk7XG4gICAgICBjb25zdCB7IGluY2x1ZGUsIGV4Y2x1ZGUsIG1heCB9ID0gcHJvcHM7XG4gICAgICBpZiAoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpIHx8IGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKSB7XG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyAmPSB+MjU2O1xuICAgICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICAgIHJldHVybiByYXdWTm9kZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleSA9IHZub2RlLmtleSA9PSBudWxsID8gY29tcCA6IHZub2RlLmtleTtcbiAgICAgIGNvbnN0IGNhY2hlZFZOb2RlID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAodm5vZGUuZWwpIHtcbiAgICAgICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICAgICAgaWYgKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICAgIHJhd1ZOb2RlLnNzQ29udGVudCA9IHZub2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBrZXk7XG4gICAgICBpZiAoY2FjaGVkVk5vZGUpIHtcbiAgICAgICAgdm5vZGUuZWwgPSBjYWNoZWRWTm9kZS5lbDtcbiAgICAgICAgdm5vZGUuY29tcG9uZW50ID0gY2FjaGVkVk5vZGUuY29tcG9uZW50O1xuICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDUxMjtcbiAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICAgIGlmIChtYXggJiYga2V5cy5zaXplID4gcGFyc2VJbnQobWF4LCAxMCkpIHtcbiAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5cy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gMjU2O1xuICAgICAgY3VycmVudCA9IHZub2RlO1xuICAgICAgcmV0dXJuIGlzU3VzcGVuc2UocmF3Vk5vZGUudHlwZSkgPyByYXdWTm9kZSA6IHZub2RlO1xuICAgIH07XG4gIH1cbn07XG5jb25zdCBLZWVwQWxpdmUgPSBLZWVwQWxpdmVJbXBsO1xuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XG4gIGlmIChpc0FycmF5KHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc29tZSgocCkgPT4gbWF0Y2hlcyhwLCBuYW1lKSk7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zcGxpdChcIixcIikuaW5jbHVkZXMobmFtZSk7XG4gIH0gZWxzZSBpZiAoaXNSZWdFeHAocGF0dGVybikpIHtcbiAgICBwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBvbkFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcbiAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gb25EZWFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcbiAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCB0eXBlLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2RjIHx8IChob29rLl9fd2RjID0gKCkgPT4ge1xuICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBpZiAoY3VycmVudC5pc0RlYWN0aXZhdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGhvb2soKTtcbiAgfSk7XG4gIGluamVjdEhvb2sodHlwZSwgd3JhcHBlZEhvb2ssIHRhcmdldCk7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcbiAgICAgIGlmIChpc0tlZXBBbGl2ZShjdXJyZW50LnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xuICBjb25zdCBpbmplY3RlZCA9IGluamVjdEhvb2soXG4gICAgdHlwZSxcbiAgICBob29rLFxuICAgIGtlZXBBbGl2ZVJvb3QsXG4gICAgdHJ1ZVxuICAgIC8qIHByZXBlbmQgKi9cbiAgKTtcbiAgb25Vbm1vdW50ZWQoKCkgPT4ge1xuICAgIHJlbW92ZShrZWVwQWxpdmVSb290W3R5cGVdLCBpbmplY3RlZCk7XG4gIH0sIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZXNldFNoYXBlRmxhZyh2bm9kZSkge1xuICB2bm9kZS5zaGFwZUZsYWcgJj0gfjI1NjtcbiAgdm5vZGUuc2hhcGVGbGFnICY9IH41MTI7XG59XG5mdW5jdGlvbiBnZXRJbm5lckNoaWxkKHZub2RlKSB7XG4gIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAxMjggPyB2bm9kZS5zc0NvbnRlbnQgOiB2bm9kZTtcbn1cblxuZnVuY3Rpb24gaW5qZWN0SG9vayh0eXBlLCBob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UsIHByZXBlbmQgPSBmYWxzZSkge1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcbiAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHwgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XG4gICAgICByZXNldCgpO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgICBpZiAocHJlcGVuZCkge1xuICAgICAgaG9va3MudW5zaGlmdCh3cmFwcGVkSG9vayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcHBlZEhvb2s7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdLnJlcGxhY2UoLyBob29rJC8sIFwiXCIpKTtcbiAgICB3YXJuJDEoXG4gICAgICBgJHthcGlOYW1lfSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC4gTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgKyAoYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYCApXG4gICAgKTtcbiAgfVxufVxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IHtcbiAgaWYgKCFpc0luU1NSQ29tcG9uZW50U2V0dXAgfHwgbGlmZWN5Y2xlID09PSBcInNwXCIpIHtcbiAgICBpbmplY3RIb29rKGxpZmVjeWNsZSwgKC4uLmFyZ3MpID0+IGhvb2soLi4uYXJncyksIHRhcmdldCk7XG4gIH1cbn07XG5jb25zdCBvbkJlZm9yZU1vdW50ID0gY3JlYXRlSG9vayhcImJtXCIpO1xuY29uc3Qgb25Nb3VudGVkID0gY3JlYXRlSG9vayhcIm1cIik7XG5jb25zdCBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUhvb2soXG4gIFwiYnVcIlxuKTtcbmNvbnN0IG9uVXBkYXRlZCA9IGNyZWF0ZUhvb2soXCJ1XCIpO1xuY29uc3Qgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlSG9vayhcbiAgXCJidW1cIlxuKTtcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIpO1xuY29uc3Qgb25TZXJ2ZXJQcmVmZXRjaCA9IGNyZWF0ZUhvb2soXG4gIFwic3BcIlxuKTtcbmNvbnN0IG9uUmVuZGVyVHJpZ2dlcmVkID0gY3JlYXRlSG9vayhcInJ0Z1wiKTtcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXCJydGNcIik7XG5mdW5jdGlvbiBvbkVycm9yQ2FwdHVyZWQoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGluamVjdEhvb2soXCJlY1wiLCBob29rLCB0YXJnZXQpO1xufVxuXG5jb25zdCBDT01QT05FTlRTID0gXCJjb21wb25lbnRzXCI7XG5jb25zdCBESVJFQ1RJVkVTID0gXCJkaXJlY3RpdmVzXCI7XG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50KG5hbWUsIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICByZXR1cm4gcmVzb2x2ZUFzc2V0KENPTVBPTkVOVFMsIG5hbWUsIHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSkgfHwgbmFtZTtcbn1cbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2wuZm9yKFwidi1uZGNcIik7XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgaWYgKGlzU3RyaW5nKGNvbXBvbmVudCkpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KENPTVBPTkVOVFMsIGNvbXBvbmVudCwgZmFsc2UpIHx8IGNvbXBvbmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcG9uZW50IHx8IE5VTExfRFlOQU1JQ19DT01QT05FTlQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xuICByZXR1cm4gcmVzb2x2ZUFzc2V0KERJUkVDVElWRVMsIG5hbWUpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0KHR5cGUsIG5hbWUsIHdhcm5NaXNzaW5nID0gdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlID0gZmFsc2UpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xuICBpZiAoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgIGlmICh0eXBlID09PSBDT01QT05FTlRTKSB7XG4gICAgICBjb25zdCBzZWxmTmFtZSA9IGdldENvbXBvbmVudE5hbWUoXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICBpZiAoc2VsZk5hbWUgJiYgKHNlbGZOYW1lID09PSBuYW1lIHx8IHNlbGZOYW1lID09PSBjYW1lbGl6ZShuYW1lKSB8fCBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XG4gICAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IChcbiAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxuICAgICAgLy8gY2hlY2sgaW5zdGFuY2VbdHlwZV0gZmlyc3Qgd2hpY2ggaXMgcmVzb2x2ZWQgZm9yIG9wdGlvbnMgQVBJXG4gICAgICByZXNvbHZlKGluc3RhbmNlW3R5cGVdIHx8IENvbXBvbmVudFt0eXBlXSwgbmFtZSkgfHwgLy8gZ2xvYmFsIHJlZ2lzdHJhdGlvblxuICAgICAgcmVzb2x2ZShpbnN0YW5jZS5hcHBDb250ZXh0W3R5cGVdLCBuYW1lKVxuICAgICk7XG4gICAgaWYgKCFyZXMgJiYgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XG4gICAgICBjb25zdCBleHRyYSA9IHR5cGUgPT09IENPTVBPTkVOVFMgPyBgXG5JZiB0aGlzIGlzIGEgbmF0aXZlIGN1c3RvbSBlbGVtZW50LCBtYWtlIHN1cmUgdG8gZXhjbHVkZSBpdCBmcm9tIGNvbXBvbmVudCByZXNvbHV0aW9uIHZpYSBjb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50LmAgOiBgYDtcbiAgICAgIHdhcm4kMShgRmFpbGVkIHRvIHJlc29sdmUgJHt0eXBlLnNsaWNlKDAsIC0xKX06ICR7bmFtZX0ke2V4dHJhfWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgcmVzb2x2ZSR7Y2FwaXRhbGl6ZSh0eXBlLnNsaWNlKDAsIC0xKSl9IGNhbiBvbmx5IGJlIHVzZWQgaW4gcmVuZGVyKCkgb3Igc2V0dXAoKS5gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZShyZWdpc3RyeSwgbmFtZSkge1xuICByZXR1cm4gcmVnaXN0cnkgJiYgKHJlZ2lzdHJ5W25hbWVdIHx8IHJlZ2lzdHJ5W2NhbWVsaXplKG5hbWUpXSB8fCByZWdpc3RyeVtjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKV0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJMaXN0KHNvdXJjZSwgcmVuZGVySXRlbSwgY2FjaGUsIGluZGV4KSB7XG4gIGxldCByZXQ7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlICYmIGNhY2hlW2luZGV4XTtcbiAgY29uc3Qgc291cmNlSXNBcnJheSA9IGlzQXJyYXkoc291cmNlKTtcbiAgaWYgKHNvdXJjZUlzQXJyYXkgfHwgaXNTdHJpbmcoc291cmNlKSkge1xuICAgIGNvbnN0IHNvdXJjZUlzUmVhY3RpdmVBcnJheSA9IHNvdXJjZUlzQXJyYXkgJiYgaXNSZWFjdGl2ZShzb3VyY2UpO1xuICAgIGxldCBuZWVkc1dyYXAgPSBmYWxzZTtcbiAgICBpZiAoc291cmNlSXNSZWFjdGl2ZUFycmF5KSB7XG4gICAgICBuZWVkc1dyYXAgPSAhaXNTaGFsbG93KHNvdXJjZSk7XG4gICAgICBzb3VyY2UgPSBzaGFsbG93UmVhZEFycmF5KHNvdXJjZSk7XG4gICAgfVxuICAgIHJldCA9IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHNvdXJjZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oXG4gICAgICAgIG5lZWRzV3JhcCA/IHRvUmVhY3RpdmUoc291cmNlW2ldKSA6IHNvdXJjZVtpXSxcbiAgICAgICAgaSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBjYWNoZWQgJiYgY2FjaGVkW2ldXG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSBcIm51bWJlclwiKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xuICAgICAgd2FybiQxKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XG4gICAgfVxuICAgIHJldCA9IG5ldyBBcnJheShzb3VyY2UpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oaSArIDEsIGksIHZvaWQgMCwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICBpZiAoc291cmNlW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgIHJldCA9IEFycmF5LmZyb20oXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgKGl0ZW0sIGkpID0+IHJlbmRlckl0ZW0oaXRlbSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKHNvdXJjZVtrZXldLCBrZXksIGksIGNhY2hlZCAmJiBjYWNoZWRbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXQgPSBbXTtcbiAgfVxuICBpZiAoY2FjaGUpIHtcbiAgICBjYWNoZVtpbmRleF0gPSByZXQ7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2xvdHMoc2xvdHMsIGR5bmFtaWNTbG90cykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XG4gICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2xvdC5sZW5ndGg7IGorKykge1xuICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNsb3QpIHtcbiAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmtleSA/ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHNsb3QuZm4oLi4uYXJncyk7XG4gICAgICAgIGlmIChyZXMpIHJlcy5rZXkgPSBzbG90LmtleTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0gOiBzbG90LmZuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2xvdHM7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIGZhbGxiYWNrLCBub1Nsb3R0ZWQpIHtcbiAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50ICYmIGlzQXN5bmNXcmFwcGVyKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQpICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQuY2UpIHtcbiAgICBpZiAobmFtZSAhPT0gXCJkZWZhdWx0XCIpIHByb3BzLm5hbWUgPSBuYW1lO1xuICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2soXG4gICAgICBGcmFnbWVudCxcbiAgICAgIG51bGwsXG4gICAgICBbY3JlYXRlVk5vZGUoXCJzbG90XCIsIHByb3BzLCBmYWxsYmFjayAmJiBmYWxsYmFjaygpKV0sXG4gICAgICA2NFxuICAgICk7XG4gIH1cbiAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgU1NSLW9wdGltaXplZCBzbG90IGZ1bmN0aW9uIGRldGVjdGVkIGluIGEgbm9uLVNTUi1vcHRpbWl6ZWQgcmVuZGVyIGZ1bmN0aW9uLiBZb3UgbmVlZCB0byBtYXJrIHRoaXMgY29tcG9uZW50IHdpdGggJGR5bmFtaWMtc2xvdHMgaW4gdGhlIHBhcmVudCB0ZW1wbGF0ZS5gXG4gICAgKTtcbiAgICBzbG90ID0gKCkgPT4gW107XG4gIH1cbiAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgIHNsb3QuX2QgPSBmYWxzZTtcbiAgfVxuICBvcGVuQmxvY2soKTtcbiAgY29uc3QgdmFsaWRTbG90Q29udGVudCA9IHNsb3QgJiYgZW5zdXJlVmFsaWRWTm9kZShzbG90KHByb3BzKSk7XG4gIGNvbnN0IHNsb3RLZXkgPSBwcm9wcy5rZXkgfHwgLy8gc2xvdCBjb250ZW50IGFycmF5IG9mIGEgZHluYW1pYyBjb25kaXRpb25hbCBzbG90IG1heSBoYXZlIGEgYnJhbmNoXG4gIC8vIGtleSBhdHRhY2hlZCBpbiB0aGUgYGNyZWF0ZVNsb3RzYCBoZWxwZXIsIHJlc3BlY3QgdGhhdFxuICB2YWxpZFNsb3RDb250ZW50ICYmIHZhbGlkU2xvdENvbnRlbnQua2V5O1xuICBjb25zdCByZW5kZXJlZCA9IGNyZWF0ZUJsb2NrKFxuICAgIEZyYWdtZW50LFxuICAgIHtcbiAgICAgIGtleTogKHNsb3RLZXkgJiYgIWlzU3ltYm9sKHNsb3RLZXkpID8gc2xvdEtleSA6IGBfJHtuYW1lfWApICsgLy8gIzcyNTYgZm9yY2UgZGlmZmVyZW50aWF0ZSBmYWxsYmFjayBjb250ZW50IGZyb20gYWN0dWFsIGNvbnRlbnRcbiAgICAgICghdmFsaWRTbG90Q29udGVudCAmJiBmYWxsYmFjayA/IFwiX2ZiXCIgOiBcIlwiKVxuICAgIH0sXG4gICAgdmFsaWRTbG90Q29udGVudCB8fCAoZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogW10pLFxuICAgIHZhbGlkU2xvdENvbnRlbnQgJiYgc2xvdHMuXyA9PT0gMSA/IDY0IDogLTJcbiAgKTtcbiAgaWYgKCFub1Nsb3R0ZWQgJiYgcmVuZGVyZWQuc2NvcGVJZCkge1xuICAgIHJlbmRlcmVkLnNsb3RTY29wZUlkcyA9IFtyZW5kZXJlZC5zY29wZUlkICsgXCItc1wiXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVkO1xufVxuZnVuY3Rpb24gZW5zdXJlVmFsaWRWTm9kZSh2bm9kZXMpIHtcbiAgcmV0dXJuIHZub2Rlcy5zb21lKChjaGlsZCkgPT4ge1xuICAgIGlmICghaXNWTm9kZShjaGlsZCkpIHJldHVybiB0cnVlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IEZyYWdtZW50ICYmICFlbnN1cmVWYWxpZFZOb2RlKGNoaWxkLmNoaWxkcmVuKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSkgPyB2bm9kZXMgOiBudWxsO1xufVxuXG5mdW5jdGlvbiB0b0hhbmRsZXJzKG9iaiwgcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChvYmopKSB7XG4gICAgd2FybiQxKGB2LW9uIHdpdGggbm8gYXJndW1lbnQgZXhwZWN0cyBhbiBvYmplY3QgdmFsdWUuYCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICByZXRbcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkgJiYgL1tBLVpdLy50ZXN0KGtleSkgPyBgb246JHtrZXl9YCA6IHRvSGFuZGxlcktleShrZXkpXSA9IG9ialtrZXldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmNvbnN0IGdldFB1YmxpY0luc3RhbmNlID0gKGkpID0+IHtcbiAgaWYgKCFpKSByZXR1cm4gbnVsbDtcbiAgaWYgKGlzU3RhdGVmdWxDb21wb25lbnQoaSkpIHJldHVybiBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZShpKTtcbiAgcmV0dXJuIGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KTtcbn07XG5jb25zdCBwdWJsaWNQcm9wZXJ0aWVzTWFwID0gKFxuICAvLyBNb3ZlIFBVUkUgbWFya2VyIHRvIG5ldyBsaW5lIHRvIHdvcmthcm91bmQgY29tcGlsZXIgZGlzY2FyZGluZyBpdFxuICAvLyBkdWUgdG8gdHlwZSBhbm5vdGF0aW9uXG4gIC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICAkOiAoaSkgPT4gaSxcbiAgICAkZWw6IChpKSA9PiBpLnZub2RlLmVsLFxuICAgICRkYXRhOiAoaSkgPT4gaS5kYXRhLFxuICAgICRwcm9wczogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5wcm9wcykgOiBpLnByb3BzLFxuICAgICRhdHRyczogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzLFxuICAgICRzbG90czogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5zbG90cykgOiBpLnNsb3RzLFxuICAgICRyZWZzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnJlZnMpIDogaS5yZWZzLFxuICAgICRwYXJlbnQ6IChpKSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCksXG4gICAgJHJvb3Q6IChpKSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnJvb3QpLFxuICAgICRob3N0OiAoaSkgPT4gaS5jZSxcbiAgICAkZW1pdDogKGkpID0+IGkuZW1pdCxcbiAgICAkb3B0aW9uczogKGkpID0+IF9fVlVFX09QVElPTlNfQVBJX18gPyByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpKSA6IGkudHlwZSxcbiAgICAkZm9yY2VVcGRhdGU6IChpKSA9PiBpLmYgfHwgKGkuZiA9ICgpID0+IHtcbiAgICAgIHF1ZXVlSm9iKGkudXBkYXRlKTtcbiAgICB9KSxcbiAgICAkbmV4dFRpY2s6IChpKSA9PiBpLm4gfHwgKGkubiA9IG5leHRUaWNrLmJpbmQoaS5wcm94eSkpLFxuICAgICR3YXRjaDogKGkpID0+IF9fVlVFX09QVElPTlNfQVBJX18gPyBpbnN0YW5jZVdhdGNoLmJpbmQoaSkgOiBOT09QXG4gIH0pXG4pO1xuY29uc3QgaXNSZXNlcnZlZFByZWZpeCA9IChrZXkpID0+IGtleSA9PT0gXCJfXCIgfHwga2V5ID09PSBcIiRcIjtcbmNvbnN0IGhhc1NldHVwQmluZGluZyA9IChzdGF0ZSwga2V5KSA9PiBzdGF0ZSAhPT0gRU1QVFlfT0JKICYmICFzdGF0ZS5fX2lzU2NyaXB0U2V0dXAgJiYgaGFzT3duKHN0YXRlLCBrZXkpO1xuY29uc3QgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0ge1xuICBnZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9za2lwXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSwgZGF0YSwgcHJvcHMsIGFjY2Vzc0NhY2hlLCB0eXBlLCBhcHBDb250ZXh0IH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgPT09IFwiX19pc1Z1ZVwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcbiAgICBpZiAoa2V5WzBdICE9PSBcIiRcIikge1xuICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XG4gICAgICBpZiAobiAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHN3aXRjaCAobikge1xuICAgICAgICAgIGNhc2UgMSAvKiBTRVRVUCAqLzpcbiAgICAgICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICAgICAgY2FzZSAyIC8qIERBVEEgKi86XG4gICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICAgIGNhc2UgNCAvKiBDT05URVhUICovOlxuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgICAgIGNhc2UgMyAvKiBQUk9QUyAqLzpcbiAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAxIC8qIFNFVFVQICovO1xuICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDIgLyogREFUQSAqLztcbiAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIC8vIG9ubHkgY2FjaGUgb3RoZXIgcHJvcGVydGllcyB3aGVuIGluc3RhbmNlIGhhcyBkZWNsYXJlZCAodGh1cyBzdGFibGUpXG4gICAgICAgIC8vIHByb3BzXG4gICAgICAgIChub3JtYWxpemVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pICYmIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSlcbiAgICAgICkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMyAvKiBQUk9QUyAqLztcbiAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICB9IGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogQ09OVEVYVCAqLztcbiAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgfSBlbHNlIGlmICghX19WVUVfT1BUSU9OU19BUElfXyB8fCBzaG91bGRDYWNoZUFjY2Vzcykge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMCAvKiBPVEhFUiAqLztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcHVibGljR2V0dGVyID0gcHVibGljUHJvcGVydGllc01hcFtrZXldO1xuICAgIGxldCBjc3NNb2R1bGUsIGdsb2JhbFByb3BlcnRpZXM7XG4gICAgaWYgKHB1YmxpY0dldHRlcikge1xuICAgICAgaWYgKGtleSA9PT0gXCIkYXR0cnNcIikge1xuICAgICAgICB0cmFjayhpbnN0YW5jZS5hdHRycywgXCJnZXRcIiwgXCJcIik7XG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgPT09IFwiJHNsb3RzXCIpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIsIGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcbiAgICAgIChjc3NNb2R1bGUgPSB0eXBlLl9fY3NzTW9kdWxlcykgJiYgKGNzc01vZHVsZSA9IGNzc01vZHVsZVtrZXldKVxuICAgICkge1xuICAgICAgcmV0dXJuIGNzc01vZHVsZTtcbiAgICB9IGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIENPTlRFWFQgKi87XG4gICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIGdsb2JhbCBwcm9wZXJ0aWVzXG4gICAgICBnbG9iYWxQcm9wZXJ0aWVzID0gYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywgaGFzT3duKGdsb2JhbFByb3BlcnRpZXMsIGtleSlcbiAgICApIHtcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFByb3BlcnRpZXNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlICYmICghaXNTdHJpbmcoa2V5KSB8fCAvLyAjMTA5MSBhdm9pZCBpbnRlcm5hbCBpc1JlZi9pc1ZOb2RlIGNoZWNrcyBvbiBjb21wb25lbnQgaW5zdGFuY2UgbGVhZGluZ1xuICAgIC8vIHRvIGluZmluaXRlIHdhcm5pbmcgbG9vcFxuICAgIGtleS5pbmRleE9mKFwiX192XCIpICE9PSAwKSkge1xuICAgICAgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBpc1Jlc2VydmVkUHJlZml4KGtleVswXSkgJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKX0gbXVzdCBiZSBhY2Nlc3NlZCB2aWEgJGRhdGEgYmVjYXVzZSBpdCBzdGFydHMgd2l0aCBhIHJlc2VydmVkIGNoYXJhY3RlciAoXCIkXCIgb3IgXCJfXCIpIGFuZCBpcyBub3QgcHJveGllZCBvbiB0aGUgcmVuZGVyIGNvbnRleHQuYFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZSA9PT0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBidXQgaXMgbm90IGRlZmluZWQgb24gaW5zdGFuY2UuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2V0KHsgXzogaW5zdGFuY2UgfSwga2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IHsgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4IH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgIHNldHVwU3RhdGVba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICB3YXJuJDEoYENhbm5vdCBtdXRhdGUgPHNjcmlwdCBzZXR1cD4gYmluZGluZyBcIiR7a2V5fVwiIGZyb20gT3B0aW9ucyBBUEkuYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGtleVswXSA9PT0gXCIkXCIgJiYga2V5LnNsaWNlKDEpIGluIGluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBQcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggJCBhcmUgcmVzZXJ2ZWQgYW5kIHJlYWRvbmx5LmBcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGhhcyh7XG4gICAgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMgfVxuICB9LCBrZXkpIHtcbiAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgIHJldHVybiAhIWFjY2Vzc0NhY2hlW2tleV0gfHwgZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpIHx8IGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpIHx8IChub3JtYWxpemVkUHJvcHMgPSBwcm9wc09wdGlvbnNbMF0pICYmIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkgfHwgaGFzT3duKGN0eCwga2V5KSB8fCBoYXNPd24ocHVibGljUHJvcGVydGllc01hcCwga2V5KSB8fCBoYXNPd24oYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywga2V5KTtcbiAgfSxcbiAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICBpZiAoZGVzY3JpcHRvci5nZXQgIT0gbnVsbCkge1xuICAgICAgdGFyZ2V0Ll8uYWNjZXNzQ2FjaGVba2V5XSA9IDA7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oZGVzY3JpcHRvciwgXCJ2YWx1ZVwiKSkge1xuICAgICAgdGhpcy5zZXQodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IudmFsdWUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn07XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xuICAgIHdhcm4kMShcbiAgICAgIGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhlIGtleXMgd2lsbCBiZSBlbXB0eSBpbiBwcm9kdWN0aW9uIG1vZGUgdG8gYXZvaWQgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuYFxuICAgICk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICB9O1xufVxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIGlmIChrZXkgPT09IFN5bWJvbC51bnNjb3BhYmxlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcbiAgfSxcbiAgaGFzKF8sIGtleSkge1xuICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gXCJfXCIgJiYgIWlzR2xvYmFsbHlBbGxvd2VkKGtleSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAga2V5XG4gICAgICAgICl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBfIHdoaWNoIGlzIGEgcmVzZXJ2ZWQgcHJlZml4IGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBoYXM7XG4gIH1cbn0pO1xuZnVuY3Rpb24gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogKCkgPT4gaW5zdGFuY2VcbiAgfSk7XG4gIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXNNYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXG4gICAgICAvLyBpbnRlcmNlcHRlZCBieSB0aGUgcHJveHkgc28gbm8gbmVlZCBmb3IgaW1wbGVtZW50YXRpb24sXG4gICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xuICAgICAgc2V0OiBOT09QXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGN0eCxcbiAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdXG4gIH0gPSBpbnN0YW5jZTtcbiAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xuICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKCFzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCkge1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXCIkXCIgb3IgXCJfXCIgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3Qgd2FyblJ1bnRpbWVVc2FnZSA9IChtZXRob2QpID0+IHdhcm4kMShcbiAgYCR7bWV0aG9kfSgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgPHNjcmlwdCBzZXR1cD4gb2YgYSBzaW5nbGUgZmlsZSBjb21wb25lbnQuIEl0cyBhcmd1bWVudHMgc2hvdWxkIGJlIGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmBcbik7XG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVQcm9wc2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lRW1pdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRW1pdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUV4cG9zZShleHBvc2VkKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRXhwb3NlYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZU9wdGlvbnMob3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZU9wdGlvbnNgKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lU2xvdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lU2xvdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZU1vZGVsKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoXCJkZWZpbmVNb2RlbFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gd2l0aERlZmF1bHRzKHByb3BzLCBkZWZhdWx0cykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYHdpdGhEZWZhdWx0c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2xvdHMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KCkuc2xvdHM7XG59XG5mdW5jdGlvbiB1c2VBdHRycygpIHtcbiAgcmV0dXJuIGdldENvbnRleHQoKS5hdHRycztcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYHVzZUNvbnRleHQoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gIH1cbiAgcmV0dXJuIGkuc2V0dXBDb250ZXh0IHx8IChpLnNldHVwQ29udGV4dCA9IGNyZWF0ZVNldHVwQ29udGV4dChpKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09yRW1pdHMocHJvcHMpIHtcbiAgcmV0dXJuIGlzQXJyYXkocHJvcHMpID8gcHJvcHMucmVkdWNlKFxuICAgIChub3JtYWxpemVkLCBwKSA9PiAobm9ybWFsaXplZFtwXSA9IG51bGwsIG5vcm1hbGl6ZWQpLFxuICAgIHt9XG4gICkgOiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlRGVmYXVsdHMocmF3LCBkZWZhdWx0cykge1xuICBjb25zdCBwcm9wcyA9IG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhyYXcpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIl9fc2tpcFwiKSkgY29udGludWU7XG4gICAgbGV0IG9wdCA9IHByb3BzW2tleV07XG4gICAgaWYgKG9wdCkge1xuICAgICAgaWYgKGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkpIHtcbiAgICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgdHlwZTogb3B0LCBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHQuZGVmYXVsdCA9IGRlZmF1bHRzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcHQgPT09IG51bGwpIHtcbiAgICAgIG9wdCA9IHByb3BzW2tleV0gPSB7IGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgcHJvcHMgZGVmYXVsdCBrZXkgXCIke2tleX1cIiBoYXMgbm8gY29ycmVzcG9uZGluZyBkZWNsYXJhdGlvbi5gKTtcbiAgICB9XG4gICAgaWYgKG9wdCAmJiBkZWZhdWx0c1tgX19za2lwXyR7a2V5fWBdKSB7XG4gICAgICBvcHQuc2tpcEZhY3RvcnkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBtZXJnZU1vZGVscyhhLCBiKSB7XG4gIGlmICghYSB8fCAhYikgcmV0dXJuIGEgfHwgYjtcbiAgaWYgKGlzQXJyYXkoYSkgJiYgaXNBcnJheShiKSkgcmV0dXJuIGEuY29uY2F0KGIpO1xuICByZXR1cm4gZXh0ZW5kKHt9LCBub3JtYWxpemVQcm9wc09yRW1pdHMoYSksIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhiKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wc1Jlc3RQcm94eShwcm9wcywgZXhjbHVkZWRLZXlzKSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgIGlmICghZXhjbHVkZWRLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXQsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHByb3BzW2tleV1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gd2l0aEFzeW5jQ29udGV4dChnZXRBd2FpdGFibGUpIHtcbiAgY29uc3QgY3R4ID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjdHgpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgd2l0aEFzeW5jQ29udGV4dCBjYWxsZWQgd2l0aG91dCBhY3RpdmUgY3VycmVudCBpbnN0YW5jZS4gVGhpcyBpcyBsaWtlbHkgYSBidWcuYFxuICAgICk7XG4gIH1cbiAgbGV0IGF3YWl0YWJsZSA9IGdldEF3YWl0YWJsZSgpO1xuICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaXNQcm9taXNlKGF3YWl0YWJsZSkpIHtcbiAgICBhd2FpdGFibGUgPSBhd2FpdGFibGUuY2F0Y2goKGUpID0+IHtcbiAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShjdHgpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gW2F3YWl0YWJsZSwgKCkgPT4gc2V0Q3VycmVudEluc3RhbmNlKGN0eCldO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xuICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICB3YXJuJDEoYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XG4gICAgfVxuICB9O1xufVxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbmZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSkge1xuICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpO1xuICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XG4gIGNvbnN0IGN0eCA9IGluc3RhbmNlLmN0eDtcbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMuYmVmb3JlQ3JlYXRlKSB7XG4gICAgY2FsbEhvb2sob3B0aW9ucy5iZWZvcmVDcmVhdGUsIGluc3RhbmNlLCBcImJjXCIpO1xuICB9XG4gIGNvbnN0IHtcbiAgICAvLyBzdGF0ZVxuICAgIGRhdGE6IGRhdGFPcHRpb25zLFxuICAgIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsXG4gICAgbWV0aG9kcyxcbiAgICB3YXRjaDogd2F0Y2hPcHRpb25zLFxuICAgIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLFxuICAgIGluamVjdDogaW5qZWN0T3B0aW9ucyxcbiAgICAvLyBsaWZlY3ljbGVcbiAgICBjcmVhdGVkLFxuICAgIGJlZm9yZU1vdW50LFxuICAgIG1vdW50ZWQsXG4gICAgYmVmb3JlVXBkYXRlLFxuICAgIHVwZGF0ZWQsXG4gICAgYWN0aXZhdGVkLFxuICAgIGRlYWN0aXZhdGVkLFxuICAgIGJlZm9yZURlc3Ryb3ksXG4gICAgYmVmb3JlVW5tb3VudCxcbiAgICBkZXN0cm95ZWQsXG4gICAgdW5tb3VudGVkLFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJUcmFja2VkLFxuICAgIHJlbmRlclRyaWdnZXJlZCxcbiAgICBlcnJvckNhcHR1cmVkLFxuICAgIHNlcnZlclByZWZldGNoLFxuICAgIC8vIHB1YmxpYyBBUElcbiAgICBleHBvc2UsXG4gICAgaW5oZXJpdEF0dHJzLFxuICAgIC8vIGFzc2V0c1xuICAgIGNvbXBvbmVudHMsXG4gICAgZGlyZWN0aXZlcyxcbiAgICBmaWx0ZXJzXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIDogbnVsbDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBbcHJvcHNPcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcbiAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiUHJvcHNcIiAvKiBQUk9QUyAqLywga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGluamVjdE9wdGlvbnMpIHtcbiAgICByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyk7XG4gIH1cbiAgaWYgKG1ldGhvZHMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xuICAgICAgaWYgKGlzRnVuY3Rpb24obWV0aG9kSGFuZGxlcikpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgIHZhbHVlOiBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyksXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHhba2V5XSA9IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIk1ldGhvZHNcIiAvKiBNRVRIT0RTICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRhdGFPcHRpb25zKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oZGF0YU9wdGlvbnMpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBQbGFpbiBvYmplY3QgdXNhZ2UgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gZGF0YU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYGRhdGEoKSByZXR1cm5lZCBhIFByb21pc2UgLSBub3RlIGRhdGEoKSBjYW5ub3QgYmUgYXN5bmM7IElmIHlvdSBpbnRlbmQgdG8gcGVyZm9ybSBkYXRhIGZldGNoaW5nIGJlZm9yZSBjb21wb25lbnQgcmVuZGVycywgdXNlIGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJEYXRhXCIgLyogREFUQSAqLywga2V5KTtcbiAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBkYXRhW2tleV0sXG4gICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbiAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xuICAgICAgY29uc3Qgb3B0ID0gY29tcHV0ZWRPcHRpb25zW2tleV07XG4gICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdCkgPyBvcHQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IGlzRnVuY3Rpb24ob3B0LmdldCkgPyBvcHQuZ2V0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcykgOiBOT09QO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZ2V0ID09PSBOT09QKSB7XG4gICAgICAgIHdhcm4kMShgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2V0ID0gIWlzRnVuY3Rpb24ob3B0KSAmJiBpc0Z1bmN0aW9uKG9wdC5zZXQpID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpIDogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/ICgpID0+IHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmBcbiAgICAgICAgKTtcbiAgICAgIH0gOiBOT09QO1xuICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0LFxuICAgICAgICBzZXRcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBjLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIENPTVBVVEVEICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAod2F0Y2hPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XG4gICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XG4gICAgfVxuICB9XG4gIGlmIChwcm92aWRlT3B0aW9ucykge1xuICAgIGNvbnN0IHByb3ZpZGVzID0gaXNGdW5jdGlvbihwcm92aWRlT3B0aW9ucykgPyBwcm92aWRlT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMpIDogcHJvdmlkZU9wdGlvbnM7XG4gICAgUmVmbGVjdC5vd25LZXlzKHByb3ZpZGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY3JlYXRlZCkge1xuICAgIGNhbGxIb29rKGNyZWF0ZWQsIGluc3RhbmNlLCBcImNcIik7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJMaWZlY3ljbGVIb29rKHJlZ2lzdGVyLCBob29rKSB7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGhvb2suZm9yRWFjaCgoX2hvb2spID0+IHJlZ2lzdGVyKF9ob29rLmJpbmQocHVibGljVGhpcykpKTtcbiAgICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICAgIHJlZ2lzdGVyKGhvb2suYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZU1vdW50LCBiZWZvcmVNb3VudCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbk1vdW50ZWQsIG1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVcGRhdGUsIGJlZm9yZVVwZGF0ZSk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVwZGF0ZWQsIHVwZGF0ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25BY3RpdmF0ZWQsIGFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkRlYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkVycm9yQ2FwdHVyZWQsIGVycm9yQ2FwdHVyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmFja2VkLCByZW5kZXJUcmFja2VkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJpZ2dlcmVkLCByZW5kZXJUcmlnZ2VyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVbm1vdW50LCBiZWZvcmVVbm1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCB1bm1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25TZXJ2ZXJQcmVmZXRjaCwgc2VydmVyUHJlZmV0Y2gpO1xuICBpZiAoaXNBcnJheShleHBvc2UpKSB7XG4gICAgaWYgKGV4cG9zZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0ge30pO1xuICAgICAgZXhwb3NlLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3NlZCwga2V5LCB7XG4gICAgICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNUaGlzW2tleV0sXG4gICAgICAgICAgc2V0OiAodmFsKSA9PiBwdWJsaWNUaGlzW2tleV0gPSB2YWxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICBpbnN0YW5jZS5leHBvc2VkID0ge307XG4gICAgfVxuICB9XG4gIGlmIChyZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QKSB7XG4gICAgaW5zdGFuY2UucmVuZGVyID0gcmVuZGVyO1xuICB9XG4gIGlmIChpbmhlcml0QXR0cnMgIT0gbnVsbCkge1xuICAgIGluc3RhbmNlLmluaGVyaXRBdHRycyA9IGluaGVyaXRBdHRycztcbiAgfVxuICBpZiAoY29tcG9uZW50cykgaW5zdGFuY2UuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gIGlmIChkaXJlY3RpdmVzKSBpbnN0YW5jZS5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgaWYgKHNlcnZlclByZWZldGNoKSB7XG4gICAgbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IE5PT1ApIHtcbiAgaWYgKGlzQXJyYXkoaW5qZWN0T3B0aW9ucykpIHtcbiAgICBpbmplY3RPcHRpb25zID0gbm9ybWFsaXplSW5qZWN0KGluamVjdE9wdGlvbnMpO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGluamVjdE9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XG4gICAgbGV0IGluamVjdGVkO1xuICAgIGlmIChpc09iamVjdChvcHQpKSB7XG4gICAgICBpZiAoXCJkZWZhdWx0XCIgaW4gb3B0KSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KFxuICAgICAgICAgIG9wdC5mcm9tIHx8IGtleSxcbiAgICAgICAgICBvcHQuZGVmYXVsdCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQuZnJvbSB8fCBrZXkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmplY3RlZCA9IGluamVjdChvcHQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWYoaW5qZWN0ZWQpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluamVjdGVkLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBpbmplY3RlZC52YWx1ZSA9IHZcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHhba2V5XSA9IGluamVjdGVkO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2FsbEhvb2soaG9vaywgaW5zdGFuY2UsIHR5cGUpIHtcbiAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgaXNBcnJheShob29rKSA/IGhvb2subWFwKChoKSA9PiBoLmJpbmQoaW5zdGFuY2UucHJveHkpKSA6IGhvb2suYmluZChpbnN0YW5jZS5wcm94eSksXG4gICAgaW5zdGFuY2UsXG4gICAgdHlwZVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcihyYXcsIGN0eCwgcHVibGljVGhpcywga2V5KSB7XG4gIGxldCBnZXR0ZXIgPSBrZXkuaW5jbHVkZXMoXCIuXCIpID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBrZXkpIDogKCkgPT4gcHVibGljVGhpc1trZXldO1xuICBpZiAoaXNTdHJpbmcocmF3KSkge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBjdHhbcmF3XTtcbiAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAge1xuICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xuICAgIHtcbiAgICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChyYXcpKSB7XG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgICAgcmF3LmZvckVhY2goKHIpID0+IGNyZWF0ZVdhdGNoZXIociwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaGFuZGxlciA9IGlzRnVuY3Rpb24ocmF3LmhhbmRsZXIpID8gcmF3LmhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSA6IGN0eFtyYXcuaGFuZGxlcl07XG4gICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIsIHJhdyk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3LmhhbmRsZXJ9XCJgLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBvcHRpb246IFwiJHtrZXl9XCJgLCByYXcpO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkge1xuICBjb25zdCBiYXNlID0gaW5zdGFuY2UudHlwZTtcbiAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBiYXNlO1xuICBjb25zdCB7XG4gICAgbWl4aW5zOiBnbG9iYWxNaXhpbnMsXG4gICAgb3B0aW9uc0NhY2hlOiBjYWNoZSxcbiAgICBjb25maWc6IHsgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzIH1cbiAgfSA9IGluc3RhbmNlLmFwcENvbnRleHQ7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChiYXNlKTtcbiAgbGV0IHJlc29sdmVkO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmVzb2x2ZWQgPSBjYWNoZWQ7XG4gIH0gZWxzZSBpZiAoIWdsb2JhbE1peGlucy5sZW5ndGggJiYgIW1peGlucyAmJiAhZXh0ZW5kc09wdGlvbnMpIHtcbiAgICB7XG4gICAgICByZXNvbHZlZCA9IGJhc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc29sdmVkID0ge307XG4gICAgaWYgKGdsb2JhbE1peGlucy5sZW5ndGgpIHtcbiAgICAgIGdsb2JhbE1peGlucy5mb3JFYWNoKFxuICAgICAgICAobSkgPT4gbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBtLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMsIHRydWUpXG4gICAgICApO1xuICAgIH1cbiAgICBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIGJhc2UsIG9wdGlvbk1lcmdlU3RyYXRlZ2llcyk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KGJhc2UpKSB7XG4gICAgY2FjaGUuc2V0KGJhc2UsIHJlc29sdmVkKTtcbiAgfVxuICByZXR1cm4gcmVzb2x2ZWQ7XG59XG5mdW5jdGlvbiBtZXJnZU9wdGlvbnModG8sIGZyb20sIHN0cmF0cywgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gZnJvbTtcbiAgaWYgKGV4dGVuZHNPcHRpb25zKSB7XG4gICAgbWVyZ2VPcHRpb25zKHRvLCBleHRlbmRzT3B0aW9ucywgc3RyYXRzLCB0cnVlKTtcbiAgfVxuICBpZiAobWl4aW5zKSB7XG4gICAgbWl4aW5zLmZvckVhY2goXG4gICAgICAobSkgPT4gbWVyZ2VPcHRpb25zKHRvLCBtLCBzdHJhdHMsIHRydWUpXG4gICAgKTtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgaWYgKGFzTWl4aW4gJiYga2V5ID09PSBcImV4cG9zZVwiKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYFwiZXhwb3NlXCIgb3B0aW9uIGlzIGlnbm9yZWQgd2hlbiBkZWNsYXJlZCBpbiBtaXhpbnMgb3IgZXh0ZW5kcy4gSXQgc2hvdWxkIG9ubHkgYmUgZGVjbGFyZWQgaW4gdGhlIGJhc2UgY29tcG9uZW50IGl0c2VsZi5gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHJhdCA9IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHNba2V5XSB8fCBzdHJhdHMgJiYgc3RyYXRzW2tleV07XG4gICAgICB0b1trZXldID0gc3RyYXQgPyBzdHJhdCh0b1trZXldLCBmcm9tW2tleV0pIDogZnJvbVtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG87XG59XG5jb25zdCBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzID0ge1xuICBkYXRhOiBtZXJnZURhdGFGbixcbiAgcHJvcHM6IG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyxcbiAgZW1pdHM6IG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyxcbiAgLy8gb2JqZWN0c1xuICBtZXRob2RzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIGNvbXB1dGVkOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIC8vIGxpZmVjeWNsZVxuICBiZWZvcmVDcmVhdGU6IG1lcmdlQXNBcnJheSxcbiAgY3JlYXRlZDogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVNb3VudDogbWVyZ2VBc0FycmF5LFxuICBtb3VudGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZVVwZGF0ZTogbWVyZ2VBc0FycmF5LFxuICB1cGRhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZURlc3Ryb3k6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlVW5tb3VudDogbWVyZ2VBc0FycmF5LFxuICBkZXN0cm95ZWQ6IG1lcmdlQXNBcnJheSxcbiAgdW5tb3VudGVkOiBtZXJnZUFzQXJyYXksXG4gIGFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxuICBkZWFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxuICBlcnJvckNhcHR1cmVkOiBtZXJnZUFzQXJyYXksXG4gIHNlcnZlclByZWZldGNoOiBtZXJnZUFzQXJyYXksXG4gIC8vIGFzc2V0c1xuICBjb21wb25lbnRzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIGRpcmVjdGl2ZXM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgLy8gd2F0Y2hcbiAgd2F0Y2g6IG1lcmdlV2F0Y2hPcHRpb25zLFxuICAvLyBwcm92aWRlIC8gaW5qZWN0XG4gIHByb3ZpZGU6IG1lcmdlRGF0YUZuLFxuICBpbmplY3Q6IG1lcmdlSW5qZWN0XG59O1xuZnVuY3Rpb24gbWVyZ2VEYXRhRm4odG8sIGZyb20pIHtcbiAgaWYgKCFmcm9tKSB7XG4gICAgcmV0dXJuIHRvO1xuICB9XG4gIGlmICghdG8pIHtcbiAgICByZXR1cm4gZnJvbTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkRGF0YUZuKCkge1xuICAgIHJldHVybiAoZXh0ZW5kKShcbiAgICAgIGlzRnVuY3Rpb24odG8pID8gdG8uY2FsbCh0aGlzLCB0aGlzKSA6IHRvLFxuICAgICAgaXNGdW5jdGlvbihmcm9tKSA/IGZyb20uY2FsbCh0aGlzLCB0aGlzKSA6IGZyb21cbiAgICApO1xuICB9O1xufVxuZnVuY3Rpb24gbWVyZ2VJbmplY3QodG8sIGZyb20pIHtcbiAgcmV0dXJuIG1lcmdlT2JqZWN0T3B0aW9ucyhub3JtYWxpemVJbmplY3QodG8pLCBub3JtYWxpemVJbmplY3QoZnJvbSkpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplSW5qZWN0KHJhdykge1xuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc1tyYXdbaV1dID0gcmF3W2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIHJldHVybiByYXc7XG59XG5mdW5jdGlvbiBtZXJnZUFzQXJyYXkodG8sIGZyb20pIHtcbiAgcmV0dXJuIHRvID8gWy4uLm5ldyBTZXQoW10uY29uY2F0KHRvLCBmcm9tKSldIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0T3B0aW9ucyh0bywgZnJvbSkge1xuICByZXR1cm4gdG8gPyBleHRlbmQoLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHRvLCBmcm9tKSA6IGZyb207XG59XG5mdW5jdGlvbiBtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnModG8sIGZyb20pIHtcbiAgaWYgKHRvKSB7XG4gICAgaWYgKGlzQXJyYXkodG8pICYmIGlzQXJyYXkoZnJvbSkpIHtcbiAgICAgIHJldHVybiBbLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLnRvLCAuLi5mcm9tXSldO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5kKFxuICAgICAgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICBub3JtYWxpemVQcm9wc09yRW1pdHModG8pLFxuICAgICAgbm9ybWFsaXplUHJvcHNPckVtaXRzKGZyb20gIT0gbnVsbCA/IGZyb20gOiB7fSlcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmcm9tO1xuICB9XG59XG5mdW5jdGlvbiBtZXJnZVdhdGNoT3B0aW9ucyh0bywgZnJvbSkge1xuICBpZiAoIXRvKSByZXR1cm4gZnJvbTtcbiAgaWYgKCFmcm9tKSByZXR1cm4gdG87XG4gIGNvbnN0IG1lcmdlZCA9IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8pO1xuICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgbWVyZ2VkW2tleV0gPSBtZXJnZUFzQXJyYXkodG9ba2V5XSwgZnJvbVtrZXldKTtcbiAgfVxuICByZXR1cm4gbWVyZ2VkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBcHBDb250ZXh0KCkge1xuICByZXR1cm4ge1xuICAgIGFwcDogbnVsbCxcbiAgICBjb25maWc6IHtcbiAgICAgIGlzTmF0aXZlVGFnOiBOTyxcbiAgICAgIHBlcmZvcm1hbmNlOiBmYWxzZSxcbiAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxuICAgICAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiB7fSxcbiAgICAgIGVycm9ySGFuZGxlcjogdm9pZCAwLFxuICAgICAgd2FybkhhbmRsZXI6IHZvaWQgMCxcbiAgICAgIGNvbXBpbGVyT3B0aW9uczoge31cbiAgICB9LFxuICAgIG1peGluczogW10sXG4gICAgY29tcG9uZW50czoge30sXG4gICAgZGlyZWN0aXZlczoge30sXG4gICAgcHJvdmlkZXM6IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgIG9wdGlvbnNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksXG4gICAgcHJvcHNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksXG4gICAgZW1pdHNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKClcbiAgfTtcbn1cbmxldCB1aWQkMSA9IDA7XG5mdW5jdGlvbiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcHAocm9vdENvbXBvbmVudCwgcm9vdFByb3BzID0gbnVsbCkge1xuICAgIGlmICghaXNGdW5jdGlvbihyb290Q29tcG9uZW50KSkge1xuICAgICAgcm9vdENvbXBvbmVudCA9IGV4dGVuZCh7fSwgcm9vdENvbXBvbmVudCk7XG4gICAgfVxuICAgIGlmIChyb290UHJvcHMgIT0gbnVsbCAmJiAhaXNPYmplY3Qocm9vdFByb3BzKSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYHJvb3QgcHJvcHMgcGFzc2VkIHRvIGFwcC5tb3VudCgpIG11c3QgYmUgYW4gb2JqZWN0LmApO1xuICAgICAgcm9vdFByb3BzID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbiAgICBjb25zdCBpbnN0YWxsZWRQbHVnaW5zID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG4gICAgY29uc3QgcGx1Z2luQ2xlYW51cEZucyA9IFtdO1xuICAgIGxldCBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBhcHAgPSBjb250ZXh0LmFwcCA9IHtcbiAgICAgIF91aWQ6IHVpZCQxKyssXG4gICAgICBfY29tcG9uZW50OiByb290Q29tcG9uZW50LFxuICAgICAgX3Byb3BzOiByb290UHJvcHMsXG4gICAgICBfY29udGFpbmVyOiBudWxsLFxuICAgICAgX2NvbnRleHQ6IGNvbnRleHQsXG4gICAgICBfaW5zdGFuY2U6IG51bGwsXG4gICAgICB2ZXJzaW9uLFxuICAgICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnO1xuICAgICAgfSxcbiAgICAgIHNldCBjb25maWcodikge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBhcHAuY29uZmlnIGNhbm5vdCBiZSByZXBsYWNlZC4gTW9kaWZ5IGluZGl2aWR1YWwgb3B0aW9ucyBpbnN0ZWFkLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlKHBsdWdpbiwgLi4ub3B0aW9ucykge1xuICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH0gZWxzZSBpZiAocGx1Z2luICYmIGlzRnVuY3Rpb24ocGx1Z2luLmluc3RhbGwpKSB7XG4gICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICBwbHVnaW4uaW5zdGFsbChhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocGx1Z2luKSkge1xuICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XG4gICAgICAgICAgcGx1Z2luKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBBIHBsdWdpbiBtdXN0IGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGFuIFwiaW5zdGFsbFwiIGZ1bmN0aW9uLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgbWl4aW4obWl4aW4pIHtcbiAgICAgICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18pIHtcbiAgICAgICAgICBpZiAoIWNvbnRleHQubWl4aW5zLmluY2x1ZGVzKG1peGluKSkge1xuICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XG4gICAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIFwiTWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHBcIiArIChtaXhpbi5uYW1lID8gYDogJHttaXhpbi5uYW1lfWAgOiBcIlwiKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcIk1peGlucyBhcmUgb25seSBhdmFpbGFibGUgaW4gYnVpbGRzIHN1cHBvcnRpbmcgT3B0aW9ucyBBUElcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBjb21wb25lbnQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbnRleHQuY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29udGV4dC5jb21wb25lbnRzW25hbWVdKSB7XG4gICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5jb21wb25lbnRzW25hbWVdID0gY29tcG9uZW50O1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIGRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkaXJlY3RpdmUpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXJlY3RpdmVzW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSkge1xuICAgICAgICAgIHdhcm4kMShgRGlyZWN0aXZlIFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBtb3VudChyb290Q29udGFpbmVyLCBpc0h5ZHJhdGUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIWlzTW91bnRlZCkge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHJvb3RDb250YWluZXIuX192dWVfYXBwX18pIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYFRoZXJlIGlzIGFscmVhZHkgYW4gYXBwIGluc3RhbmNlIG1vdW50ZWQgb24gdGhlIGhvc3QgY29udGFpbmVyLlxuIElmIHlvdSB3YW50IHRvIG1vdW50IGFub3RoZXIgYXBwIG9uIHRoZSBzYW1lIGhvc3QgY29udGFpbmVyLCB5b3UgbmVlZCB0byB1bm1vdW50IHRoZSBwcmV2aW91cyBhcHAgYnkgY2FsbGluZyBcXGBhcHAudW5tb3VudCgpXFxgIGZpcnN0LmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHZub2RlID0gYXBwLl9jZVZOb2RlIHx8IGNyZWF0ZVZOb2RlKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyk7XG4gICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICByZW5kZXIoXG4gICAgICAgICAgICAgICAgY2xvbmVWTm9kZSh2bm9kZSksXG4gICAgICAgICAgICAgICAgcm9vdENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0h5ZHJhdGUgJiYgaHlkcmF0ZSkge1xuICAgICAgICAgICAgaHlkcmF0ZSh2bm9kZSwgcm9vdENvbnRhaW5lcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lciwgbmFtZXNwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XG4gICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKHZub2RlLmNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBBcHAgaGFzIGFscmVhZHkgYmVlbiBtb3VudGVkLlxuSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgaW50byBhIGZhY3RvcnkgZnVuY3Rpb24gYW5kIGNyZWF0ZSBmcmVzaCBhcHAgaW5zdGFuY2VzIGZvciBlYWNoIG1vdW50IC0gZS5nLiBcXGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApXFxgYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblVubW91bnQoY2xlYW51cEZuKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHR5cGVvZiBjbGVhbnVwRm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHBlY3RlZCBmdW5jdGlvbiBhcyBmaXJzdCBhcmd1bWVudCB0byBhcHAub25Vbm1vdW50KCksIGJ1dCBnb3QgJHt0eXBlb2YgY2xlYW51cEZufWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbkNsZWFudXBGbnMucHVzaChjbGVhbnVwRm4pO1xuICAgICAgfSxcbiAgICAgIHVubW91bnQoKSB7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgICAgICAgIHBsdWdpbkNsZWFudXBGbnMsXG4gICAgICAgICAgICBhcHAuX2luc3RhbmNlLFxuICAgICAgICAgICAgMTZcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlbmRlcihudWxsLCBhcHAuX2NvbnRhaW5lcik7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBhcHAuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIGRldnRvb2xzVW5tb3VudEFwcChhcHApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgYXBwLl9jb250YWluZXIuX192dWVfYXBwX187XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5IGluIGNvbnRleHQucHJvdmlkZXMpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQXBwIGFscmVhZHkgcHJvdmlkZXMgcHJvcGVydHkgd2l0aCBrZXkgXCIke1N0cmluZyhrZXkpfVwiLiBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBydW5XaXRoQ29udGV4dChmbikge1xuICAgICAgICBjb25zdCBsYXN0QXBwID0gY3VycmVudEFwcDtcbiAgICAgICAgY3VycmVudEFwcCA9IGFwcDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjdXJyZW50QXBwID0gbGFzdEFwcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGFwcDtcbiAgfTtcbn1cbmxldCBjdXJyZW50QXBwID0gbnVsbDtcblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gIGlmICghY3VycmVudEluc3RhbmNlKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcztcbiAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcbiAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XG4gICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xuICAgIH1cbiAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICBpZiAoaW5zdGFuY2UgfHwgY3VycmVudEFwcCkge1xuICAgIGNvbnN0IHByb3ZpZGVzID0gY3VycmVudEFwcCA/IGN1cnJlbnRBcHAuX2NvbnRleHQucHJvdmlkZXMgOiBpbnN0YW5jZSA/IGluc3RhbmNlLnBhcmVudCA9PSBudWxsID8gaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dCAmJiBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0LnByb3ZpZGVzIDogaW5zdGFuY2UucGFyZW50LnByb3ZpZGVzIDogdm9pZCAwO1xuICAgIGlmIChwcm92aWRlcyAmJiBrZXkgaW4gcHJvdmlkZXMpIHtcbiAgICAgIHJldHVybiBwcm92aWRlc1trZXldO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpID8gZGVmYXVsdFZhbHVlLmNhbGwoaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHkpIDogZGVmYXVsdFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBpbmplY3Rpb24gXCIke1N0cmluZyhrZXkpfVwiIG5vdCBmb3VuZC5gKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShgaW5qZWN0KCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKSBvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMuYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0luamVjdGlvbkNvbnRleHQoKSB7XG4gIHJldHVybiAhIShjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIHx8IGN1cnJlbnRBcHApO1xufVxuXG5jb25zdCBpbnRlcm5hbE9iamVjdFByb3RvID0ge307XG5jb25zdCBjcmVhdGVJbnRlcm5hbE9iamVjdCA9ICgpID0+IE9iamVjdC5jcmVhdGUoaW50ZXJuYWxPYmplY3RQcm90byk7XG5jb25zdCBpc0ludGVybmFsT2JqZWN0ID0gKG9iaikgPT4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IGludGVybmFsT2JqZWN0UHJvdG87XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSID0gZmFsc2UpIHtcbiAgY29uc3QgcHJvcHMgPSB7fTtcbiAgY29uc3QgYXR0cnMgPSBjcmVhdGVJbnRlcm5hbE9iamVjdCgpO1xuICBpbnN0YW5jZS5wcm9wc0RlZmF1bHRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkge1xuICAgIGlmICghKGtleSBpbiBwcm9wcykpIHtcbiAgICAgIHByb3BzW2tleV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgfVxuICBpZiAoaXNTdGF0ZWZ1bCkge1xuICAgIGluc3RhbmNlLnByb3BzID0gaXNTU1IgPyBwcm9wcyA6IHNoYWxsb3dSZWFjdGl2ZShwcm9wcyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFpbnN0YW5jZS50eXBlLnByb3BzKSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IGF0dHJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xuICAgIH1cbiAgfVxuICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xufVxuZnVuY3Rpb24gaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgd2hpbGUgKGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19obXJJZCkgcmV0dXJuIHRydWU7XG4gICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcbiAgY29uc3Qge1xuICAgIHByb3BzLFxuICAgIGF0dHJzLFxuICAgIHZub2RlOiB7IHBhdGNoRmxhZyB9XG4gIH0gPSBpbnN0YW5jZTtcbiAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgaWYgKFxuICAgIC8vIGFsd2F5cyBmb3JjZSBmdWxsIGRpZmYgaW4gZGV2XG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcbiAgICAvLyAtIHZpdGUjODcyIG5vbi1zZmMgY29tcG9uZW50IHVzZWQgYnkgc2ZjIGNvbXBvbmVudFxuICAgICEoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkpICYmIChvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnID4gMCkgJiYgIShwYXRjaEZsYWcgJiAxNilcbiAgKSB7XG4gICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBpbnN0YW5jZS52bm9kZS5keW5hbWljUHJvcHM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgIGlmIChpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgICAgICAgIGNhbWVsaXplZEtleSxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSkge1xuICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGtlYmFiS2V5O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgaWYgKCFyYXdQcm9wcyB8fCAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmIC8vIGl0J3MgcG9zc2libGUgdGhlIG9yaWdpbmFsIHByb3BzIHdhcyBwYXNzZWQgaW4gYXMga2ViYWItY2FzZVxuICAgICAgLy8gYW5kIGNvbnZlcnRlZCB0byBjYW1lbENhc2UgKCM5NTUpXG4gICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIGlmIChyYXdQcmV2UHJvcHMgJiYgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdm9pZCAwIHx8IC8vIGZvciBrZWJhYi1jYXNlXG4gICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdm9pZCAwKSkge1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXR0cnMgIT09IHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgaWYgKCFyYXdQcm9wcyB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmIHRydWUpIHtcbiAgICAgICAgICBkZWxldGUgYXR0cnNba2V5XTtcbiAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcbiAgICB0cmlnZ2VyKGluc3RhbmNlLmF0dHJzLCBcInNldFwiLCBcIlwiKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xuICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICBsZXQgcmF3Q2FzdFZhbHVlcztcbiAgaWYgKHJhd1Byb3BzKSB7XG4gICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgIGxldCBjYW1lbEtleTtcbiAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCBjYW1lbEtleSA9IGNhbWVsaXplKGtleSkpKSB7XG4gICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XG4gICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHJhd0Nhc3RWYWx1ZXMgfHwgKHJhd0Nhc3RWYWx1ZXMgPSB7fSkpW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGF0dHJzKSB8fCB2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChuZWVkQ2FzdEtleXMpIHtcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgY29uc3QgY2FzdFZhbHVlcyA9IHJhd0Nhc3RWYWx1ZXMgfHwgRU1QVFlfT0JKO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENhc3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XG4gICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICBrZXksXG4gICAgICAgIGNhc3RWYWx1ZXNba2V5XSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICFoYXNPd24oY2FzdFZhbHVlcywga2V5KVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhhc0F0dHJzQ2hhbmdlZDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcHJvcHMsIGtleSwgdmFsdWUsIGluc3RhbmNlLCBpc0Fic2VudCkge1xuICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XG4gIGlmIChvcHQgIT0gbnVsbCkge1xuICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNPd24ob3B0LCBcImRlZmF1bHRcIik7XG4gICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XG4gICAgICBpZiAob3B0LnR5cGUgIT09IEZ1bmN0aW9uICYmICFvcHQuc2tpcEZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvcHNEZWZhdWx0cyB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmIChrZXkgaW4gcHJvcHNEZWZhdWx0cykge1xuICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XSA9IGRlZmF1bHRWYWx1ZS5jYWxsKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnN0YW5jZS5jZSkge1xuICAgICAgICBpbnN0YW5jZS5jZS5fc2V0UHJvcChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdFswIC8qIHNob3VsZENhc3QgKi9dKSB7XG4gICAgICBpZiAoaXNBYnNlbnQgJiYgIWhhc0RlZmF1bHQpIHtcbiAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAob3B0WzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dICYmICh2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpKSB7XG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgbWl4aW5Qcm9wc0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IGNhY2hlID0gX19WVUVfT1BUSU9OU19BUElfXyAmJiBhc01peGluID8gbWl4aW5Qcm9wc0NhY2hlIDogYXBwQ29udGV4dC5wcm9wc0NhY2hlO1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGNvbnN0IHJhdyA9IGNvbXAucHJvcHM7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgY29uc3QgbmVlZENhc3RLZXlzID0gW107XG4gIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3MikgPT4ge1xuICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdzIsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHByb3BzKTtcbiAgICAgIGlmIChrZXlzKSBuZWVkQ2FzdEtleXMucHVzaCguLi5rZXlzKTtcbiAgICB9O1xuICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICBleHRlbmRQcm9wcyhjb21wLmV4dGVuZHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgIH1cbiAgfVxuICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgY2FjaGUuc2V0KGNvbXAsIEVNUFRZX0FSUik7XG4gICAgfVxuICAgIHJldHVybiBFTVBUWV9BUlI7XG4gIH1cbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNTdHJpbmcocmF3W2ldKSkge1xuICAgICAgICB3YXJuJDEoYHByb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC5gLCByYXdbaV0pO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gRU1QVFlfT0JKO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChyYXcpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNPYmplY3QocmF3KSkge1xuICAgICAgd2FybiQxKGBpbnZhbGlkIHByb3BzIG9wdGlvbnNgLCByYXcpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgY29uc3Qgb3B0ID0gcmF3W2tleV07XG4gICAgICAgIGNvbnN0IHByb3AgPSBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSA/IHsgdHlwZTogb3B0IH0gOiBleHRlbmQoe30sIG9wdCk7XG4gICAgICAgIGNvbnN0IHByb3BUeXBlID0gcHJvcC50eXBlO1xuICAgICAgICBsZXQgc2hvdWxkQ2FzdCA9IGZhbHNlO1xuICAgICAgICBsZXQgc2hvdWxkQ2FzdFRydWUgPSB0cnVlO1xuICAgICAgICBpZiAoaXNBcnJheShwcm9wVHlwZSkpIHtcbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcHJvcFR5cGUubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcHJvcFR5cGVbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgdHlwZU5hbWUgPSBpc0Z1bmN0aW9uKHR5cGUpICYmIHR5cGUubmFtZTtcbiAgICAgICAgICAgIGlmICh0eXBlTmFtZSA9PT0gXCJCb29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgc2hvdWxkQ2FzdCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlTmFtZSA9PT0gXCJTdHJpbmdcIikge1xuICAgICAgICAgICAgICBzaG91bGRDYXN0VHJ1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaG91bGRDYXN0ID0gaXNGdW5jdGlvbihwcm9wVHlwZSkgJiYgcHJvcFR5cGUubmFtZSA9PT0gXCJCb29sZWFuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gc2hvdWxkQ2FzdDtcbiAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9IHNob3VsZENhc3RUcnVlO1xuICAgICAgICBpZiAoc2hvdWxkQ2FzdCB8fCBoYXNPd24ocHJvcCwgXCJkZWZhdWx0XCIpKSB7XG4gICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2gobm9ybWFsaXplZEtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzID0gW25vcm1hbGl6ZWQsIG5lZWRDYXN0S2V5c107XG4gIGlmIChpc09iamVjdChjb21wKSkge1xuICAgIGNhY2hlLnNldChjb21wLCByZXMpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xuICBpZiAoa2V5WzBdICE9PSBcIiRcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYEludmFsaWQgcHJvcCBuYW1lOiBcIiR7a2V5fVwiIGlzIGEgcmVzZXJ2ZWQgcHJvcGVydHkuYCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0VHlwZShjdG9yKSB7XG4gIGlmIChjdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIFwibnVsbFwiO1xuICB9XG4gIGlmICh0eXBlb2YgY3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGN0b3IubmFtZSB8fCBcIlwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjdG9yID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgbmFtZSA9IGN0b3IuY29uc3RydWN0b3IgJiYgY3Rvci5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIHJldHVybiBuYW1lIHx8IFwiXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcbiAgY29uc3QgcmVzb2x2ZWRWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XG4gIGNvbnN0IGNhbWVsaXplUHJvcHNLZXkgPSBPYmplY3Qua2V5cyhyYXdQcm9wcykubWFwKChrZXkpID0+IGNhbWVsaXplKGtleSkpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgbGV0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICBpZiAob3B0ID09IG51bGwpIGNvbnRpbnVlO1xuICAgIHZhbGlkYXRlUHJvcChcbiAgICAgIGtleSxcbiAgICAgIHJlc29sdmVkVmFsdWVzW2tleV0sXG4gICAgICBvcHQsXG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHJlc29sdmVkVmFsdWVzKSA6IHJlc29sdmVkVmFsdWVzLFxuICAgICAgIWNhbWVsaXplUHJvcHNLZXkuaW5jbHVkZXMoa2V5KVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgcHJvcHMsIGlzQWJzZW50KSB7XG4gIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciwgc2tpcENoZWNrIH0gPSBwcm9wO1xuICBpZiAocmVxdWlyZWQgJiYgaXNBYnNlbnQpIHtcbiAgICB3YXJuJDEoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcmVxdWlyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlICYmICFza2lwQ2hlY2spIHtcbiAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xuICAgIGNvbnN0IHR5cGVzID0gaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgdmFsaWQsIGV4cGVjdGVkVHlwZSB9ID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZXNbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCBcIlwiKTtcbiAgICAgIGlzVmFsaWQgPSB2YWxpZDtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICB3YXJuJDEoZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICh2YWxpZGF0b3IgJiYgIXZhbGlkYXRvcih2YWx1ZSwgcHJvcHMpKSB7XG4gICAgd2FybiQxKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyk7XG4gIH1cbn1cbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBcIlN0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50XCJcbik7XG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XG4gIGxldCB2YWxpZDtcbiAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJudWxsXCIpIHtcbiAgICB2YWxpZCA9IHZhbHVlID09PSBudWxsO1xuICB9IGVsc2UgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghdmFsaWQgJiYgdCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJPYmplY3RcIikge1xuICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJBcnJheVwiKSB7XG4gICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHZhbGlkLFxuICAgIGV4cGVjdGVkVHlwZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBgUHJvcCB0eXBlIFtdIGZvciBwcm9wIFwiJHtuYW1lfVwiIHdvbid0IG1hdGNoIGFueXRoaW5nLiBEaWQgeW91IG1lYW4gdG8gdXNlIHR5cGUgQXJyYXkgaW5zdGVhZD9gO1xuICB9XG4gIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbihcIiB8IFwiKX1gO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xuICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xuICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcbiAgY29uc3QgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJiBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJiAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xuICB9XG4gIG1lc3NhZ2UgKz0gYCwgZ290ICR7cmVjZWl2ZWRUeXBlfSBgO1xuICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IGB3aXRoIHZhbHVlICR7cmVjZWl2ZWRWYWx1ZX0uYDtcbiAgfVxuICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IFwiU3RyaW5nXCIpIHtcbiAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJOdW1iZXJcIikge1xuICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XG4gIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIiwgXCJib29sZWFuXCJdO1xuICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKChlbGVtKSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xufVxuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3Muc29tZSgoZWxlbSkgPT4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSBcImJvb2xlYW5cIik7XG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXlbMF0gPT09IFwiX1wiIHx8IGtleSA9PT0gXCIkc3RhYmxlXCI7XG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZOb2RlKSA6IFtub3JtYWxpemVWTm9kZSh2YWx1ZSldO1xuY29uc3Qgbm9ybWFsaXplU2xvdCA9IChrZXksIHJhd1Nsb3QsIGN0eCkgPT4ge1xuICBpZiAocmF3U2xvdC5fbikge1xuICAgIHJldHVybiByYXdTbG90O1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KCguLi5hcmdzKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY3VycmVudEluc3RhbmNlICYmICghY3R4IHx8IGN0eC5yb290ID09PSBjdXJyZW50SW5zdGFuY2Uucm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVNsb3RWYWx1ZShyYXdTbG90KC4uLmFyZ3MpKTtcbiAgfSwgY3R4KTtcbiAgbm9ybWFsaXplZC5fYyA9IGZhbHNlO1xuICByZXR1cm4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMsIGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IGN0eCA9IHJhd1Nsb3RzLl9jdHg7XG4gIGZvciAoY29uc3Qga2V5IGluIHJhd1Nsb3RzKSB7XG4gICAgaWYgKGlzSW50ZXJuYWxLZXkoa2V5KSkgY29udGludWU7XG4gICAgY29uc3QgdmFsdWUgPSByYXdTbG90c1trZXldO1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgc2xvdHNba2V5XSA9IG5vcm1hbGl6ZVNsb3Qoa2V5LCB2YWx1ZSwgY3R4KTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRydWUpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZSh2YWx1ZSk7XG4gICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBub3JtYWxpemVWTm9kZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNLZWVwQWxpdmUoaW5zdGFuY2Uudm5vZGUpICYmIHRydWUpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBkZWZhdWx0IHNsb3QuIFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUoY2hpbGRyZW4pO1xuICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBhc3NpZ25TbG90cyA9IChzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICBmb3IgKGNvbnN0IGtleSBpbiBjaGlsZHJlbikge1xuICAgIGlmIChvcHRpbWl6ZWQgfHwga2V5ICE9PSBcIl9cIikge1xuICAgICAgc2xvdHNba2V5XSA9IGNoaWxkcmVuW2tleV07XG4gICAgfVxuICB9XG59O1xuY29uc3QgaW5pdFNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGNvbnN0IHNsb3RzID0gaW5zdGFuY2Uuc2xvdHMgPSBjcmVhdGVJbnRlcm5hbE9iamVjdCgpO1xuICBpZiAoaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgMzIpIHtcbiAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICBpZiAodHlwZSkge1xuICAgICAgYXNzaWduU2xvdHMoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgaWYgKG9wdGltaXplZCkge1xuICAgICAgICBkZWYoc2xvdHMsIFwiX1wiLCB0eXBlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gIH1cbn07XG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICBjb25zdCB7IHZub2RlLCBzbG90cyB9ID0gaW5zdGFuY2U7XG4gIGxldCBuZWVkRGVsZXRpb25DaGVjayA9IHRydWU7XG4gIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAzMikge1xuICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICAgIGFzc2lnblNsb3RzKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgICAgdHJpZ2dlcihpbnN0YW5jZSwgXCJzZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICB9IGVsc2UgaWYgKG9wdGltaXplZCAmJiB0eXBlID09PSAxKSB7XG4gICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NpZ25TbG90cyhzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gIWNoaWxkcmVuLiRzdGFibGU7XG4gICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgc2xvdHMpO1xuICAgIH1cbiAgICBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSB7IGRlZmF1bHQ6IDEgfTtcbiAgfVxuICBpZiAobmVlZERlbGV0aW9uQ2hlY2spIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgaWYgKCFpc0ludGVybmFsS2V5KGtleSkgJiYgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgc2xvdHNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmxldCBzdXBwb3J0ZWQ7XG5sZXQgcGVyZjtcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgIHBlcmYubWFyayhgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YCk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNQZXJmU3RhcnQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICBjb25zdCBzdGFydFRhZyA9IGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gO1xuICAgIGNvbnN0IGVuZFRhZyA9IHN0YXJ0VGFnICsgYDplbmRgO1xuICAgIHBlcmYubWFyayhlbmRUYWcpO1xuICAgIHBlcmYubWVhc3VyZShcbiAgICAgIGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gLFxuICAgICAgc3RhcnRUYWcsXG4gICAgICBlbmRUYWdcbiAgICApO1xuICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XG4gICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNQZXJmRW5kKGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICB9XG59XG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgaWYgKHN1cHBvcnRlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gIH0gZWxzZSB7XG4gICAgc3VwcG9ydGVkID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcbiAgY29uc3QgbmVlZFdhcm4gPSBbXTtcbiAgaWYgKHR5cGVvZiBfX1ZVRV9PUFRJT05TX0FQSV9fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfT1BUSU9OU19BUElfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfREVWVE9PTFNfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gPSBmYWxzZTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5sZW5ndGgpIHtcbiAgICBjb25zdCBtdWx0aSA9IG5lZWRXYXJuLmxlbmd0aCA+IDE7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYEZlYXR1cmUgZmxhZyR7bXVsdGkgPyBgc2AgOiBgYH0gJHtuZWVkV2Fybi5qb2luKFwiLCBcIil9ICR7bXVsdGkgPyBgYXJlYCA6IGBpc2B9IG5vdCBleHBsaWNpdGx5IGRlZmluZWQuIFlvdSBhcmUgcnVubmluZyB0aGUgZXNtLWJ1bmRsZXIgYnVpbGQgb2YgVnVlLCB3aGljaCBleHBlY3RzIHRoZXNlIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIHRvIGJlIGdsb2JhbGx5IGluamVjdGVkIHZpYSB0aGUgYnVuZGxlciBjb25maWcgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciB0cmVlLXNoYWtpbmcgaW4gdGhlIHByb2R1Y3Rpb24gYnVuZGxlLlxuXG5Gb3IgbW9yZSBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9saW5rLnZ1ZWpzLm9yZy9mZWF0dXJlLWZsYWdzLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHF1ZXVlUG9zdFJlbmRlckVmZmVjdCA9IHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIDtcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xufVxuZnVuY3Rpb24gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICB7XG4gICAgaW5pdEZlYXR1cmVGbGFncygpO1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IGdldEdsb2JhbFRoaXMoKTtcbiAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBzZXREZXZ0b29sc0hvb2skMSh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXywgdGFyZ2V0KTtcbiAgfVxuICBjb25zdCB7XG4gICAgaW5zZXJ0OiBob3N0SW5zZXJ0LFxuICAgIHJlbW92ZTogaG9zdFJlbW92ZSxcbiAgICBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsXG4gICAgY3JlYXRlRWxlbWVudDogaG9zdENyZWF0ZUVsZW1lbnQsXG4gICAgY3JlYXRlVGV4dDogaG9zdENyZWF0ZVRleHQsXG4gICAgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsXG4gICAgc2V0VGV4dDogaG9zdFNldFRleHQsXG4gICAgc2V0RWxlbWVudFRleHQ6IGhvc3RTZXRFbGVtZW50VGV4dCxcbiAgICBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSxcbiAgICBuZXh0U2libGluZzogaG9zdE5leHRTaWJsaW5nLFxuICAgIHNldFNjb3BlSWQ6IGhvc3RTZXRTY29wZUlkID0gTk9PUCxcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50OiBob3N0SW5zZXJ0U3RhdGljQ29udGVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgbmFtZXNwYWNlID0gdm9pZCAwLCBzbG90U2NvcGVJZHMgPSBudWxsLCBvcHRpbWl6ZWQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcgPyBmYWxzZSA6ICEhbjIuZHluYW1pY0NoaWxkcmVuKSA9PiB7XG4gICAgaWYgKG4xID09PSBuMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICBhbmNob3IgPSBnZXROZXh0SG9zdE5vZGUobjEpO1xuICAgICAgdW5tb3VudChuMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICBuMSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBUZXh0OlxuICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRpYzpcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICBtb3VudFN0YXRpY05vZGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwYXRjaFN0YXRpY05vZGUobjEsIG4yLCBjb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICBwcm9jZXNzRnJhZ21lbnQoXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSkge1xuICAgICAgICAgIHByb2Nlc3NFbGVtZW50KFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgICAgICB0eXBlLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICAgIHR5cGUucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgVk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudFN1c3BlbnNlLCBuMiB8fCBuMSwgIW4yKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NUZXh0ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChcbiAgICAgICAgbjIuZWwgPSBob3N0Q3JlYXRlVGV4dChuMi5jaGlsZHJlbiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tbWVudE5vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8IFwiXCIpLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50U3RhdGljTm9kZSA9IChuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSkgPT4ge1xuICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgbjIuY2hpbGRyZW4sXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBuMi5lbCxcbiAgICAgIG4yLmFuY2hvclxuICAgICk7XG4gIH07XG4gIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcbiAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgICBuMi5jaGlsZHJlbixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgZWwgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0UmVtb3ZlKGFuY2hvcik7XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBpZiAobjIudHlwZSA9PT0gXCJzdmdcIikge1xuICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICB9IGVsc2UgaWYgKG4yLnR5cGUgPT09IFwibWF0aFwiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRFbGVtZW50KFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoRWxlbWVudChcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRFbGVtZW50ID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBlbDtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGNvbnN0IHsgcHJvcHMsIHNoYXBlRmxhZywgdHJhbnNpdGlvbiwgZGlycyB9ID0gdm5vZGU7XG4gICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KFxuICAgICAgdm5vZGUudHlwZSxcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHByb3BzICYmIHByb3BzLmlzLFxuICAgICAgcHJvcHNcbiAgICApO1xuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcbiAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgZWwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSh2bm9kZSwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiY3JlYXRlZFwiKTtcbiAgICB9XG4gICAgc2V0U2NvcGVJZChlbCwgdm5vZGUsIHZub2RlLnNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KTtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChrZXkgIT09IFwidmFsdWVcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSwgbmFtZXNwYWNlLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIHByb3BzKSB7XG4gICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwidmFsdWVcIiwgbnVsbCwgcHJvcHMudmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGVIb29rID0gcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRlZihlbCwgXCJfX3Zub2RlXCIsIHZub2RlLCB0cnVlKTtcbiAgICAgIGRlZihlbCwgXCJfX3Z1ZVBhcmVudENvbXBvbmVudFwiLCBwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZU1vdW50XCIpO1xuICAgIH1cbiAgICBjb25zdCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9IG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKTtcbiAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcbiAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgIH1cbiAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHwgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgfHwgZGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwibW91bnRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICAgIGlmIChzY29wZUlkKSB7XG4gICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2NvcGVJZCk7XG4gICAgfVxuICAgIGlmIChzbG90U2NvcGVJZHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdFNjb3BlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzbG90U2NvcGVJZHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc3ViVHJlZS5wYXRjaEZsYWcgPiAwICYmIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgICAgICBzdWJUcmVlID0gZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xuICAgICAgfVxuICAgICAgaWYgKHZub2RlID09PSBzdWJUcmVlIHx8IGlzU3VzcGVuc2Uoc3ViVHJlZS50eXBlKSAmJiAoc3ViVHJlZS5zc0NvbnRlbnQgPT09IHZub2RlIHx8IHN1YlRyZWUuc3NGYWxsYmFjayA9PT0gdm5vZGUpKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFZOb2RlID0gcGFyZW50Q29tcG9uZW50LnZub2RlO1xuICAgICAgICBzZXRTY29wZUlkKFxuICAgICAgICAgIGVsLFxuICAgICAgICAgIHBhcmVudFZOb2RlLFxuICAgICAgICAgIHBhcmVudFZOb2RlLnNjb3BlSWQsXG4gICAgICAgICAgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudC5wYXJlbnRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBzdGFydCA9IDApID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGNoaWxkcmVuW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBjaGlsZCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZWwgPSBuMi5lbCA9IG4xLmVsO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZWwuX192bm9kZSA9IG4yO1xuICAgIH1cbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XG4gICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2O1xuICAgIGNvbnN0IG9sZFByb3BzID0gbjEucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGNvbnN0IG5ld1Byb3BzID0gbjIucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCBmYWxzZSk7XG4gICAgaWYgKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVXBkYXRlXCIpO1xuICAgIH1cbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChvbGRQcm9wcy5pbm5lckhUTUwgJiYgbmV3UHJvcHMuaW5uZXJIVE1MID09IG51bGwgfHwgb2xkUHJvcHMudGV4dENvbnRlbnQgJiYgbmV3UHJvcHMudGV4dENvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCBcIlwiKTtcbiAgICB9XG4gICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKFxuICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgZWwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZShuMiwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICApO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBlbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKG4yLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2KSB7XG4gICAgICAgIHBhdGNoUHJvcHMoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIpIHtcbiAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XG4gICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcImNsYXNzXCIsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBuYW1lc3BhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgNCkge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwic3R5bGVcIiwgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IG4yLmR5bmFtaWNQcm9wcztcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHwga2V5ID09PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMSkge1xuICAgICAgICBpZiAobjEuY2hpbGRyZW4gIT09IG4yLmNoaWxkcmVuKSB7XG4gICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHBhdGNoUHJvcHMoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVVcGRhdGVkKSB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwidXBkYXRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoQmxvY2tDaGlsZHJlbiA9IChvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4sIGZhbGxiYWNrQ29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG4gICAgICBjb25zdCBuZXdWTm9kZSA9IG5ld0NoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgY29udGFpbmVyID0gKFxuICAgICAgICAvLyBvbGRWTm9kZSBtYXkgYmUgYW4gZXJyb3JlZCBhc3luYyBzZXR1cCgpIGNvbXBvbmVudCBpbnNpZGUgU3VzcGVuc2VcbiAgICAgICAgLy8gd2hpY2ggd2lsbCBub3QgaGF2ZSBhIG1vdW50ZWQgZWxlbWVudFxuICAgICAgICBvbGRWTm9kZS5lbCAmJiAvLyAtIEluIHRoZSBjYXNlIG9mIGEgRnJhZ21lbnQsIHdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgYWN0dWFsIHBhcmVudFxuICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cbiAgICAgICAgKG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8IC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIHdoaWNoIGFsc28gcmVxdWlyZXMgdGhlIGNvcnJlY3QgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cbiAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgKDYgfCA2NCkpID8gaG9zdFBhcmVudE5vZGUob2xkVk5vZGUuZWwpIDogKFxuICAgICAgICAgIC8vIEluIG90aGVyIGNhc2VzLCB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBub3QgYWN0dWFsbHkgdXNlZCBzbyB3ZVxuICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cbiAgICAgICAgICBmYWxsYmFja0NvbnRhaW5lclxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG9sZFZOb2RlLFxuICAgICAgICBuZXdWTm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICBpZiAob2xkUHJvcHMgIT09IEVNUFRZX09CSikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIG9sZFByb3BzW2tleV0sXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgIGlmIChuZXh0ICE9PSBwcmV2ICYmIGtleSAhPT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBvbGRQcm9wcy52YWx1ZSwgbmV3UHJvcHMudmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzRnJhZ21lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGZyYWdtZW50U3RhcnRBbmNob3IgPSBuMi5lbCA9IG4xID8gbjEuZWwgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBjb25zdCBmcmFnbWVudEVuZEFuY2hvciA9IG4yLmFuY2hvciA9IG4xID8gbjEuYW5jaG9yIDogaG9zdENyZWF0ZVRleHQoXCJcIik7XG4gICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4sIHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IG4yO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIC8vICM1NTIzIGRldiByb290IGZyYWdtZW50IG1heSBpbmhlcml0IGRpcmVjdGl2ZXNcbiAgICAoaXNIbXJVcGRhdGluZyB8fCBwYXRjaEZsYWcgJiAyMDQ4KSkge1xuICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHMgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKSA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChmcmFnbWVudFN0YXJ0QW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAvLyAjMTAwMDdcbiAgICAgICAgLy8gc3VjaCBmcmFnbWVudCBsaWtlIGA8PjwvPmAgd2lsbCBiZSBjb21waWxlZCBpbnRvXG4gICAgICAgIC8vIGEgZnJhZ21lbnQgd2hpY2ggZG9lc24ndCBoYXZlIGEgY2hpbGRyZW4uXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSBmYWxsYmFjayB0byBhbiBlbXB0eSBhcnJheVxuICAgICAgICBuMi5jaGlsZHJlbiB8fCBbXSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhdGNoRmxhZyA+IDAgJiYgcGF0Y2hGbGFnICYgNjQgJiYgZHluYW1pY0NoaWxkcmVuICYmIC8vICMyNzE1IHRoZSBwcmV2aW91cyBmcmFnbWVudCBjb3VsZCd2ZSBiZWVuIGEgQkFJTGVkIG9uZSBhcyBhIHJlc3VsdFxuICAgICAgLy8gb2YgcmVuZGVyU2xvdCgpIHdpdGggbm8gdmFsaWQgY2hpbGRyZW5cbiAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgLy8gIzIwODAgaWYgdGhlIHN0YWJsZSBmcmFnbWVudCBoYXMgYSBrZXksIGl0J3MgYSA8dGVtcGxhdGUgdi1mb3I+IHRoYXQgbWF5XG4gICAgICAgICAgLy8gIGdldCBtb3ZlZCBhcm91bmQuIE1ha2Ugc3VyZSBhbGwgcm9vdCBsZXZlbCB2bm9kZXMgaW5oZXJpdCBlbC5cbiAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcbiAgICAgICAgICAvLyBhcyB0aGUgY29tcG9uZW50IGlzIGJlaW5nIG1vdmVkLlxuICAgICAgICAgIG4yLmtleSAhPSBudWxsIHx8IHBhcmVudENvbXBvbmVudCAmJiBuMiA9PT0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAvKiBzaGFsbG93ICovXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgZnJhZ21lbnRFbmRBbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tcG9uZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBuMi5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGlmIChuMi5zaGFwZUZsYWcgJiA1MTIpIHtcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5hY3RpdmF0ZShcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vdW50Q29tcG9uZW50KFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50Q29tcG9uZW50ID0gKGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSAoaW5pdGlhbFZOb2RlLmNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKFxuICAgICAgaW5pdGlhbFZOb2RlLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICApKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgIHJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChpbml0aWFsVk5vZGUpO1xuICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcbiAgICB9XG4gICAgaWYgKGlzS2VlcEFsaXZlKGluaXRpYWxWTm9kZSkpIHtcbiAgICAgIGluc3RhbmNlLmN0eC5yZW5kZXJlciA9IGludGVybmFscztcbiAgICB9XG4gICAge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UsIGZhbHNlLCBvcHRpbWl6ZWQpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSBpbml0aWFsVk5vZGUuZWwgPSBudWxsO1xuICAgICAgcGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0LCBvcHRpbWl6ZWQpO1xuICAgICAgaWYgKCFpbml0aWFsVk5vZGUuZWwpIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBpbnN0YW5jZS5zdWJUcmVlID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShudWxsLCBwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXR1cFJlbmRlckVmZmVjdChcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIGluaXRpYWxWTm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbjIuY29tcG9uZW50ID0gbjEuY29tcG9uZW50O1xuICAgIGlmIChzaG91bGRVcGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpKSB7XG4gICAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXAgJiYgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobjIpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbjIsIG9wdGltaXplZCk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbjI7XG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldHVwUmVuZGVyRWZmZWN0ID0gKGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBjb21wb25lbnRVcGRhdGVGbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW5zdGFuY2UuaXNNb3VudGVkKSB7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGNvbnN0IHsgZWwsIHByb3BzIH0gPSBpbml0aWFsVk5vZGU7XG4gICAgICAgIGNvbnN0IHsgYm0sIG0sIHBhcmVudCwgcm9vdCwgdHlwZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IGlzQXN5bmNXcmFwcGVyVk5vZGUgPSBpc0FzeW5jV3JhcHBlcihpbml0aWFsVk5vZGUpO1xuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIGlmIChibSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIGluaXRpYWxWTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChlbCAmJiBoeWRyYXRlTm9kZSkge1xuICAgICAgICAgIGNvbnN0IGh5ZHJhdGVTdWJUcmVlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoeWRyYXRlTm9kZShcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXJWTm9kZSAmJiB0eXBlLl9fYXN5bmNIeWRyYXRlKSB7XG4gICAgICAgICAgICB0eXBlLl9fYXN5bmNIeWRyYXRlKFxuICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoeWRyYXRlU3ViVHJlZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocm9vdC5jZSkge1xuICAgICAgICAgICAgcm9vdC5jZS5faW5qZWN0Q2hpbGRTdHlsZSh0eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzdWJUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzdWJUcmVlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KG0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSkge1xuICAgICAgICAgIGNvbnN0IHNjb3BlZEluaXRpYWxWTm9kZSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgICAoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIHNjb3BlZEluaXRpYWxWTm9kZSksXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgfHwgcGFyZW50ICYmIGlzQXN5bmNXcmFwcGVyKHBhcmVudC52bm9kZSkgJiYgcGFyZW50LnZub2RlLnNoYXBlRmxhZyAmIDI1Nikge1xuICAgICAgICAgIGluc3RhbmNlLmEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGluc3RhbmNlLmEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpbml0aWFsVk5vZGUgPSBjb250YWluZXIgPSBhbmNob3IgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHsgbmV4dCwgYnUsIHUsIHBhcmVudCwgdm5vZGUgfSA9IGluc3RhbmNlO1xuICAgICAgICB7XG4gICAgICAgICAgY29uc3Qgbm9uSHlkcmF0ZWRBc3luY1Jvb3QgPSBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgaWYgKG5vbkh5ZHJhdGVkQXN5bmNSb290KSB7XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vbkh5ZHJhdGVkQXN5bmNSb290LmFzeW5jRGVwLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50VXBkYXRlRm4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvcmlnaW5OZXh0ID0gbmV4dDtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobmV4dCB8fCBpbnN0YW5jZS52bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dCA9IHZub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2VHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIHByZXZUcmVlLFxuICAgICAgICAgIG5leHRUcmVlLFxuICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxuICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3IgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgZnJhZ21lbnRcbiAgICAgICAgICBnZXROZXh0SG9zdE5vZGUocHJldlRyZWUpLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICB9XG4gICAgICAgIG5leHQuZWwgPSBuZXh0VHJlZS5lbDtcbiAgICAgICAgaWYgKG9yaWdpbk5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIG5leHRUcmVlLmVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgICAgICAgICgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpbnN0YW5jZS5zY29wZS5vbigpO1xuICAgIGNvbnN0IGVmZmVjdCA9IGluc3RhbmNlLmVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChjb21wb25lbnRVcGRhdGVGbik7XG4gICAgaW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gICAgY29uc3QgdXBkYXRlID0gaW5zdGFuY2UudXBkYXRlID0gZWZmZWN0LnJ1bi5iaW5kKGVmZmVjdCk7XG4gICAgY29uc3Qgam9iID0gaW5zdGFuY2Uuam9iID0gZWZmZWN0LnJ1bklmRGlydHkuYmluZChlZmZlY3QpO1xuICAgIGpvYi5pID0gaW5zdGFuY2U7XG4gICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgIGVmZmVjdC5zY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZUpvYihqb2IpO1xuICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBlZmZlY3Qub25UcmFjayA9IGluc3RhbmNlLnJ0YyA/IChlKSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGMsIGUpIDogdm9pZCAwO1xuICAgICAgZWZmZWN0Lm9uVHJpZ2dlciA9IGluc3RhbmNlLnJ0ZyA/IChlKSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGcsIGUpIDogdm9pZCAwO1xuICAgIH1cbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyID0gKGluc3RhbmNlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkgPT4ge1xuICAgIG5leHRWTm9kZS5jb21wb25lbnQgPSBpbnN0YW5jZTtcbiAgICBjb25zdCBwcmV2UHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICBpbnN0YW5jZS52bm9kZSA9IG5leHRWTm9kZTtcbiAgICBpbnN0YW5jZS5uZXh0ID0gbnVsbDtcbiAgICB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgbmV4dFZOb2RlLnByb3BzLCBwcmV2UHJvcHMsIG9wdGltaXplZCk7XG4gICAgdXBkYXRlU2xvdHMoaW5zdGFuY2UsIG5leHRWTm9kZS5jaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSk7XG4gICAgcmVzZXRUcmFja2luZygpO1xuICB9O1xuICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGMxID0gbjEgJiYgbjEuY2hpbGRyZW47XG4gICAgY29uc3QgcHJldlNoYXBlRmxhZyA9IG4xID8gbjEuc2hhcGVGbGFnIDogMDtcbiAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xuICAgIGNvbnN0IHsgcGF0Y2hGbGFnLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTI4KSB7XG4gICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICBjMSxcbiAgICAgICAgICBjMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDI1Nikge1xuICAgICAgICBwYXRjaFVua2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICBjMSxcbiAgICAgICAgICBjMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBpZiAoYzIgIT09IGMxKSB7XG4gICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIGMyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNikge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgICBjMSxcbiAgICAgICAgICAgIGMyLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgOCkge1xuICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hVbmtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xuICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xuICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcbiAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XG4gICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgYzFbaV0sXG4gICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XG4gICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgIGMxLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICB0cnVlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgY29tbW9uTGVuZ3RoXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICBjMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIGNvbW1vbkxlbmd0aFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoS2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGwyID0gYzIubGVuZ3RoO1xuICAgIGxldCBlMSA9IGMxLmxlbmd0aCAtIDE7XG4gICAgbGV0IGUyID0gbDIgLSAxO1xuICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgIGNvbnN0IG4xID0gYzFbaV07XG4gICAgICBjb25zdCBuMiA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xuICAgICAgY29uc3QgbjIgPSBjMltlMl0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltlMl0pIDogbm9ybWFsaXplVk5vZGUoYzJbZTJdKTtcbiAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZTEtLTtcbiAgICAgIGUyLS07XG4gICAgfVxuICAgIGlmIChpID4gZTEpIHtcbiAgICAgIGlmIChpIDw9IGUyKSB7XG4gICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRQb3MgPCBsMiA/IGMyW25leHRQb3NdLmVsIDogcGFyZW50QW5jaG9yO1xuICAgICAgICB3aGlsZSAoaSA8PSBlMikge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaSA+IGUyKSB7XG4gICAgICB3aGlsZSAoaSA8PSBlMSkge1xuICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzMSA9IGk7XG4gICAgICBjb25zdCBzMiA9IGk7XG4gICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGZvciAoaSA9IHMyOyBpIDw9IGUyOyBpKyspIHtcbiAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgRHVwbGljYXRlIGtleXMgZm91bmQgZHVyaW5nIHVwZGF0ZTpgLFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuZXh0Q2hpbGQua2V5KSxcbiAgICAgICAgICAgICAgYE1ha2Ugc3VyZSBrZXlzIGFyZSB1bmlxdWUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5VG9OZXdJbmRleE1hcC5zZXQobmV4dENoaWxkLmtleSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBqO1xuICAgICAgbGV0IHBhdGNoZWQgPSAwO1xuICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcbiAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xuICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xuICAgICAgY29uc3QgbmV3SW5kZXhUb09sZEluZGV4TWFwID0gbmV3IEFycmF5KHRvQmVQYXRjaGVkKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKSBuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPSAwO1xuICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xuICAgICAgICBjb25zdCBwcmV2Q2hpbGQgPSBjMVtpXTtcbiAgICAgICAgaWYgKHBhdGNoZWQgPj0gdG9CZVBhdGNoZWQpIHtcbiAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld0luZGV4O1xuICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XG4gICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ogLSBzMl0gPT09IDAgJiYgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XG4gICAgICAgICAgICAgIG5ld0luZGV4ID0gajtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdJbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtuZXdJbmRleCAtIHMyXSA9IGkgKyAxO1xuICAgICAgICAgIGlmIChuZXdJbmRleCA+PSBtYXhOZXdJbmRleFNvRmFyKSB7XG4gICAgICAgICAgICBtYXhOZXdJbmRleFNvRmFyID0gbmV3SW5kZXg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBwcmV2Q2hpbGQsXG4gICAgICAgICAgICBjMltuZXdJbmRleF0sXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHBhdGNoZWQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZCA/IGdldFNlcXVlbmNlKG5ld0luZGV4VG9PbGRJbmRleE1hcCkgOiBFTVBUWV9BUlI7XG4gICAgICBqID0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IHRvQmVQYXRjaGVkIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xuICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltuZXh0SW5kZXhdO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0SW5kZXggKyAxIDwgbDIgPyBjMltuZXh0SW5kZXggKyAxXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb3ZlZCkge1xuICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZVtqXSkge1xuICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcbiAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgIHR5cGUubW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGludGVybmFscyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgfVxuICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgbW92ZVN0YXRpY05vZGUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmVlZFRyYW5zaXRpb24yID0gbW92ZVR5cGUgIT09IDIgJiYgc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uO1xuICAgIGlmIChuZWVkVHJhbnNpdGlvbjIpIHtcbiAgICAgIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gdHJhbnNpdGlvbi5lbnRlcihlbCksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUsIGFmdGVyTGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHJlbW92ZTIgPSAoKSA9PiBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICBsZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlMigpO1xuICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgICAgZGVsYXlMZWF2ZShlbCwgcmVtb3ZlMiwgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50ID0gKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIHJlZixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZGlycyxcbiAgICAgIGNhY2hlSW5kZXhcbiAgICB9ID0gdm5vZGU7XG4gICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChjYWNoZUluZGV4ICE9IG51bGwpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC5yZW5kZXJDYWNoZVtjYWNoZUluZGV4XSA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDI1Nikge1xuICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5kZWFjdGl2YXRlKHZub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgJiYgZGlycztcbiAgICBjb25zdCBzaG91bGRJbnZva2VWbm9kZUhvb2sgPSAhaXNBc3luY1dyYXBwZXIodm5vZGUpO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZVVubW91bnQpKSB7XG4gICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIHVubW91bnRDb21wb25lbnQodm5vZGUuY29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZEludm9rZURpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZVVubW91bnRcIik7XG4gICAgICB9XG4gICAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUoXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzUxNTRcbiAgICAgIC8vIHdoZW4gdi1vbmNlIGlzIHVzZWQgaW5zaWRlIGEgYmxvY2ssIHNldEJsb2NrVHJhY2tpbmcoLTEpIG1hcmtzIHRoZVxuICAgICAgLy8gcGFyZW50IGJsb2NrIHdpdGggaGFzT25jZTogdHJ1ZVxuICAgICAgLy8gc28gdGhhdCBpdCBkb2Vzbid0IHRha2UgdGhlIGZhc3QgcGF0aCBkdXJpbmcgdW5tb3VudCAtIG90aGVyd2lzZVxuICAgICAgLy8gY29tcG9uZW50cyBuZXN0ZWQgaW4gdi1vbmNlIGFyZSBuZXZlciB1bm1vdW50ZWQuXG4gICAgICAhZHluYW1pY0NoaWxkcmVuLmhhc09uY2UgJiYgLy8gIzExNTM6IGZhc3QgcGF0aCBzaG91bGQgbm90IGJlIHRha2VuIGZvciBub24tc3RhYmxlICh2LWZvcikgZnJhZ21lbnRzXG4gICAgICAodHlwZSAhPT0gRnJhZ21lbnQgfHwgcGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCkpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBGcmFnbWVudCAmJiBwYXRjaEZsYWcgJiAoMTI4IHwgMjU2KSB8fCAhb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBpZiAoZG9SZW1vdmUpIHtcbiAgICAgICAgcmVtb3ZlKHZub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZVVubW91bnRlZCkgfHwgc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJ1bm1vdW50ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmUgPSAodm5vZGUpID0+IHtcbiAgICBjb25zdCB7IHR5cGUsIGVsLCBhbmNob3IsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUucGF0Y2hGbGFnID4gMCAmJiB2bm9kZS5wYXRjaEZsYWcgJiAyMDQ4ICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoY2hpbGQuZWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmUoY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVGcmFnbWVudChlbCwgYW5jaG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBlcmZvcm1SZW1vdmUgPSAoKSA9PiB7XG4gICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5hZnRlckxlYXZlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xuICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcbiAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVyZm9ybVJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlRnJhZ21lbnQgPSAoY3VyLCBlbmQpID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoY3VyKTtcbiAgICAgIGhvc3RSZW1vdmUoY3VyKTtcbiAgICAgIGN1ciA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RSZW1vdmUoZW5kKTtcbiAgfTtcbiAgY29uc3QgdW5tb3VudENvbXBvbmVudCA9IChpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICB9XG4gICAgY29uc3QgeyBidW0sIHNjb3BlLCBqb2IsIHN1YlRyZWUsIHVtLCBtLCBhIH0gPSBpbnN0YW5jZTtcbiAgICBpbnZhbGlkYXRlTW91bnQobSk7XG4gICAgaW52YWxpZGF0ZU1vdW50KGEpO1xuICAgIGlmIChidW0pIHtcbiAgICAgIGludm9rZUFycmF5Rm5zKGJ1bSk7XG4gICAgfVxuICAgIHNjb3BlLnN0b3AoKTtcbiAgICBpZiAoam9iKSB7XG4gICAgICBqb2IuZmxhZ3MgfD0gODtcbiAgICAgIHVubW91bnQoc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfVxuICAgIGlmICh1bSkge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICBpbnN0YW5jZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFwYXJlbnRTdXNwZW5zZS5pc1VubW91bnRlZCAmJiBpbnN0YW5jZS5hc3luY0RlcCAmJiAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCAmJiBpbnN0YW5jZS5zdXNwZW5zZUlkID09PSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwKSB7XG4gICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdW5tb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSwgc3RhcnQgPSAwKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVubW91bnQoY2hpbGRyZW5baV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gKHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIHJldHVybiBnZXROZXh0SG9zdE5vZGUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUpO1xuICAgIH1cbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xuICAgIH1cbiAgICBjb25zdCBlbCA9IGhvc3ROZXh0U2libGluZyh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpO1xuICAgIGNvbnN0IHRlbGVwb3J0RW5kID0gZWwgJiYgZWxbVGVsZXBvcnRFbmRLZXldO1xuICAgIHJldHVybiB0ZWxlcG9ydEVuZCA/IGhvc3ROZXh0U2libGluZyh0ZWxlcG9ydEVuZCkgOiBlbDtcbiAgfTtcbiAgbGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgY29uc3QgcmVuZGVyID0gKHZub2RlLCBjb250YWluZXIsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmICh2bm9kZSA9PSBudWxsKSB7XG4gICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xuICAgICAgICB1bm1vdW50KGNvbnRhaW5lci5fdm5vZGUsIG51bGwsIG51bGwsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSB8fCBudWxsLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBuYW1lc3BhY2VcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xuICAgICAgZmx1c2hQcmVGbHVzaENicygpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGludGVybmFscyA9IHtcbiAgICBwOiBwYXRjaCxcbiAgICB1bTogdW5tb3VudCxcbiAgICBtOiBtb3ZlLFxuICAgIHI6IHJlbW92ZSxcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxuICAgIG86IG9wdGlvbnNcbiAgfTtcbiAgbGV0IGh5ZHJhdGU7XG4gIGxldCBoeWRyYXRlTm9kZTtcbiAgaWYgKGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICAgIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV0gPSBjcmVhdGVIeWRyYXRpb25GbnMoXG4gICAgICBpbnRlcm5hbHNcbiAgICApO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVuZGVyLFxuICAgIGh5ZHJhdGUsXG4gICAgY3JlYXRlQXBwOiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKVxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKHsgdHlwZSwgcHJvcHMgfSwgY3VycmVudE5hbWVzcGFjZSkge1xuICByZXR1cm4gY3VycmVudE5hbWVzcGFjZSA9PT0gXCJzdmdcIiAmJiB0eXBlID09PSBcImZvcmVpZ25PYmplY3RcIiB8fCBjdXJyZW50TmFtZXNwYWNlID09PSBcIm1hdGhtbFwiICYmIHR5cGUgPT09IFwiYW5ub3RhdGlvbi14bWxcIiAmJiBwcm9wcyAmJiBwcm9wcy5lbmNvZGluZyAmJiBwcm9wcy5lbmNvZGluZy5pbmNsdWRlcyhcImh0bWxcIikgPyB2b2lkIDAgOiBjdXJyZW50TmFtZXNwYWNlO1xufVxuZnVuY3Rpb24gdG9nZ2xlUmVjdXJzZSh7IGVmZmVjdCwgam9iIH0sIGFsbG93ZWQpIHtcbiAgaWYgKGFsbG93ZWQpIHtcbiAgICBlZmZlY3QuZmxhZ3MgfD0gMzI7XG4gICAgam9iLmZsYWdzIHw9IDQ7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0LmZsYWdzICY9IH4zMjtcbiAgICBqb2IuZmxhZ3MgJj0gfjQ7XG4gIH1cbn1cbmZ1bmN0aW9uIG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKSB7XG4gIHJldHVybiAoIXBhcmVudFN1c3BlbnNlIHx8IHBhcmVudFN1c3BlbnNlICYmICFwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcbiAgY29uc3QgY2gxID0gbjEuY2hpbGRyZW47XG4gIGNvbnN0IGNoMiA9IG4yLmNoaWxkcmVuO1xuICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjMSA9IGNoMVtpXTtcbiAgICAgIGxldCBjMiA9IGNoMltpXTtcbiAgICAgIGlmIChjMi5zaGFwZUZsYWcgJiAxICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGMyLnBhdGNoRmxhZyA8PSAwIHx8IGMyLnBhdGNoRmxhZyA9PT0gMzIpIHtcbiAgICAgICAgICBjMiA9IGNoMltpXSA9IGNsb25lSWZNb3VudGVkKGNoMltpXSk7XG4gICAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgYzIucGF0Y2hGbGFnICE9PSAtMilcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKGMxLCBjMik7XG4gICAgICB9XG4gICAgICBpZiAoYzIudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcbiAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xuICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XG4gIGNvbnN0IHJlc3VsdCA9IFswXTtcbiAgbGV0IGksIGosIHUsIHYsIGM7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XG4gICAgaWYgKGFyckkgIT09IDApIHtcbiAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcbiAgICAgICAgcFtpXSA9IGo7XG4gICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHUgPSAwO1xuICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgd2hpbGUgKHUgPCB2KSB7XG4gICAgICAgIGMgPSB1ICsgdiA+PiAxO1xuICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XG4gICAgICAgICAgdSA9IGMgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHYgPSBjO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XG4gICAgICAgIGlmICh1ID4gMCkge1xuICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFt1XSA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHUgPSByZXN1bHQubGVuZ3RoO1xuICB2ID0gcmVzdWx0W3UgLSAxXTtcbiAgd2hpbGUgKHUtLSA+IDApIHtcbiAgICByZXN1bHRbdV0gPSB2O1xuICAgIHYgPSBwW3ZdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSkge1xuICBjb25zdCBzdWJDb21wb25lbnQgPSBpbnN0YW5jZS5zdWJUcmVlLmNvbXBvbmVudDtcbiAgaWYgKHN1YkNvbXBvbmVudCkge1xuICAgIGlmIChzdWJDb21wb25lbnQuYXN5bmNEZXAgJiYgIXN1YkNvbXBvbmVudC5hc3luY1Jlc29sdmVkKSB7XG4gICAgICByZXR1cm4gc3ViQ29tcG9uZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3Qoc3ViQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGludmFsaWRhdGVNb3VudChob29rcykge1xuICBpZiAoaG9va3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKVxuICAgICAgaG9va3NbaV0uZmxhZ3MgfD0gODtcbiAgfVxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sLmZvcihcInYtc2N4XCIpO1xuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcbiAge1xuICAgIGNvbnN0IGN0eCA9IGluamVjdChzc3JDb250ZXh0S2V5KTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIHVzZVNTUkNvbnRleHQoKSBjb25kaXRpb25hbGx5IGluIHRoZSBzZXJ2ZXIgYnVpbGQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGN0eDtcbiAgfVxufTtcblxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiB3YXRjaFBvc3RFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwicG9zdFwiIH0pIDogeyBmbHVzaDogXCJwb3N0XCIgfVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2hTeW5jRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChcbiAgICBlZmZlY3QsXG4gICAgbnVsbCxcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGZsdXNoOiBcInN5bmNcIiB9KSA6IHsgZmx1c2g6IFwic3luY1wiIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYFxcYHdhdGNoKGZuLCBvcHRpb25zPylcXGAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBVc2UgXFxgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KVxcYCBpbnN0ZWFkLiBcXGB3YXRjaFxcYCBub3cgb25seSBzdXBwb3J0cyBcXGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IHsgaW1tZWRpYXRlLCBkZWVwLCBmbHVzaCwgb25jZSB9ID0gb3B0aW9ucztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWNiKSB7XG4gICAgaWYgKGltbWVkaWF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiaW1tZWRpYXRlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRlZXAgIT09IHZvaWQgMCkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgd2F0Y2goKSBcImRlZXBcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob25jZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwib25jZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGJhc2VXYXRjaE9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgYmFzZVdhdGNoT3B0aW9ucy5vbldhcm4gPSB3YXJuJDE7XG4gIGNvbnN0IHJ1bnNJbW1lZGlhdGVseSA9IGNiICYmIGltbWVkaWF0ZSB8fCAhY2IgJiYgZmx1c2ggIT09IFwicG9zdFwiO1xuICBsZXQgc3NyQ2xlYW51cDtcbiAgaWYgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgIGlmIChmbHVzaCA9PT0gXCJzeW5jXCIpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHVzZVNTUkNvbnRleHQoKTtcbiAgICAgIHNzckNsZWFudXAgPSBjdHguX193YXRjaGVySGFuZGxlcyB8fCAoY3R4Ll9fd2F0Y2hlckhhbmRsZXMgPSBbXSk7XG4gICAgfSBlbHNlIGlmICghcnVuc0ltbWVkaWF0ZWx5KSB7XG4gICAgICBjb25zdCB3YXRjaFN0b3BIYW5kbGUgPSAoKSA9PiB7XG4gICAgICB9O1xuICAgICAgd2F0Y2hTdG9wSGFuZGxlLnN0b3AgPSBOT09QO1xuICAgICAgd2F0Y2hTdG9wSGFuZGxlLnJlc3VtZSA9IE5PT1A7XG4gICAgICB3YXRjaFN0b3BIYW5kbGUucGF1c2UgPSBOT09QO1xuICAgICAgcmV0dXJuIHdhdGNoU3RvcEhhbmRsZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGJhc2VXYXRjaE9wdGlvbnMuY2FsbCA9IChmbiwgdHlwZSwgYXJncykgPT4gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcbiAgbGV0IGlzUHJlID0gZmFsc2U7XG4gIGlmIChmbHVzaCA9PT0gXCJwb3N0XCIpIHtcbiAgICBiYXNlV2F0Y2hPcHRpb25zLnNjaGVkdWxlciA9IChqb2IpID0+IHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKGZsdXNoICE9PSBcInN5bmNcIikge1xuICAgIGlzUHJlID0gdHJ1ZTtcbiAgICBiYXNlV2F0Y2hPcHRpb25zLnNjaGVkdWxlciA9IChqb2IsIGlzRmlyc3RSdW4pID0+IHtcbiAgICAgIGlmIChpc0ZpcnN0UnVuKSB7XG4gICAgICAgIGpvYigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVKb2Ioam9iKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGJhc2VXYXRjaE9wdGlvbnMuYXVnbWVudEpvYiA9IChqb2IpID0+IHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGpvYi5mbGFncyB8PSA0O1xuICAgIH1cbiAgICBpZiAoaXNQcmUpIHtcbiAgICAgIGpvYi5mbGFncyB8PSAyO1xuICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICAgICAgam9iLmkgPSBpbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHdhdGNoSGFuZGxlID0gd2F0Y2gkMShzb3VyY2UsIGNiLCBiYXNlV2F0Y2hPcHRpb25zKTtcbiAgaWYgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgIGlmIChzc3JDbGVhbnVwKSB7XG4gICAgICBzc3JDbGVhbnVwLnB1c2god2F0Y2hIYW5kbGUpO1xuICAgIH0gZWxzZSBpZiAocnVuc0ltbWVkaWF0ZWx5KSB7XG4gICAgICB3YXRjaEhhbmRsZSgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gd2F0Y2hIYW5kbGU7XG59XG5mdW5jdGlvbiBpbnN0YW5jZVdhdGNoKHNvdXJjZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgcHVibGljVGhpcyA9IHRoaXMucHJveHk7XG4gIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSkgPyBzb3VyY2UuaW5jbHVkZXMoXCIuXCIpID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBzb3VyY2UpIDogKCkgPT4gcHVibGljVGhpc1tzb3VyY2VdIDogc291cmNlLmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcyk7XG4gIGxldCBjYjtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgY2IgPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjYiA9IHZhbHVlLmhhbmRsZXI7XG4gICAgb3B0aW9ucyA9IHZhbHVlO1xuICB9XG4gIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKHRoaXMpO1xuICBjb25zdCByZXMgPSBkb1dhdGNoKGdldHRlciwgY2IuYmluZChwdWJsaWNUaGlzKSwgb3B0aW9ucyk7XG4gIHJlc2V0KCk7XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xuICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBjdXIgPSBjdHg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGggJiYgY3VyOyBpKyspIHtcbiAgICAgIGN1ciA9IGN1cltzZWdtZW50c1tpXV07XG4gICAgfVxuICAgIHJldHVybiBjdXI7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZU1vZGVsKHByb3BzLCBuYW1lLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYHVzZU1vZGVsKCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xuICAgIHJldHVybiByZWYoKTtcbiAgfVxuICBjb25zdCBjYW1lbGl6ZWROYW1lID0gY2FtZWxpemUobmFtZSk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpLnByb3BzT3B0aW9uc1swXVtjYW1lbGl6ZWROYW1lXSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aCBwcm9wIFwiJHtuYW1lfVwiIHdoaWNoIGlzIG5vdCBkZWNsYXJlZC5gKTtcbiAgICByZXR1cm4gcmVmKCk7XG4gIH1cbiAgY29uc3QgaHlwaGVuYXRlZE5hbWUgPSBoeXBoZW5hdGUobmFtZSk7XG4gIGNvbnN0IG1vZGlmaWVycyA9IGdldE1vZGVsTW9kaWZpZXJzKHByb3BzLCBjYW1lbGl6ZWROYW1lKTtcbiAgY29uc3QgcmVzID0gY3VzdG9tUmVmKCh0cmFjaywgdHJpZ2dlcikgPT4ge1xuICAgIGxldCBsb2NhbFZhbHVlO1xuICAgIGxldCBwcmV2U2V0VmFsdWUgPSBFTVBUWV9PQko7XG4gICAgbGV0IHByZXZFbWl0dGVkVmFsdWU7XG4gICAgd2F0Y2hTeW5jRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BzW2NhbWVsaXplZE5hbWVdO1xuICAgICAgaWYgKGhhc0NoYW5nZWQobG9jYWxWYWx1ZSwgcHJvcFZhbHVlKSkge1xuICAgICAgICBsb2NhbFZhbHVlID0gcHJvcFZhbHVlO1xuICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgdHJhY2soKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0ID8gb3B0aW9ucy5nZXQobG9jYWxWYWx1ZSkgOiBsb2NhbFZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBlbWl0dGVkVmFsdWUgPSBvcHRpb25zLnNldCA/IG9wdGlvbnMuc2V0KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICBpZiAoIWhhc0NoYW5nZWQoZW1pdHRlZFZhbHVlLCBsb2NhbFZhbHVlKSAmJiAhKHByZXZTZXRWYWx1ZSAhPT0gRU1QVFlfT0JKICYmIGhhc0NoYW5nZWQodmFsdWUsIHByZXZTZXRWYWx1ZSkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhd1Byb3BzID0gaS52bm9kZS5wcm9wcztcbiAgICAgICAgaWYgKCEocmF3UHJvcHMgJiYgLy8gY2hlY2sgaWYgcGFyZW50IGhhcyBwYXNzZWQgdi1tb2RlbFxuICAgICAgICAobmFtZSBpbiByYXdQcm9wcyB8fCBjYW1lbGl6ZWROYW1lIGluIHJhd1Byb3BzIHx8IGh5cGhlbmF0ZWROYW1lIGluIHJhd1Byb3BzKSAmJiAoYG9uVXBkYXRlOiR7bmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2NhbWVsaXplZE5hbWV9YCBpbiByYXdQcm9wcyB8fCBgb25VcGRhdGU6JHtoeXBoZW5hdGVkTmFtZX1gIGluIHJhd1Byb3BzKSkpIHtcbiAgICAgICAgICBsb2NhbFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgICAgIGkuZW1pdChgdXBkYXRlOiR7bmFtZX1gLCBlbWl0dGVkVmFsdWUpO1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgZW1pdHRlZFZhbHVlKSAmJiBoYXNDaGFuZ2VkKHZhbHVlLCBwcmV2U2V0VmFsdWUpICYmICFoYXNDaGFuZ2VkKGVtaXR0ZWRWYWx1ZSwgcHJldkVtaXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldlNldFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHByZXZFbWl0dGVkVmFsdWUgPSBlbWl0dGVkVmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJlc1tTeW1ib2wuaXRlcmF0b3JdID0gKCkgPT4ge1xuICAgIGxldCBpMiA9IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQoKSB7XG4gICAgICAgIGlmIChpMiA8IDIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogaTIrKyA/IG1vZGlmaWVycyB8fCBFTVBUWV9PQkogOiByZXMsIGRvbmU6IGZhbHNlIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIHJlcztcbn1cbmNvbnN0IGdldE1vZGVsTW9kaWZpZXJzID0gKHByb3BzLCBtb2RlbE5hbWUpID0+IHtcbiAgcmV0dXJuIG1vZGVsTmFtZSA9PT0gXCJtb2RlbFZhbHVlXCIgfHwgbW9kZWxOYW1lID09PSBcIm1vZGVsLXZhbHVlXCIgPyBwcm9wcy5tb2RlbE1vZGlmaWVycyA6IHByb3BzW2Ake21vZGVsTmFtZX1Nb2RpZmllcnNgXSB8fCBwcm9wc1tgJHtjYW1lbGl6ZShtb2RlbE5hbWUpfU1vZGlmaWVyc2BdIHx8IHByb3BzW2Ake2h5cGhlbmF0ZShtb2RlbE5hbWUpfU1vZGlmaWVyc2BdO1xufTtcblxuZnVuY3Rpb24gZW1pdChpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcbiAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkKSByZXR1cm47XG4gIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVtaXRzT3B0aW9ucyxcbiAgICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc11cbiAgICB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGVtaXRzT3B0aW9ucykge1xuICAgICAgaWYgKCEoZXZlbnQgaW4gZW1pdHNPcHRpb25zKSAmJiB0cnVlKSB7XG4gICAgICAgIGlmICghcHJvcHNPcHRpb25zIHx8ICEodG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSkgaW4gcHJvcHNPcHRpb25zKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gdGhlIGVtaXRzIG9wdGlvbiBub3IgYXMgYW4gXCIke3RvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpfVwiIHByb3AuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IGVtaXRzT3B0aW9uc1tldmVudF07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xuICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgSW52YWxpZCBldmVudCBhcmd1bWVudHM6IGV2ZW50IHZhbGlkYXRpb24gZmFpbGVkIGZvciBldmVudCBcIiR7ZXZlbnR9XCIuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGFyZ3MgPSByYXdBcmdzO1xuICBjb25zdCBpc01vZGVsTGlzdGVuZXIgPSBldmVudC5zdGFydHNXaXRoKFwidXBkYXRlOlwiKTtcbiAgY29uc3QgbW9kaWZpZXJzID0gaXNNb2RlbExpc3RlbmVyICYmIGdldE1vZGVsTW9kaWZpZXJzKHByb3BzLCBldmVudC5zbGljZSg3KSk7XG4gIGlmIChtb2RpZmllcnMpIHtcbiAgICBpZiAobW9kaWZpZXJzLnRyaW0pIHtcbiAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcCgoYSkgPT4gaXNTdHJpbmcoYSkgPyBhLnRyaW0oKSA6IGEpO1xuICAgIH1cbiAgICBpZiAobW9kaWZpZXJzLm51bWJlcikge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKGxvb3NlVG9OdW1iZXIpO1xuICAgIH1cbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc0NvbXBvbmVudEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGxvd2VyQ2FzZUV2ZW50ID0gZXZlbnQudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXJDYXNlRXZlbnQgIT09IGV2ZW50ICYmIHByb3BzW3RvSGFuZGxlcktleShsb3dlckNhc2VFdmVudCldKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBFdmVudCBcIiR7bG93ZXJDYXNlRXZlbnR9XCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgJHtmb3JtYXRDb21wb25lbnROYW1lKFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIGluc3RhbmNlLnR5cGVcbiAgICAgICAgKX0gYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFwiJHtldmVudH1cIi4gTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2Ugdi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIFlvdSBzaG91bGQgcHJvYmFibHkgdXNlIFwiJHtoeXBoZW5hdGUoXG4gICAgICAgICAgZXZlbnRcbiAgICAgICAgKX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBsZXQgaGFuZGxlck5hbWU7XG4gIGxldCBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoZXZlbnQpXSB8fCAvLyBhbHNvIHRyeSBjYW1lbENhc2UgZXZlbnQgaGFuZGxlciAoIzIyNDkpXG4gIHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSldO1xuICBpZiAoIWhhbmRsZXIgJiYgaXNNb2RlbExpc3RlbmVyKSB7XG4gICAgaGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGh5cGhlbmF0ZShldmVudCkpXTtcbiAgfVxuICBpZiAoaGFuZGxlcikge1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgaGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNixcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9XG4gIGNvbnN0IG9uY2VIYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgKyBgT25jZWBdO1xuICBpZiAob25jZUhhbmRsZXIpIHtcbiAgICBpZiAoIWluc3RhbmNlLmVtaXR0ZWQpIHtcbiAgICAgIGluc3RhbmNlLmVtaXR0ZWQgPSB7fTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdID0gdHJ1ZTtcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIG9uY2VIYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA2LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBhcHBDb250ZXh0LmVtaXRzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xuICBsZXQgbm9ybWFsaXplZCA9IHt9O1xuICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xuICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdzIpID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGcm9tRXh0ZW5kID0gbm9ybWFsaXplRW1pdHNPcHRpb25zKHJhdzIsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgaWYgKG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKSB7XG4gICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xuICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgbm9ybWFsaXplZEZyb21FeHRlbmQpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZEVtaXRzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICByYXcuZm9yRWFjaCgoa2V5KSA9PiBub3JtYWxpemVkW2tleV0gPSBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICBleHRlbmQobm9ybWFsaXplZCwgcmF3KTtcbiAgfVxuICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICBjYWNoZS5zZXQoY29tcCwgbm9ybWFsaXplZCk7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59XG5mdW5jdGlvbiBpc0VtaXRMaXN0ZW5lcihvcHRpb25zLCBrZXkpIHtcbiAgaWYgKCFvcHRpb25zIHx8ICFpc09uKGtleSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAga2V5ID0ga2V5LnNsaWNlKDIpLnJlcGxhY2UoL09uY2UkLywgXCJcIik7XG4gIHJldHVybiBoYXNPd24ob3B0aW9ucywga2V5WzBdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSkpIHx8IGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHwgaGFzT3duKG9wdGlvbnMsIGtleSk7XG59XG5cbmxldCBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcbiAgYWNjZXNzZWRBdHRycyA9IHRydWU7XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgdm5vZGUsXG4gICAgcHJveHksXG4gICAgd2l0aFByb3h5LFxuICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sXG4gICAgc2xvdHMsXG4gICAgYXR0cnMsXG4gICAgZW1pdCxcbiAgICByZW5kZXIsXG4gICAgcmVuZGVyQ2FjaGUsXG4gICAgcHJvcHMsXG4gICAgZGF0YSxcbiAgICBzZXR1cFN0YXRlLFxuICAgIGN0eCxcbiAgICBpbmhlcml0QXR0cnNcbiAgfSA9IGluc3RhbmNlO1xuICBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKTtcbiAgbGV0IHJlc3VsdDtcbiAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQpIHtcbiAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XG4gICAgICBjb25zdCB0aGlzUHJveHkgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwID8gbmV3IFByb3h5KHByb3h5VG9Vc2UsIHtcbiAgICAgICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBQcm9wZXJ0eSAnJHtTdHJpbmcoXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKX0nIHdhcyBhY2Nlc3NlZCB2aWEgJ3RoaXMnLiBBdm9pZCB1c2luZyAndGhpcycgaW4gdGVtcGxhdGVzLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICB9KSA6IHByb3h5VG9Vc2U7XG4gICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShcbiAgICAgICAgcmVuZGVyLmNhbGwoXG4gICAgICAgICAgdGhpc1Byb3h5LFxuICAgICAgICAgIHByb3h5VG9Vc2UsXG4gICAgICAgICAgcmVuZGVyQ2FjaGUsXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICBzZXR1cFN0YXRlLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgY3R4XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlbmRlcjIgPSBDb21wb25lbnQ7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcbiAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIyLmxlbmd0aCA+IDEgPyByZW5kZXIyKFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocHJvcHMpIDogcHJvcHMsXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShhdHRycyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvdHMsXG4gICAgICAgICAgICBlbWl0XG4gICAgICAgICAgfSA6IHsgYXR0cnMsIHNsb3RzLCBlbWl0IH1cbiAgICAgICAgKSA6IHJlbmRlcjIoXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICBudWxsXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gQ29tcG9uZW50LnByb3BzID8gYXR0cnMgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYmxvY2tTdGFjay5sZW5ndGggPSAwO1xuICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEpO1xuICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICB9XG4gIGxldCByb290ID0gcmVzdWx0O1xuICBsZXQgc2V0Um9vdCA9IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiYgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcbiAgfVxuICBpZiAoZmFsbHRocm91Z2hBdHRycyAmJiBpbmhlcml0QXR0cnMgIT09IGZhbHNlKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xuICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmICgxIHwgNikpIHtcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucyAmJiBrZXlzLnNvbWUoaXNNb2RlbExpc3RlbmVyKSkge1xuICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBmaWx0ZXJNb2RlbExpc3RlbmVycyhcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMsXG4gICAgICAgICAgICBwcm9wc09wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhYWNjZXNzZWRBdHRycyAmJiByb290LnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XG4gICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcbiAgICAgICAgY29uc3QgZXh0cmFBdHRycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGFsbEF0dHJzW2ldO1xuICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHRyYW5lb3VzIG5vbi1wcm9wcyBhdHRyaWJ1dGVzICgke2V4dHJhQXR0cnMuam9pbihcIiwgXCIpfSkgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IG9yIHRlbGVwb3J0IHJvb3Qgbm9kZXMuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50QXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4dHJhbmVvdXMgbm9uLWVtaXRzIGV2ZW50IGxpc3RlbmVycyAoJHtldmVudEF0dHJzLmpvaW4oXCIsIFwiKX0pIHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLiBJZiB0aGUgbGlzdGVuZXIgaXMgaW50ZW5kZWQgdG8gYmUgYSBjb21wb25lbnQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyIG9ubHksIGRlY2xhcmUgaXQgdXNpbmcgdGhlIFwiZW1pdHNcIiBvcHRpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIFRoZSBkaXJlY3RpdmVzIHdpbGwgbm90IGZ1bmN0aW9uIGFzIGludGVuZGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIG51bGwsIGZhbHNlLCB0cnVlKTtcbiAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcbiAgfVxuICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSB0aGF0IGNhbm5vdCBiZSBhbmltYXRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBzZXRUcmFuc2l0aW9uSG9va3Mocm9vdCwgdm5vZGUudHJhbnNpdGlvbik7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0Um9vdCkge1xuICAgIHNldFJvb3Qocm9vdCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gcm9vdDtcbiAgfVxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBnZXRDaGlsZFJvb3QgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgY29uc3QgZHluYW1pY0NoaWxkcmVuID0gdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICBjb25zdCBjaGlsZFJvb3QgPSBmaWx0ZXJTaW5nbGVSb290KHJhd0NoaWxkcmVuLCBmYWxzZSk7XG4gIGlmICghY2hpbGRSb290KSB7XG4gICAgcmV0dXJuIFt2bm9kZSwgdm9pZCAwXTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoaWxkUm9vdC5wYXRjaEZsYWcgPiAwICYmIGNoaWxkUm9vdC5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgcmV0dXJuIGdldENoaWxkUm9vdChjaGlsZFJvb3QpO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gcmF3Q2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpO1xuICBjb25zdCBkeW5hbWljSW5kZXggPSBkeW5hbWljQ2hpbGRyZW4gPyBkeW5hbWljQ2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpIDogLTE7XG4gIGNvbnN0IHNldFJvb3QgPSAodXBkYXRlZFJvb3QpID0+IHtcbiAgICByYXdDaGlsZHJlbltpbmRleF0gPSB1cGRhdGVkUm9vdDtcbiAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICBpZiAoZHluYW1pY0luZGV4ID4gLTEpIHtcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuW2R5bmFtaWNJbmRleF0gPSB1cGRhdGVkUm9vdDtcbiAgICAgIH0gZWxzZSBpZiAodXBkYXRlZFJvb3QucGF0Y2hGbGFnID4gMCkge1xuICAgICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBbLi4uZHluYW1pY0NoaWxkcmVuLCB1cGRhdGVkUm9vdF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gW25vcm1hbGl6ZVZOb2RlKGNoaWxkUm9vdCksIHNldFJvb3RdO1xufTtcbmZ1bmN0aW9uIGZpbHRlclNpbmdsZVJvb3QoY2hpbGRyZW4sIHJlY3Vyc2UgPSB0cnVlKSB7XG4gIGxldCBzaW5nbGVSb290O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoaXNWTm9kZShjaGlsZCkpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlICE9PSBDb21tZW50IHx8IGNoaWxkLmNoaWxkcmVuID09PSBcInYtaWZcIikge1xuICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaW5nbGVSb290ID0gY2hpbGQ7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcmVjdXJzZSAmJiBzaW5nbGVSb290LnBhdGNoRmxhZyA+IDAgJiYgc2luZ2xlUm9vdC5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyU2luZ2xlUm9vdChzaW5nbGVSb290LmNoaWxkcmVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2luZ2xlUm9vdDtcbn1cbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xuICBsZXQgcmVzO1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgIGlmIChrZXkgPT09IFwiY2xhc3NcIiB8fCBrZXkgPT09IFwic3R5bGVcIiB8fCBpc09uKGtleSkpIHtcbiAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XG4gIGNvbnN0IHJlcyA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkgfHwgIShrZXkuc2xpY2UoOSkgaW4gcHJvcHMpKSB7XG4gICAgICByZXNba2V5XSA9IGF0dHJzW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuY29uc3QgaXNFbGVtZW50Um9vdCA9ICh2bm9kZSkgPT4ge1xuICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgKDYgfCAxKSB8fCB2bm9kZS50eXBlID09PSBDb21tZW50O1xufTtcbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZUNvbXBvbmVudChwcmV2Vk5vZGUsIG5leHRWTm9kZSwgb3B0aW1pemVkKSB7XG4gIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XG4gIGNvbnN0IHsgcHJvcHM6IG5leHRQcm9wcywgY2hpbGRyZW46IG5leHRDaGlsZHJlbiwgcGF0Y2hGbGFnIH0gPSBuZXh0Vk5vZGU7XG4gIGNvbnN0IGVtaXRzID0gY29tcG9uZW50LmVtaXRzT3B0aW9ucztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAob3B0aW1pemVkICYmIHBhdGNoRmxhZyA+PSAwKSB7XG4gICAgaWYgKHBhdGNoRmxhZyAmIDEwMjQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocGF0Y2hGbGFnICYgMTYpIHtcbiAgICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgIGNvbnN0IGR5bmFtaWNQcm9wcyA9IG5leHRWTm9kZS5keW5hbWljUHJvcHM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBkeW5hbWljUHJvcHNbaV07XG4gICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiYgIWlzRW1pdExpc3RlbmVyKGVtaXRzLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgIGlmICghbmV4dENoaWxkcmVuIHx8ICFuZXh0Q2hpbGRyZW4uJHN0YWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgfVxuICAgIGlmICghbmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHNPcHRpb25zKSB7XG4gIGNvbnN0IG5leHRLZXlzID0gT2JqZWN0LmtleXMobmV4dFByb3BzKTtcbiAgaWYgKG5leHRLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMocHJldlByb3BzKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0gbmV4dEtleXNbaV07XG4gICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJiAhaXNFbWl0TGlzdGVuZXIoZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCkge1xuICB3aGlsZSAocGFyZW50KSB7XG4gICAgY29uc3Qgcm9vdCA9IHBhcmVudC5zdWJUcmVlO1xuICAgIGlmIChyb290LnN1c3BlbnNlICYmIHJvb3Quc3VzcGVuc2UuYWN0aXZlQnJhbmNoID09PSB2bm9kZSkge1xuICAgICAgcm9vdC5lbCA9IHZub2RlLmVsO1xuICAgIH1cbiAgICBpZiAocm9vdCA9PT0gdm5vZGUpIHtcbiAgICAgICh2bm9kZSA9IHBhcmVudC52bm9kZSkuZWwgPSBlbDtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBpc1N1c3BlbnNlID0gKHR5cGUpID0+IHR5cGUuX19pc1N1c3BlbnNlO1xubGV0IHN1c3BlbnNlSWQgPSAwO1xuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xuICBuYW1lOiBcIlN1c3BlbnNlXCIsXG4gIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcbiAgLy8gZGlyZWN0bHkgaW4gdGhlIHJlbmRlcmVyLiBUaGUgcmVuZGVyZXIgY2hlY2tzIGZvciB0aGUgX19pc1N1c3BlbnNlIGZsYWdcbiAgLy8gb24gYSB2bm9kZSdzIHR5cGUgYW5kIGNhbGxzIHRoZSBgcHJvY2Vzc2AgbWV0aG9kLCBwYXNzaW5nIGluIHJlbmRlcmVyXG4gIC8vIGludGVybmFscy5cbiAgX19pc1N1c3BlbnNlOiB0cnVlLFxuICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIG1vdW50U3VzcGVuc2UoXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5kZXBzID4gMCAmJiAhbjEuc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIG4yLnN1c3BlbnNlID0gbjEuc3VzcGVuc2U7XG4gICAgICAgIG4yLnN1c3BlbnNlLnZub2RlID0gbjI7XG4gICAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhdGNoU3VzcGVuc2UoXG4gICAgICAgIG4xLFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgICAgICk7XG4gICAgfVxuICB9LFxuICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlblxufTtcbmNvbnN0IFN1c3BlbnNlID0gU3VzcGVuc2VJbXBsIDtcbmZ1bmN0aW9uIHRyaWdnZXJFdmVudCh2bm9kZSwgbmFtZSkge1xuICBjb25zdCBldmVudExpc3RlbmVyID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHNbbmFtZV07XG4gIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgZXZlbnRMaXN0ZW5lcigpO1xuICB9XG59XG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkoXG4gICAgdm5vZGUsXG4gICAgcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIGNvbnRhaW5lcixcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgYW5jaG9yLFxuICAgIG5hbWVzcGFjZSxcbiAgICBzbG90U2NvcGVJZHMsXG4gICAgb3B0aW1pemVkLFxuICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICk7XG4gIHBhdGNoKFxuICAgIG51bGwsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgbnVsbCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkc1xuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcbiAgICB0cmlnZ2VyRXZlbnQodm5vZGUsIFwib25QZW5kaW5nXCIpO1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvbkZhbGxiYWNrXCIpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLnNzRmFsbGJhY2ssXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuZnVuY3Rpb24gcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgbjIuZWwgPSBuMS5lbDtcbiAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xuICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XG4gIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcbiAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xuICAgICAgcGF0Y2goXG4gICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBzdXNwZW5zZUlkKys7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5kZXBzID0gMDtcbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcbiAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgICAgbmV3RmFsbGJhY2ssXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmlnZ2VyRXZlbnQobjIsIFwib25QZW5kaW5nXCIpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgIGlmIChuZXdCcmFuY2guc2hhcGVGbGFnICYgNTEyKSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IG5ld0JyYW5jaC5jb21wb25lbnQuc3VzcGVuc2VJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIH1cbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xuICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxubGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSAmJiAhaGFzV2FybmVkKSB7XG4gICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/IFwiaW5mb1wiIDogXCJsb2dcIl0oXG4gICAgICBgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG06IG1vdmUsXG4gICAgdW06IHVubW91bnQsXG4gICAgbjogbmV4dCxcbiAgICBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgbGV0IHBhcmVudFN1c3BlbnNlSWQ7XG4gIGNvbnN0IGlzU3VzcGVuc2libGUgPSBpc1ZOb2RlU3VzcGVuc2libGUodm5vZGUpO1xuICBpZiAoaXNTdXNwZW5zaWJsZSkge1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICBwYXJlbnRTdXNwZW5zZUlkID0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkO1xuICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcysrO1xuICAgIH1cbiAgfVxuICBjb25zdCB0aW1lb3V0ID0gdm5vZGUucHJvcHMgPyB0b051bWJlcih2bm9kZS5wcm9wcy50aW1lb3V0KSA6IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIodGltZW91dCwgYFN1c3BlbnNlIHRpbWVvdXRgKTtcbiAgfVxuICBjb25zdCBpbml0aWFsQW5jaG9yID0gYW5jaG9yO1xuICBjb25zdCBzdXNwZW5zZSA9IHtcbiAgICB2bm9kZSxcbiAgICBwYXJlbnQ6IHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBuYW1lc3BhY2UsXG4gICAgY29udGFpbmVyLFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBkZXBzOiAwLFxuICAgIHBlbmRpbmdJZDogc3VzcGVuc2VJZCsrLFxuICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSBcIm51bWJlclwiID8gdGltZW91dCA6IC0xLFxuICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcbiAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxuICAgIGlzSW5GYWxsYmFjazogIWlzSHlkcmF0aW5nLFxuICAgIGlzSHlkcmF0aW5nLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBlZmZlY3RzOiBbXSxcbiAgICByZXNvbHZlKHJlc3VtZSA9IGZhbHNlLCBzeW5jID0gZmFsc2UpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGlmICghcmVzdW1lICYmICFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXNwZW5zZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZub2RlOiB2bm9kZTIsXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgcGVuZGluZ0lkLFxuICAgICAgICBlZmZlY3RzLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQ6IHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyMlxuICAgICAgfSA9IHN1c3BlbnNlO1xuICAgICAgbGV0IGRlbGF5RW50ZXIgPSBmYWxzZTtcbiAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghcmVzdW1lKSB7XG4gICAgICAgIGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgbW92ZShcbiAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICAgICAgYW5jaG9yID09PSBpbml0aWFsQW5jaG9yID8gbmV4dChhY3RpdmVCcmFuY2gpIDogYW5jaG9yLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgICBpZiAocGFyZW50Tm9kZShhY3RpdmVCcmFuY2guZWwpID09PSBjb250YWluZXIyKSB7XG4gICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQyLCBzdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG51bGw7XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XG4gICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XG4gICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XG4gICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNVbnJlc29sdmVkQW5jZXN0b3IgJiYgIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcbiAgICAgIGlmIChpc1N1c3BlbnNpYmxlKSB7XG4gICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmIHBhcmVudFN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCAmJiAhc3luYykge1xuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvblJlc29sdmVcIik7XG4gICAgfSxcbiAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XG4gICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MiwgY29udGFpbmVyOiBjb250YWluZXIyLCBuYW1lc3BhY2U6IG5hbWVzcGFjZTIgfSA9IHN1c3BlbnNlO1xuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvbkZhbGxiYWNrXCIpO1xuICAgICAgY29uc3QgYW5jaG9yMiA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmFsbGJhY2tWTm9kZSxcbiAgICAgICAgICBjb250YWluZXIyLFxuICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgbmFtZXNwYWNlMixcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XG4gICAgICB9O1xuICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gXCJvdXQtaW5cIjtcbiAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSBtb3VudEZhbGxiYWNrO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIHVubW91bnQoXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xuICAgICAgICB0cnVlXG4gICAgICAgIC8vIHNob3VsZFJlbW92ZVxuICAgICAgKTtcbiAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICBtb3VudEZhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtb3ZlKGNvbnRhaW5lcjIsIGFuY2hvcjIsIHR5cGUpIHtcbiAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBtb3ZlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSk7XG4gICAgICBzdXNwZW5zZS5jb250YWluZXIgPSBjb250YWluZXIyO1xuICAgIH0sXG4gICAgbmV4dCgpIHtcbiAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xuICAgIH0sXG4gICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0LCBvcHRpbWl6ZWQyKSB7XG4gICAgICBjb25zdCBpc0luUGVuZGluZ1N1c3BlbnNlID0gISFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoO1xuICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UpIHtcbiAgICAgICAgc3VzcGVuc2UuZGVwcysrO1xuICAgICAgfVxuICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xuICAgICAgaW5zdGFuY2UuYXN5bmNEZXAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwKTtcbiAgICAgIH0pLnRoZW4oKGFzeW5jU2V0dXBSZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUyKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xuICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xuICAgICAgICAgIHZub2RlMi5lbCA9IGh5ZHJhdGVkRWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICB2bm9kZTIsXG4gICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gbW92ZWQgYmVmb3JlIHJlc29sdmUuXG4gICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxuICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxuICAgICAgICAgIHBhcmVudE5vZGUoaHlkcmF0ZWRFbCB8fCBpbnN0YW5jZS5zdWJUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3Igd2lsbCBub3QgYmUgdXNlZCBpZiB0aGlzIGlzIGh5ZHJhdGlvbiwgc28gb25seSBuZWVkIHRvXG4gICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cbiAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZDJcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlMi5lbCk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZTIsIGRvUmVtb3ZlKSB7XG4gICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UyLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gc3VzcGVuc2U7XG59XG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xuICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeShcbiAgICB2bm9kZSxcbiAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgbm9kZS5wYXJlbnROb2RlLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgIG51bGwsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWQsXG4gICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCByZXN1bHQgPSBoeWRyYXRlTm9kZShcbiAgICBub2RlLFxuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIHN1c3BlbnNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWRcbiAgKTtcbiAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSkge1xuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBjb25zdCBpc1Nsb3RDaGlsZHJlbiA9IHNoYXBlRmxhZyAmIDMyO1xuICB2bm9kZS5zc0NvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoXG4gICAgaXNTbG90Q2hpbGRyZW4gPyBjaGlsZHJlbi5kZWZhdWx0IDogY2hpbGRyZW5cbiAgKTtcbiAgdm5vZGUuc3NGYWxsYmFjayA9IGlzU2xvdENoaWxkcmVuID8gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKSA6IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcbiAgbGV0IGJsb2NrO1xuICBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgIGNvbnN0IHRyYWNrQmxvY2sgPSBpc0Jsb2NrVHJlZUVuYWJsZWQgJiYgcy5fYztcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IGZhbHNlO1xuICAgICAgb3BlbkJsb2NrKCk7XG4gICAgfVxuICAgIHMgPSBzKCk7XG4gICAgaWYgKHRyYWNrQmxvY2spIHtcbiAgICAgIHMuX2QgPSB0cnVlO1xuICAgICAgYmxvY2sgPSBjdXJyZW50QmxvY2s7XG4gICAgICBjbG9zZUJsb2NrKCk7XG4gICAgfVxuICB9XG4gIGlmIChpc0FycmF5KHMpKSB7XG4gICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFzaW5nbGVDaGlsZCAmJiBzLmZpbHRlcigoY2hpbGQpID0+IGNoaWxkICE9PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKS5sZW5ndGggPiAwKSB7XG4gICAgICB3YXJuJDEoYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcbiAgICB9XG4gICAgcyA9IHNpbmdsZUNoaWxkO1xuICB9XG4gIHMgPSBub3JtYWxpemVWTm9kZShzKTtcbiAgaWYgKGJsb2NrICYmICFzLmR5bmFtaWNDaGlsZHJlbikge1xuICAgIHMuZHluYW1pY0NoaWxkcmVuID0gYmxvY2suZmlsdGVyKChjKSA9PiBjICE9PSBzKTtcbiAgfVxuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xuICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgYnJhbmNoKSB7XG4gIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcbiAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcbiAgbGV0IGVsID0gYnJhbmNoLmVsO1xuICB3aGlsZSAoIWVsICYmIGJyYW5jaC5jb21wb25lbnQpIHtcbiAgICBicmFuY2ggPSBicmFuY2guY29tcG9uZW50LnN1YlRyZWU7XG4gICAgZWwgPSBicmFuY2guZWw7XG4gIH1cbiAgdm5vZGUuZWwgPSBlbDtcbiAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcbiAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzVk5vZGVTdXNwZW5zaWJsZSh2bm9kZSkge1xuICBjb25zdCBzdXNwZW5zaWJsZSA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnN1c3BlbnNpYmxlO1xuICByZXR1cm4gc3VzcGVuc2libGUgIT0gbnVsbCAmJiBzdXNwZW5zaWJsZSAhPT0gZmFsc2U7XG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sLmZvcihcInYtZmd0XCIpO1xuY29uc3QgVGV4dCA9IFN5bWJvbC5mb3IoXCJ2LXR4dFwiKTtcbmNvbnN0IENvbW1lbnQgPSBTeW1ib2wuZm9yKFwidi1jbXRcIik7XG5jb25zdCBTdGF0aWMgPSBTeW1ib2wuZm9yKFwidi1zdGNcIik7XG5jb25zdCBibG9ja1N0YWNrID0gW107XG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xuICBibG9ja1N0YWNrLnB1c2goY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKTtcbn1cbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XG4gIGJsb2NrU3RhY2sucG9wKCk7XG4gIGN1cnJlbnRCbG9jayA9IGJsb2NrU3RhY2tbYmxvY2tTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xufVxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XG5mdW5jdGlvbiBzZXRCbG9ja1RyYWNraW5nKHZhbHVlLCBpblZPbmNlID0gZmFsc2UpIHtcbiAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xuICBpZiAodmFsdWUgPCAwICYmIGN1cnJlbnRCbG9jayAmJiBpblZPbmNlKSB7XG4gICAgY3VycmVudEJsb2NrLmhhc09uY2UgPSB0cnVlO1xuICB9XG59XG5mdW5jdGlvbiBzZXR1cEJsb2NrKHZub2RlKSB7XG4gIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgPyBjdXJyZW50QmxvY2sgfHwgRU1QVFlfQVJSIDogbnVsbDtcbiAgY2xvc2VCbG9jaygpO1xuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHNoYXBlRmxhZykge1xuICByZXR1cm4gc2V0dXBCbG9jayhcbiAgICBjcmVhdGVCYXNlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkeW5hbWljUHJvcHMsXG4gICAgICB0cnVlXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gaXNWTm9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuMi5zaGFwZUZsYWcgJiA2ICYmIG4xLmNvbXBvbmVudCkge1xuICAgIGNvbnN0IGRpcnR5SW5zdGFuY2VzID0gaG1yRGlydHlDb21wb25lbnRzLmdldChuMi50eXBlKTtcbiAgICBpZiAoZGlydHlJbnN0YW5jZXMgJiYgZGlydHlJbnN0YW5jZXMuaGFzKG4xLmNvbXBvbmVudCkpIHtcbiAgICAgIG4xLnNoYXBlRmxhZyAmPSB+MjU2O1xuICAgICAgbjIuc2hhcGVGbGFnICY9IH41MTI7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBuMS50eXBlID09PSBuMi50eXBlICYmIG4xLmtleSA9PT0gbjIua2V5O1xufVxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xuZnVuY3Rpb24gdHJhbnNmb3JtVk5vZGVBcmdzKHRyYW5zZm9ybWVyKSB7XG4gIHZub2RlQXJnc1RyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXI7XG59XG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcbiAgcmV0dXJuIF9jcmVhdGVWTm9kZShcbiAgICAuLi52bm9kZUFyZ3NUcmFuc2Zvcm1lciA/IHZub2RlQXJnc1RyYW5zZm9ybWVyKGFyZ3MsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkgOiBhcmdzXG4gICk7XG59O1xuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcbmNvbnN0IG5vcm1hbGl6ZVJlZiA9ICh7XG4gIHJlZixcbiAgcmVmX2tleSxcbiAgcmVmX2ZvclxufSkgPT4ge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gXCJudW1iZXJcIikge1xuICAgIHJlZiA9IFwiXCIgKyByZWY7XG4gIH1cbiAgcmV0dXJuIHJlZiAhPSBudWxsID8gaXNTdHJpbmcocmVmKSB8fCBpc1JlZihyZWYpIHx8IGlzRnVuY3Rpb24ocmVmKSA/IHsgaTogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCByOiByZWYsIGs6IHJlZl9rZXksIGY6ICEhcmVmX2ZvciB9IDogcmVmIDogbnVsbDtcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIHNoYXBlRmxhZyA9IHR5cGUgPT09IEZyYWdtZW50ID8gMCA6IDEsIGlzQmxvY2tOb2RlID0gZmFsc2UsIG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uID0gZmFsc2UpIHtcbiAgY29uc3Qgdm5vZGUgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBrZXk6IHByb3BzICYmIG5vcm1hbGl6ZUtleShwcm9wcyksXG4gICAgcmVmOiBwcm9wcyAmJiBub3JtYWxpemVSZWYocHJvcHMpLFxuICAgIHNjb3BlSWQ6IGN1cnJlbnRTY29wZUlkLFxuICAgIHNsb3RTY29wZUlkczogbnVsbCxcbiAgICBjaGlsZHJlbixcbiAgICBjb21wb25lbnQ6IG51bGwsXG4gICAgc3VzcGVuc2U6IG51bGwsXG4gICAgc3NDb250ZW50OiBudWxsLFxuICAgIHNzRmFsbGJhY2s6IG51bGwsXG4gICAgZGlyczogbnVsbCxcbiAgICB0cmFuc2l0aW9uOiBudWxsLFxuICAgIGVsOiBudWxsLFxuICAgIGFuY2hvcjogbnVsbCxcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgdGFyZ2V0U3RhcnQ6IG51bGwsXG4gICAgdGFyZ2V0QW5jaG9yOiBudWxsLFxuICAgIHN0YXRpY0NvdW50OiAwLFxuICAgIHNoYXBlRmxhZyxcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogbnVsbCxcbiAgICBhcHBDb250ZXh0OiBudWxsLFxuICAgIGN0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlXG4gIH07XG4gIGlmIChuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbikge1xuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdHlwZS5ub3JtYWxpemUodm5vZGUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIHZub2RlLnNoYXBlRmxhZyB8PSBpc1N0cmluZyhjaGlsZHJlbikgPyA4IDogMTY7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcbiAgICB3YXJuJDEoYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcbiAgfVxuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiAvLyBhdm9pZCBhIGJsb2NrIG5vZGUgZnJvbSB0cmFja2luZyBpdHNlbGZcbiAgIWlzQmxvY2tOb2RlICYmIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xuICBjdXJyZW50QmxvY2sgJiYgLy8gcHJlc2VuY2Ugb2YgYSBwYXRjaCBmbGFnIGluZGljYXRlcyB0aGlzIG5vZGUgbmVlZHMgcGF0Y2hpbmcgb24gdXBkYXRlcy5cbiAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXG4gIC8vIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gdXBkYXRlLCBpdCBuZWVkcyB0byBwZXJzaXN0IHRoZSBpbnN0YW5jZSBvbiB0b1xuICAvLyB0aGUgbmV4dCB2bm9kZSBzbyB0aGF0IGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWQgbGF0ZXIuXG4gICh2bm9kZS5wYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYpICYmIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxuICAvLyB2bm9kZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZHluYW1pYyBkdWUgdG8gaGFuZGxlciBjYWNoaW5nLlxuICB2bm9kZS5wYXRjaEZsYWcgIT09IDMyKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gOiBfY3JlYXRlVk5vZGU7XG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdHlwZSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcbiAgICB9XG4gICAgdHlwZSA9IENvbW1lbnQ7XG4gIH1cbiAgaWYgKGlzVk5vZGUodHlwZSkpIHtcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgdHJ1ZVxuICAgICAgLyogbWVyZ2VSZWY6IHRydWUgKi9cbiAgICApO1xuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XG4gICAgfVxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmICFpc0Jsb2NrTm9kZSAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgIGlmIChjbG9uZWQuc2hhcGVGbGFnICYgNikge1xuICAgICAgICBjdXJyZW50QmxvY2tbY3VycmVudEJsb2NrLmluZGV4T2YodHlwZSldID0gY2xvbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2goY2xvbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2xvbmVkLnBhdGNoRmxhZyA9IC0yO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbiAgaWYgKGlzQ2xhc3NDb21wb25lbnQodHlwZSkpIHtcbiAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XG4gIH1cbiAgaWYgKHByb3BzKSB7XG4gICAgcHJvcHMgPSBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xuICAgICAgaWYgKGlzUHJveHkoc3R5bGUpICYmICFpc0FycmF5KHN0eWxlKSkge1xuICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xuICAgICAgfVxuICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpID8gMSA6IGlzU3VzcGVuc2UodHlwZSkgPyAxMjggOiBpc1RlbGVwb3J0KHR5cGUpID8gNjQgOiBpc09iamVjdCh0eXBlKSA/IDQgOiBpc0Z1bmN0aW9uKHR5cGUpID8gMiA6IDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNoYXBlRmxhZyAmIDQgJiYgaXNQcm94eSh0eXBlKSkge1xuICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcbiAgICB3YXJuJDEoXG4gICAgICBgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLFxuICAgICAgYFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsXG4gICAgICB0eXBlXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQmFzZVZOb2RlKFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wcyxcbiAgICBzaGFwZUZsYWcsXG4gICAgaXNCbG9ja05vZGUsXG4gICAgdHJ1ZVxuICApO1xufVxuZnVuY3Rpb24gZ3VhcmRSZWFjdGl2ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHJldHVybiBudWxsO1xuICByZXR1cm4gaXNQcm94eShwcm9wcykgfHwgaXNJbnRlcm5hbE9iamVjdChwcm9wcykgPyBleHRlbmQoe30sIHByb3BzKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2bm9kZSwgZXh0cmFQcm9wcywgbWVyZ2VSZWYgPSBmYWxzZSwgY2xvbmVUcmFuc2l0aW9uID0gZmFsc2UpIHtcbiAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcbiAgY29uc3QgY2xvbmVkID0ge1xuICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgIF9fdl9za2lwOiB0cnVlLFxuICAgIHR5cGU6IHZub2RlLnR5cGUsXG4gICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcbiAgICByZWY6IGV4dHJhUHJvcHMgJiYgZXh0cmFQcm9wcy5yZWYgPyAoXG4gICAgICAvLyAjMjA3OCBpbiB0aGUgY2FzZSBvZiA8Y29tcG9uZW50IDppcz1cInZub2RlXCIgcmVmPVwiZXh0cmFcIi8+XG4gICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxuICAgICAgLy8gdGhlIHJlZnMgc28gdGhlIHNpbmdsZSB2bm9kZSBjYW4gYmUgc2V0IG9uIG11bHRpcGxlIHJlZnNcbiAgICAgIG1lcmdlUmVmICYmIHJlZiA/IGlzQXJyYXkocmVmKSA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKSA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV0gOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcbiAgICApIDogcmVmLFxuICAgIHNjb3BlSWQ6IHZub2RlLnNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgY2hpbGRyZW46ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcGF0Y2hGbGFnID09PSAtMSAmJiBpc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSkgOiBjaGlsZHJlbixcbiAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcbiAgICB0YXJnZXRTdGFydDogdm5vZGUudGFyZ2V0U3RhcnQsXG4gICAgdGFyZ2V0QW5jaG9yOiB2bm9kZS50YXJnZXRBbmNob3IsXG4gICAgc3RhdGljQ291bnQ6IHZub2RlLnN0YXRpY0NvdW50LFxuICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxuICAgIC8vIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgd2l0aCBleHRyYSBwcm9wcywgd2UgY2FuIG5vIGxvbmdlciBhc3N1bWUgaXRzXG4gICAgLy8gZXhpc3RpbmcgcGF0Y2ggZmxhZyB0byBiZSByZWxpYWJsZSBhbmQgbmVlZCB0byBhZGQgdGhlIEZVTExfUFJPUFMgZmxhZy5cbiAgICAvLyBub3RlOiBwcmVzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXG4gICAgLy8gZmFzdCBwYXRocyBvbmx5LlxuICAgIHBhdGNoRmxhZzogZXh0cmFQcm9wcyAmJiB2bm9kZS50eXBlICE9PSBGcmFnbWVudCA/IHBhdGNoRmxhZyA9PT0gLTEgPyAxNiA6IHBhdGNoRmxhZyB8IDE2IDogcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxuICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXG4gICAgZGlyczogdm5vZGUuZGlycyxcbiAgICB0cmFuc2l0aW9uLFxuICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxuICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxuICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcbiAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxuICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxuICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcbiAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXG4gICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxuICAgIGVsOiB2bm9kZS5lbCxcbiAgICBhbmNob3I6IHZub2RlLmFuY2hvcixcbiAgICBjdHg6IHZub2RlLmN0eCxcbiAgICBjZTogdm5vZGUuY2VcbiAgfTtcbiAgaWYgKHRyYW5zaXRpb24gJiYgY2xvbmVUcmFuc2l0aW9uKSB7XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgY2xvbmVkLFxuICAgICAgdHJhbnNpdGlvbi5jbG9uZShjbG9uZWQpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2xvbmVkO1xufVxuZnVuY3Rpb24gZGVlcENsb25lVk5vZGUodm5vZGUpIHtcbiAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xuICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XG4gIH1cbiAgcmV0dXJuIGNsb25lZDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gXCIgXCIsIGZsYWcgPSAwKSB7XG4gIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCB0ZXh0LCBmbGFnKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1ZOb2RlKGNvbnRlbnQsIG51bWJlck9mTm9kZXMpIHtcbiAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xuICB2bm9kZS5zdGF0aWNDb3VudCA9IG51bWJlck9mTm9kZXM7XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gXCJcIiwgYXNCbG9jayA9IGZhbHNlKSB7XG4gIHJldHVybiBhc0Jsb2NrID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSkgOiBjcmVhdGVWTm9kZShDb21tZW50LCBudWxsLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XG4gIGlmIChjaGlsZCA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoXG4gICAgICBGcmFnbWVudCxcbiAgICAgIG51bGwsXG4gICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcbiAgICAgIGNoaWxkLnNsaWNlKClcbiAgICApO1xuICB9IGVsc2UgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgcmV0dXJuIGNsb25lSWZNb3VudGVkKGNoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XG4gIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCAmJiBjaGlsZC5wYXRjaEZsYWcgIT09IC0xIHx8IGNoaWxkLm1lbW8gPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XG4gIGxldCB0eXBlID0gMDtcbiAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIHR5cGUgPSAxNjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2NCkpIHtcbiAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xuICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcbiAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIHNsb3QoKSk7XG4gICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IDMyO1xuICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xuICAgICAgaWYgKCFzbG90RmxhZyAmJiAhaXNJbnRlcm5hbE9iamVjdChjaGlsZHJlbikpIHtcbiAgICAgICAgY2hpbGRyZW4uX2N0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgIH0gZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSkge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAyO1xuICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oY2hpbGRyZW4pKSB7XG4gICAgY2hpbGRyZW4gPSB7IGRlZmF1bHQ6IGNoaWxkcmVuLCBfY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfTtcbiAgICB0eXBlID0gMzI7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZSA9IDE2O1xuICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSA4O1xuICAgIH1cbiAgfVxuICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9NZXJnZSA9IGFyZ3NbaV07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9NZXJnZSkge1xuICAgICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcbiAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xuICAgICAgfSBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcbiAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XG4gICAgICAgIGlmIChpbmNvbWluZyAmJiBleGlzdGluZyAhPT0gaW5jb21pbmcgJiYgIShpc0FycmF5KGV4aXN0aW5nKSAmJiBleGlzdGluZy5pbmNsdWRlcyhpbmNvbWluZykpKSB7XG4gICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpIDogaW5jb21pbmc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBcIlwiKSB7XG4gICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgNywgW1xuICAgIHZub2RlLFxuICAgIHByZXZWTm9kZVxuICBdKTtcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xubGV0IHVpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xuICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcbiAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcbiAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgdWlkOiB1aWQrKyxcbiAgICB2bm9kZSxcbiAgICB0eXBlLFxuICAgIHBhcmVudCxcbiAgICBhcHBDb250ZXh0LFxuICAgIHJvb3Q6IG51bGwsXG4gICAgLy8gdG8gYmUgaW1tZWRpYXRlbHkgc2V0XG4gICAgbmV4dDogbnVsbCxcbiAgICBzdWJUcmVlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBlZmZlY3Q6IG51bGwsXG4gICAgdXBkYXRlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBqb2I6IG51bGwsXG4gICAgc2NvcGU6IG5ldyBFZmZlY3RTY29wZShcbiAgICAgIHRydWVcbiAgICAgIC8qIGRldGFjaGVkICovXG4gICAgKSxcbiAgICByZW5kZXI6IG51bGwsXG4gICAgcHJveHk6IG51bGwsXG4gICAgZXhwb3NlZDogbnVsbCxcbiAgICBleHBvc2VQcm94eTogbnVsbCxcbiAgICB3aXRoUHJveHk6IG51bGwsXG4gICAgcHJvdmlkZXM6IHBhcmVudCA/IHBhcmVudC5wcm92aWRlcyA6IE9iamVjdC5jcmVhdGUoYXBwQ29udGV4dC5wcm92aWRlcyksXG4gICAgaWRzOiBwYXJlbnQgPyBwYXJlbnQuaWRzIDogW1wiXCIsIDAsIDBdLFxuICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxuICAgIHJlbmRlckNhY2hlOiBbXSxcbiAgICAvLyBsb2NhbCByZXNvbHZlZCBhc3NldHNcbiAgICBjb21wb25lbnRzOiBudWxsLFxuICAgIGRpcmVjdGl2ZXM6IG51bGwsXG4gICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcbiAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICAvLyBlbWl0XG4gICAgZW1pdDogbnVsbCxcbiAgICAvLyB0byBiZSBzZXQgaW1tZWRpYXRlbHlcbiAgICBlbWl0dGVkOiBudWxsLFxuICAgIC8vIHByb3BzIGRlZmF1bHQgdmFsdWVcbiAgICBwcm9wc0RlZmF1bHRzOiBFTVBUWV9PQkosXG4gICAgLy8gaW5oZXJpdEF0dHJzXG4gICAgaW5oZXJpdEF0dHJzOiB0eXBlLmluaGVyaXRBdHRycyxcbiAgICAvLyBzdGF0ZVxuICAgIGN0eDogRU1QVFlfT0JKLFxuICAgIGRhdGE6IEVNUFRZX09CSixcbiAgICBwcm9wczogRU1QVFlfT0JKLFxuICAgIGF0dHJzOiBFTVBUWV9PQkosXG4gICAgc2xvdHM6IEVNUFRZX09CSixcbiAgICByZWZzOiBFTVBUWV9PQkosXG4gICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxuICAgIHNldHVwQ29udGV4dDogbnVsbCxcbiAgICAvLyBzdXNwZW5zZSByZWxhdGVkXG4gICAgc3VzcGVuc2UsXG4gICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxuICAgIGFzeW5jRGVwOiBudWxsLFxuICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxuICAgIC8vIGxpZmVjeWNsZSBob29rc1xuICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXG4gICAgYmM6IG51bGwsXG4gICAgYzogbnVsbCxcbiAgICBibTogbnVsbCxcbiAgICBtOiBudWxsLFxuICAgIGJ1OiBudWxsLFxuICAgIHU6IG51bGwsXG4gICAgdW06IG51bGwsXG4gICAgYnVtOiBudWxsLFxuICAgIGRhOiBudWxsLFxuICAgIGE6IG51bGwsXG4gICAgcnRnOiBudWxsLFxuICAgIHJ0YzogbnVsbCxcbiAgICBlYzogbnVsbCxcbiAgICBzcDogbnVsbFxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmN0eCA9IGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcbiAgfVxuICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcbiAgaW5zdGFuY2UuZW1pdCA9IGVtaXQuYmluZChudWxsLCBpbnN0YW5jZSk7XG4gIGlmICh2bm9kZS5jZSkge1xuICAgIHZub2RlLmNlKGluc3RhbmNlKTtcbiAgfVxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5sZXQgY3VycmVudEluc3RhbmNlID0gbnVsbDtcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG5sZXQgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2U7XG5sZXQgc2V0SW5TU1JTZXR1cFN0YXRlO1xue1xuICBjb25zdCBnID0gZ2V0R2xvYmFsVGhpcygpO1xuICBjb25zdCByZWdpc3Rlckdsb2JhbFNldHRlciA9IChrZXksIHNldHRlcikgPT4ge1xuICAgIGxldCBzZXR0ZXJzO1xuICAgIGlmICghKHNldHRlcnMgPSBnW2tleV0pKSBzZXR0ZXJzID0gZ1trZXldID0gW107XG4gICAgc2V0dGVycy5wdXNoKHNldHRlcik7XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICBpZiAoc2V0dGVycy5sZW5ndGggPiAxKSBzZXR0ZXJzLmZvckVhY2goKHNldCkgPT4gc2V0KHYpKTtcbiAgICAgIGVsc2Ugc2V0dGVyc1swXSh2KTtcbiAgICB9O1xuICB9O1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9JTlNUQU5DRV9TRVRURVJTX19gLFxuICAgICh2KSA9PiBjdXJyZW50SW5zdGFuY2UgPSB2XG4gICk7XG4gIHNldEluU1NSU2V0dXBTdGF0ZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9TU1JfU0VUVEVSU19fYCxcbiAgICAodikgPT4gaXNJblNTUkNvbXBvbmVudFNldHVwID0gdlxuICApO1xufVxuY29uc3Qgc2V0Q3VycmVudEluc3RhbmNlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShwcmV2KTtcbiAgfTtcbn07XG5jb25zdCB1bnNldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IHtcbiAgY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XG59O1xuY29uc3QgaXNCdWlsdEluVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXCJzbG90LGNvbXBvbmVudFwiKTtcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCB7IGlzTmF0aXZlVGFnIH0pIHtcbiAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBpc05hdGl2ZVRhZyhuYW1lKSkge1xuICAgIHdhcm4kMShcbiAgICAgIFwiRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogXCIgKyBuYW1lXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNDtcbn1cbmxldCBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkge1xuICBpc1NTUiAmJiBzZXRJblNTUlNldHVwU3RhdGUoaXNTU1IpO1xuICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XG4gIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgaW5pdFByb3BzKGluc3RhbmNlLCBwcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IpO1xuICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICBjb25zdCBzZXR1cFJlc3VsdCA9IGlzU3RhdGVmdWwgPyBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikgOiB2b2lkIDA7XG4gIGlzU1NSICYmIHNldEluU1NSU2V0dXBTdGF0ZShmYWxzZSk7XG4gIHJldHVybiBzZXR1cFJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcbiAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShDb21wb25lbnQubmFtZSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmNvbXBvbmVudHMpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmNvbXBvbmVudHMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZXNbaV0sIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5kaXJlY3RpdmVzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5jb21waWxlck9wdGlvbnMgJiYgaXNSdW50aW1lT25seSgpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBcImNvbXBpbGVyT3B0aW9uc1wiIGlzIG9ubHkgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUgdGhhdCBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlci4gU2luY2UgeW91IGFyZSB1c2luZyBhIHJ1bnRpbWUtb25seSBidWlsZCwgdGhlIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgeW91ciBidWlsZCB0b29sIGNvbmZpZyBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGluc3RhbmNlLnByb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gIH1cbiAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xuICBpZiAoc2V0dXApIHtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gaW5zdGFuY2Uuc2V0dXBDb250ZXh0ID0gc2V0dXAubGVuZ3RoID4gMSA/IGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkgOiBudWxsO1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhcbiAgICAgIHNldHVwLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICAwLFxuICAgICAgW1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnByb3BzKSA6IGluc3RhbmNlLnByb3BzLFxuICAgICAgICBzZXR1cENvbnRleHRcbiAgICAgIF1cbiAgICApO1xuICAgIGNvbnN0IGlzQXN5bmNTZXR1cCA9IGlzUHJvbWlzZShzZXR1cFJlc3VsdCk7XG4gICAgcmVzZXRUcmFja2luZygpO1xuICAgIHJlc2V0KCk7XG4gICAgaWYgKChpc0FzeW5jU2V0dXAgfHwgaW5zdGFuY2Uuc3ApICYmICFpc0FzeW5jV3JhcHBlcihpbnN0YW5jZSkpIHtcbiAgICAgIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNTZXR1cCkge1xuICAgICAgc2V0dXBSZXN1bHQudGhlbih1bnNldEN1cnJlbnRJbnN0YW5jZSwgdW5zZXRDdXJyZW50SW5zdGFuY2UpO1xuICAgICAgaWYgKGlzU1NSKSB7XG4gICAgICAgIHJldHVybiBzZXR1cFJlc3VsdC50aGVuKChyZXNvbHZlZFJlc3VsdCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCByZXNvbHZlZFJlc3VsdCwgaXNTU1IpO1xuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaW5zdGFuY2Uuc3VzcGVuc2UpIHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gKF9hID0gQ29tcG9uZW50Lm5hbWUpICE9IG51bGwgPyBfYSA6IFwiQW5vbnltb3VzXCI7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCA8JHtuYW1lfT46IHNldHVwIGZ1bmN0aW9uIHJldHVybmVkIGEgcHJvbWlzZSwgYnV0IG5vIDxTdXNwZW5zZT4gYm91bmRhcnkgd2FzIGZvdW5kIGluIHRoZSBwYXJlbnQgY29tcG9uZW50IHRyZWUuIEEgY29tcG9uZW50IHdpdGggYXN5bmMgc2V0dXAoKSBtdXN0IGJlIG5lc3RlZCBpbiBhIDxTdXNwZW5zZT4gaW4gb3JkZXIgdG8gYmUgcmVuZGVyZWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcbiAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19zc3JJbmxpbmVSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnNzclJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICB3YXJuJDEoXG4gICAgICBgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiBzZXR1cFJlc3VsdH1gXG4gICAgKTtcbiAgfVxuICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xufVxubGV0IGNvbXBpbGU7XG5sZXQgaW5zdGFsbFdpdGhQcm94eTtcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XG4gIGNvbXBpbGUgPSBfY29tcGlsZTtcbiAgaW5zdGFsbFdpdGhQcm94eSA9IChpKSA9PiB7XG4gICAgaWYgKGkucmVuZGVyLl9yYykge1xuICAgICAgaS53aXRoUHJveHkgPSBuZXcgUHJveHkoaS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gICAgfVxuICB9O1xufVxuY29uc3QgaXNSdW50aW1lT25seSA9ICgpID0+ICFjb21waWxlO1xuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSLCBza2lwT3B0aW9ucykge1xuICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xuICAgIGlmICghaXNTU1IgJiYgY29tcGlsZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSBDb21wb25lbnQudGVtcGxhdGUgfHwgX19WVUVfT1BUSU9OU19BUElfXyAmJiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkudGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XG4gICAgICAgIGNvbnN0IHsgZGVsaW1pdGVycywgY29tcGlsZXJPcHRpb25zOiBjb21wb25lbnRDb21waWxlck9wdGlvbnMgfSA9IENvbXBvbmVudDtcbiAgICAgICAgY29uc3QgZmluYWxDb21waWxlck9wdGlvbnMgPSBleHRlbmQoXG4gICAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQsXG4gICAgICAgICAgICAgIGRlbGltaXRlcnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21waWxlck9wdGlvbnNcbiAgICAgICAgICApLFxuICAgICAgICAgIGNvbXBvbmVudENvbXBpbGVyT3B0aW9uc1xuICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZSh0ZW1wbGF0ZSwgZmluYWxDb21waWxlck9wdGlvbnMpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyID0gQ29tcG9uZW50LnJlbmRlciB8fCBOT09QO1xuICAgIGlmIChpbnN0YWxsV2l0aFByb3h5KSB7XG4gICAgICBpbnN0YWxsV2l0aFByb3h5KGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgdHJ1ZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgdHJ5IHtcbiAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcbiAgICBpZiAoIWNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybiQxKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb246IGAsIENvbXBvbmVudCk7XG4gICAgfVxuICB9XG59XG5jb25zdCBhdHRyc1Byb3h5SGFuZGxlcnMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9LFxuICBzZXQoKSB7XG4gICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBkZWxldGVQcm9wZXJ0eSgpIHtcbiAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0gOiB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0U2xvdHNQcm94eShpbnN0YW5jZSkge1xuICByZXR1cm4gbmV3IFByb3h5KGluc3RhbmNlLnNsb3RzLCB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCBleHBvc2UgPSAoZXhwb3NlZCkgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgICB3YXJuJDEoYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xuICAgICAgfVxuICAgICAgaWYgKGV4cG9zZWQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgZXhwb3NlZFR5cGUgPSB0eXBlb2YgZXhwb3NlZDtcbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZWYoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJyZWZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGV4cG9zZSgpIHNob3VsZCBiZSBwYXNzZWQgYSBwbGFpbiBvYmplY3QsIHJlY2VpdmVkICR7ZXhwb3NlZFR5cGV9LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmV4cG9zZWQgPSBleHBvc2VkIHx8IHt9O1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGxldCBhdHRyc1Byb3h5O1xuICAgIGxldCBzbG90c1Byb3h5O1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzUHJveHkgfHwgKGF0dHJzUHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIGF0dHJzUHJveHlIYW5kbGVycykpO1xuICAgICAgfSxcbiAgICAgIGdldCBzbG90cygpIHtcbiAgICAgICAgcmV0dXJuIHNsb3RzUHJveHkgfHwgKHNsb3RzUHJveHkgPSBnZXRTbG90c1Byb3h5KGluc3RhbmNlKSk7XG4gICAgICB9LFxuICAgICAgZ2V0IGVtaXQoKSB7XG4gICAgICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IGluc3RhbmNlLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgfSxcbiAgICAgIGV4cG9zZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRyczogbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRyc1Byb3h5SGFuZGxlcnMpLFxuICAgICAgc2xvdHM6IGluc3RhbmNlLnNsb3RzLFxuICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcbiAgICAgIGV4cG9zZVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIGlmIChpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmV4cG9zZVByb3h5IHx8IChpbnN0YW5jZS5leHBvc2VQcm94eSA9IG5ldyBQcm94eShwcm94eVJlZnMobWFya1JhdyhpbnN0YW5jZS5leHBvc2VkKSksIHtcbiAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgaW4gcHVibGljUHJvcGVydGllc01hcCkge1xuICAgICAgICAgIHJldHVybiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgaW4gdGFyZ2V0IHx8IGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG4gIH1cbn1cbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XG5jb25zdCBjbGFzc2lmeSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKGNsYXNzaWZ5UkUsIChjKSA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgXCJcIik7XG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCwgaW5jbHVkZUluZmVycmVkID0gdHJ1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbihDb21wb25lbnQpID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIDogQ29tcG9uZW50Lm5hbWUgfHwgaW5jbHVkZUluZmVycmVkICYmIENvbXBvbmVudC5fX25hbWU7XG59XG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XG4gIGxldCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQpO1xuICBpZiAoIW5hbWUgJiYgQ29tcG9uZW50Ll9fZmlsZSkge1xuICAgIGNvbnN0IG1hdGNoID0gQ29tcG9uZW50Ll9fZmlsZS5tYXRjaCgvKFteL1xcXFxdKylcXC5cXHcrJC8pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgbmFtZSA9IG1hdGNoWzFdO1xuICAgIH1cbiAgfVxuICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XG4gICAgY29uc3QgaW5mZXJGcm9tUmVnaXN0cnkgPSAocmVnaXN0cnkpID0+IHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XG4gICAgICAgIGlmIChyZWdpc3RyeVtrZXldID09PSBDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBuYW1lID0gaW5mZXJGcm9tUmVnaXN0cnkoXG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRzIHx8IGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHNcbiAgICApIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XG4gIH1cbiAgcmV0dXJuIG5hbWUgPyBjbGFzc2lmeShuYW1lKSA6IGlzUm9vdCA/IGBBcHBgIDogYEFub255bW91c2A7XG59XG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSAmJiBcIl9fdmNjT3B0c1wiIGluIHZhbHVlO1xufVxuXG5jb25zdCBjb21wdXRlZCA9IChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucykgPT4ge1xuICBjb25zdCBjID0gY29tcHV0ZWQkMShnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNJblNTUkNvbXBvbmVudFNldHVwKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKGkgJiYgaS5hcHBDb250ZXh0LmNvbmZpZy53YXJuUmVjdXJzaXZlQ29tcHV0ZWQpIHtcbiAgICAgIGMuX3dhcm5SZWN1cnNpdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYztcbn07XG5cbmZ1bmN0aW9uIGgodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbikge1xuICBjb25zdCBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKGwgPT09IDIpIHtcbiAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICBpZiAoaXNWTm9kZShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChsID4gMykge1xuICAgICAgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIH0gZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xuICAgICAgY2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEN1c3RvbUZvcm1hdHRlcigpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiMzYmE3NzZcIiB9O1xuICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzE2NzdmZlwiIH07XG4gIGNvbnN0IHN0cmluZ1N0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZjUyMjJkXCIgfTtcbiAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZWIyZjk2XCIgfTtcbiAgY29uc3QgZm9ybWF0dGVyID0ge1xuICAgIF9fdnVlX2N1c3RvbV9mb3JtYXR0ZXI6IHRydWUsXG4gICAgaGVhZGVyKG9iaikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXCJkaXZcIiwgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlZihvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIC8vIGF2b2lkIGRlYnVnZ2VyIGFjY2Vzc2luZyB2YWx1ZSBhZmZlY3RpbmcgYmVoYXZpb3JcbiAgICAgICAgICBmb3JtYXRWYWx1ZShcIl92YWx1ZVwiIGluIG9iaiA/IG9iai5fdmFsdWUgOiBvYmopLFxuICAgICAgICAgIGA+YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhY3RpdmVcIiA6IFwiUmVhY3RpdmVcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcbiAgICAgICAgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/IFwiU2hhbGxvd1JlYWRvbmx5XCIgOiBcIlJlYWRvbmx5XCJdLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgXCI+XCJcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgaGFzQm9keShvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XG4gICAgfSxcbiAgICBib2R5KG9iaikge1xuICAgICAgaWYgKG9iaiAmJiBvYmouX19pc1Z1ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwicHJvcHNcIiwgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJzZXR1cFwiLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJkYXRhXCIsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsIFwiY29tcHV0ZWRcIik7XG4gICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiY29tcHV0ZWRcIiwgY29tcHV0ZWQpKTtcbiAgICB9XG4gICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJpbmplY3RcIik7XG4gICAgaWYgKGluamVjdGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiaW5qZWN0ZWRcIiwgaW5qZWN0ZWQpKTtcbiAgICB9XG4gICAgYmxvY2tzLnB1c2goW1xuICAgICAgXCJkaXZcIixcbiAgICAgIHt9LFxuICAgICAgW1xuICAgICAgICBcInNwYW5cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyBcIjtvcGFjaXR5OjAuNjZcIlxuICAgICAgICB9LFxuICAgICAgICBcIiQgKGludGVybmFsKTogXCJcbiAgICAgIF0sXG4gICAgICBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGluc3RhbmNlIH1dXG4gICAgXSk7XG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUJsb2NrKHR5cGUsIHRhcmdldCkge1xuICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCB7fV07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdHlsZTogXCJsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbVwiIH0sXG4gICAgICBbXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogXCJjb2xvcjojNDc2NTgyXCJcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcInBhZGRpbmctbGVmdDoxLjI1ZW1cIlxuICAgICAgICB9LFxuICAgICAgICAuLi5PYmplY3Qua2V5cyh0YXJnZXQpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIFtcInNwYW5cIiwga2V5d29yZFN0eWxlLCBrZXkgKyBcIjogXCJdLFxuICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxuICAgICAgICAgIF07XG4gICAgICAgIH0pXG4gICAgICBdXG4gICAgXTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIG51bWJlclN0eWxlLCB2XTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgSlNPTi5zdHJpbmdpZnkodildO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgIHJldHVybiBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXh0cmFjdEtleXMoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAoaXNGdW5jdGlvbihDb21wKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcbiAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XG4gICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHRyYWN0ZWQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XG4gICAgY29uc3Qgb3B0cyA9IENvbXBbdHlwZV07XG4gICAgaWYgKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpIHx8IGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZSgobSkgPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcbiAgICBpZiAoaXNTaGFsbG93KHYpKSB7XG4gICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xuICAgIH1cbiAgICBpZiAodi5lZmZlY3QpIHtcbiAgICAgIHJldHVybiBgQ29tcHV0ZWRSZWZgO1xuICAgIH1cbiAgICByZXR1cm4gYFJlZmA7XG4gIH1cbiAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XG4gIH1cbn1cblxuZnVuY3Rpb24gd2l0aE1lbW8obWVtbywgcmVuZGVyLCBjYWNoZSwgaW5kZXgpIHtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGVbaW5kZXhdO1xuICBpZiAoY2FjaGVkICYmIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmV0ID0gcmVuZGVyKCk7XG4gIHJldC5tZW1vID0gbWVtby5zbGljZSgpO1xuICByZXQuY2FjaGVJbmRleCA9IGluZGV4O1xuICByZXR1cm4gY2FjaGVbaW5kZXhdID0gcmV0O1xufVxuZnVuY3Rpb24gaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pIHtcbiAgY29uc3QgcHJldiA9IGNhY2hlZC5tZW1vO1xuICBpZiAocHJldi5sZW5ndGggIT0gbWVtby5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgbWVtb1tpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2goY2FjaGVkKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgdmVyc2lvbiA9IFwiMy41LjEzXCI7XG5jb25zdCB3YXJuID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHdhcm4kMSA6IE5PT1A7XG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0gRXJyb3JUeXBlU3RyaW5ncyQxIDtcbmNvbnN0IGRldnRvb2xzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gZGV2dG9vbHMkMSA6IHZvaWQgMDtcbmNvbnN0IHNldERldnRvb2xzSG9vayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHJ1ZSA/IHNldERldnRvb2xzSG9vayQxIDogTk9PUDtcbmNvbnN0IF9zc3JVdGlscyA9IHtcbiAgY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UsXG4gIHNldHVwQ29tcG9uZW50LFxuICByZW5kZXJDb21wb25lbnRSb290LFxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsXG4gIGlzVk5vZGU6IGlzVk5vZGUsXG4gIG5vcm1hbGl6ZVZOb2RlLFxuICBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSxcbiAgZW5zdXJlVmFsaWRWTm9kZSxcbiAgcHVzaFdhcm5pbmdDb250ZXh0LFxuICBwb3BXYXJuaW5nQ29udGV4dFxufTtcbmNvbnN0IHNzclV0aWxzID0gX3NzclV0aWxzIDtcbmNvbnN0IHJlc29sdmVGaWx0ZXIgPSBudWxsO1xuY29uc3QgY29tcGF0VXRpbHMgPSBudWxsO1xuY29uc3QgRGVwcmVjYXRpb25UeXBlcyA9IG51bGw7XG5cbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgQ29tbWVudCwgRGVwcmVjYXRpb25UeXBlcywgRXJyb3JDb2RlcywgRXJyb3JUeXBlU3RyaW5ncywgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGFzc2VydE51bWJlciwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGNhbGxXaXRoRXJyb3JIYW5kbGluZywgY2xvbmVWTm9kZSwgY29tcGF0VXRpbHMsIGNvbXB1dGVkLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJhc2VWTm9kZSBhcyBjcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVQcm9wc1Jlc3RQcm94eSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNsb3RzLCBjcmVhdGVTdGF0aWNWTm9kZSwgY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVWTm9kZSwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lRW1pdHMsIGRlZmluZUV4cG9zZSwgZGVmaW5lTW9kZWwsIGRlZmluZU9wdGlvbnMsIGRlZmluZVByb3BzLCBkZWZpbmVTbG90cywgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBndWFyZFJlYWN0aXZlUHJvcHMsIGgsIGhhbmRsZUVycm9yLCBoYXNJbmplY3Rpb25Db250ZXh0LCBoeWRyYXRlT25JZGxlLCBoeWRyYXRlT25JbnRlcmFjdGlvbiwgaHlkcmF0ZU9uTWVkaWFRdWVyeSwgaHlkcmF0ZU9uVmlzaWJsZSwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZURlZmF1bHRzLCBtZXJnZU1vZGVscywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQXR0cnMsIHVzZUlkLCB1c2VNb2RlbCwgdXNlU1NSQ29udGV4dCwgdXNlU2xvdHMsIHVzZVRlbXBsYXRlUmVmLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2F0Y2hQb3N0RWZmZWN0LCB3YXRjaFN5bmNFZmZlY3QsIHdpdGhBc3luY0NvbnRleHQsIHdpdGhDdHgsIHdpdGhEZWZhdWx0cywgd2l0aERpcmVjdGl2ZXMsIHdpdGhNZW1vLCB3aXRoU2NvcGVJZCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1kb20gdjMuNS4xM1xuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuaW1wb3J0IHsgd2FybiwgaCwgQmFzZVRyYW5zaXRpb24sIGFzc2VydE51bWJlciwgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25CZWZvcmVVcGRhdGUsIHF1ZXVlUG9zdEZsdXNoQ2IsIG9uTW91bnRlZCwgd2F0Y2gsIG9uVW5tb3VudGVkLCBGcmFnbWVudCwgU3RhdGljLCBjYW1lbGl6ZSwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGRlZmluZUNvbXBvbmVudCwgbmV4dFRpY2ssIHVucmVmLCBjcmVhdGVWTm9kZSwgdXNlVHJhbnNpdGlvblN0YXRlLCBvblVwZGF0ZWQsIHRvUmF3LCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIHNldFRyYW5zaXRpb25Ib29rcywgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgVGV4dCwgaXNSdW50aW1lT25seSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgZXh0ZW5kLCBpc09iamVjdCwgdG9OdW1iZXIsIGlzQXJyYXksIE5PT1AsIGlzU3RyaW5nLCBoeXBoZW5hdGUsIGNhcGl0YWxpemUsIGluY2x1ZGVCb29sZWFuQXR0ciwgaXNTeW1ib2wsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc0Z1bmN0aW9uLCBpc09uLCBpc01vZGVsTGlzdGVuZXIsIGNhbWVsaXplIGFzIGNhbWVsaXplJDEsIGlzUGxhaW5PYmplY3QsIGhhc093biwgRU1QVFlfT0JKLCBsb29zZVRvTnVtYmVyLCBsb29zZUluZGV4T2YsIGlzU2V0LCBsb29zZUVxdWFsLCBpbnZva2VBcnJheUZucywgaXNIVE1MVGFnLCBpc1NWR1RhZywgaXNNYXRoTUxUYWcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmxldCBwb2xpY3kgPSB2b2lkIDA7XG5jb25zdCB0dCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LnRydXN0ZWRUeXBlcztcbmlmICh0dCkge1xuICB0cnkge1xuICAgIHBvbGljeSA9IC8qIEBfX1BVUkVfXyAqLyB0dC5jcmVhdGVQb2xpY3koXCJ2dWVcIiwge1xuICAgICAgY3JlYXRlSFRNTDogKHZhbCkgPT4gdmFsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEVycm9yIGNyZWF0aW5nIHRydXN0ZWQgdHlwZXMgcG9saWN5OiAke2V9YCk7XG4gIH1cbn1cbmNvbnN0IHVuc2FmZVRvVHJ1c3RlZEhUTUwgPSBwb2xpY3kgPyAodmFsKSA9PiBwb2xpY3kuY3JlYXRlSFRNTCh2YWwpIDogKHZhbCkgPT4gdmFsO1xuY29uc3Qgc3ZnTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5jb25zdCBtYXRobWxOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiO1xuY29uc3QgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gZG9jdW1lbnQgOiBudWxsO1xuY29uc3QgdGVtcGxhdGVDb250YWluZXIgPSBkb2MgJiYgLyogQF9fUFVSRV9fICovIGRvYy5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG5jb25zdCBub2RlT3BzID0ge1xuICBpbnNlcnQ6IChjaGlsZCwgcGFyZW50LCBhbmNob3IpID0+IHtcbiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBhbmNob3IgfHwgbnVsbCk7XG4gIH0sXG4gIHJlbW92ZTogKGNoaWxkKSA9PiB7XG4gICAgY29uc3QgcGFyZW50ID0gY2hpbGQucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlRWxlbWVudDogKHRhZywgbmFtZXNwYWNlLCBpcywgcHJvcHMpID0+IHtcbiAgICBjb25zdCBlbCA9IG5hbWVzcGFjZSA9PT0gXCJzdmdcIiA/IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIHRhZykgOiBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgPyBkb2MuY3JlYXRlRWxlbWVudE5TKG1hdGhtbE5TLCB0YWcpIDogaXMgPyBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIHsgaXMgfSkgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGlmICh0YWcgPT09IFwic2VsZWN0XCIgJiYgcHJvcHMgJiYgcHJvcHMubXVsdGlwbGUgIT0gbnVsbCkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFwibXVsdGlwbGVcIiwgcHJvcHMubXVsdGlwbGUpO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sXG4gIGNyZWF0ZVRleHQ6ICh0ZXh0KSA9PiBkb2MuY3JlYXRlVGV4dE5vZGUodGV4dCksXG4gIGNyZWF0ZUNvbW1lbnQ6ICh0ZXh0KSA9PiBkb2MuY3JlYXRlQ29tbWVudCh0ZXh0KSxcbiAgc2V0VGV4dDogKG5vZGUsIHRleHQpID0+IHtcbiAgICBub2RlLm5vZGVWYWx1ZSA9IHRleHQ7XG4gIH0sXG4gIHNldEVsZW1lbnRUZXh0OiAoZWwsIHRleHQpID0+IHtcbiAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH0sXG4gIHBhcmVudE5vZGU6IChub2RlKSA9PiBub2RlLnBhcmVudE5vZGUsXG4gIG5leHRTaWJsaW5nOiAobm9kZSkgPT4gbm9kZS5uZXh0U2libGluZyxcbiAgcXVlcnlTZWxlY3RvcjogKHNlbGVjdG9yKSA9PiBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXG4gIHNldFNjb3BlSWQoZWwsIGlkKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKGlkLCBcIlwiKTtcbiAgfSxcbiAgLy8gX19VTlNBRkVfX1xuICAvLyBSZWFzb246IGlubmVySFRNTC5cbiAgLy8gU3RhdGljIGNvbnRlbnQgaGVyZSBjYW4gb25seSBjb21lIGZyb20gY29tcGlsZWQgdGVtcGxhdGVzLlxuICAvLyBBcyBsb25nIGFzIHRoZSB1c2VyIG9ubHkgdXNlcyB0cnVzdGVkIHRlbXBsYXRlcywgdGhpcyBpcyBzYWZlLlxuICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBuYW1lc3BhY2UsIHN0YXJ0LCBlbmQpIHtcbiAgICBjb25zdCBiZWZvcmUgPSBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZDtcbiAgICBpZiAoc3RhcnQgJiYgKHN0YXJ0ID09PSBlbmQgfHwgc3RhcnQubmV4dFNpYmxpbmcpKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHN0YXJ0LmNsb25lTm9kZSh0cnVlKSwgYW5jaG9yKTtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQgfHwgIShzdGFydCA9IHN0YXJ0Lm5leHRTaWJsaW5nKSkgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBsYXRlQ29udGFpbmVyLmlubmVySFRNTCA9IHVuc2FmZVRvVHJ1c3RlZEhUTUwoXG4gICAgICAgIG5hbWVzcGFjZSA9PT0gXCJzdmdcIiA/IGA8c3ZnPiR7Y29udGVudH08L3N2Zz5gIDogbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiID8gYDxtYXRoPiR7Y29udGVudH08L21hdGg+YCA6IGNvbnRlbnRcbiAgICAgICk7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ29udGFpbmVyLmNvbnRlbnQ7XG4gICAgICBpZiAobmFtZXNwYWNlID09PSBcInN2Z1wiIHx8IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIikge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gdGVtcGxhdGUuZmlyc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKHdyYXBwZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIHRlbXBsYXRlLmFwcGVuZENoaWxkKHdyYXBwZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUucmVtb3ZlQ2hpbGQod3JhcHBlcik7XG4gICAgICB9XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHRlbXBsYXRlLCBhbmNob3IpO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgLy8gZmlyc3RcbiAgICAgIGJlZm9yZSA/IGJlZm9yZS5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkLFxuICAgICAgLy8gbGFzdFxuICAgICAgYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGRcbiAgICBdO1xuICB9XG59O1xuXG5jb25zdCBUUkFOU0lUSU9OID0gXCJ0cmFuc2l0aW9uXCI7XG5jb25zdCBBTklNQVRJT04gPSBcImFuaW1hdGlvblwiO1xuY29uc3QgdnRjS2V5ID0gU3ltYm9sKFwiX3Z0Y1wiKTtcbmNvbnN0IERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XG4gIG5hbWU6IFN0cmluZyxcbiAgdHlwZTogU3RyaW5nLFxuICBjc3M6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgZHVyYXRpb246IFtTdHJpbmcsIE51bWJlciwgT2JqZWN0XSxcbiAgZW50ZXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICBlbnRlclRvQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGFwcGVhclRvQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVGcm9tQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxuICBsZWF2ZVRvQ2xhc3M6IFN0cmluZ1xufTtcbmNvbnN0IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKFxuICB7fSxcbiAgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsXG4gIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnNcbik7XG5jb25zdCBkZWNvcmF0ZSQxID0gKHQpID0+IHtcbiAgdC5kaXNwbGF5TmFtZSA9IFwiVHJhbnNpdGlvblwiO1xuICB0LnByb3BzID0gVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycztcbiAgcmV0dXJuIHQ7XG59O1xuY29uc3QgVHJhbnNpdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBkZWNvcmF0ZSQxKFxuICAocHJvcHMsIHsgc2xvdHMgfSkgPT4gaChCYXNlVHJhbnNpdGlvbiwgcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhwcm9wcyksIHNsb3RzKVxuKTtcbmNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MgPSBbXSkgPT4ge1xuICBpZiAoaXNBcnJheShob29rKSkge1xuICAgIGhvb2suZm9yRWFjaCgoaDIpID0+IGgyKC4uLmFyZ3MpKTtcbiAgfSBlbHNlIGlmIChob29rKSB7XG4gICAgaG9vayguLi5hcmdzKTtcbiAgfVxufTtcbmNvbnN0IGhhc0V4cGxpY2l0Q2FsbGJhY2sgPSAoaG9vaykgPT4ge1xuICByZXR1cm4gaG9vayA/IGlzQXJyYXkoaG9vaykgPyBob29rLnNvbWUoKGgyKSA9PiBoMi5sZW5ndGggPiAxKSA6IGhvb2subGVuZ3RoID4gMSA6IGZhbHNlO1xufTtcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcbiAgY29uc3QgYmFzZVByb3BzID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgaWYgKCEoa2V5IGluIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMpKSB7XG4gICAgICBiYXNlUHJvcHNba2V5XSA9IHJhd1Byb3BzW2tleV07XG4gICAgfVxuICB9XG4gIGlmIChyYXdQcm9wcy5jc3MgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGJhc2VQcm9wcztcbiAgfVxuICBjb25zdCB7XG4gICAgbmFtZSA9IFwidlwiLFxuICAgIHR5cGUsXG4gICAgZHVyYXRpb24sXG4gICAgZW50ZXJGcm9tQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1mcm9tYCxcbiAgICBlbnRlckFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tZW50ZXItYWN0aXZlYCxcbiAgICBlbnRlclRvQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci10b2AsXG4gICAgYXBwZWFyRnJvbUNsYXNzID0gZW50ZXJGcm9tQ2xhc3MsXG4gICAgYXBwZWFyQWN0aXZlQ2xhc3MgPSBlbnRlckFjdGl2ZUNsYXNzLFxuICAgIGFwcGVhclRvQ2xhc3MgPSBlbnRlclRvQ2xhc3MsXG4gICAgbGVhdmVGcm9tQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1mcm9tYCxcbiAgICBsZWF2ZUFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtYWN0aXZlYCxcbiAgICBsZWF2ZVRvQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS10b2BcbiAgfSA9IHJhd1Byb3BzO1xuICBjb25zdCBkdXJhdGlvbnMgPSBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbik7XG4gIGNvbnN0IGVudGVyRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzBdO1xuICBjb25zdCBsZWF2ZUR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1sxXTtcbiAgY29uc3Qge1xuICAgIG9uQmVmb3JlRW50ZXIsXG4gICAgb25FbnRlcixcbiAgICBvbkVudGVyQ2FuY2VsbGVkLFxuICAgIG9uTGVhdmUsXG4gICAgb25MZWF2ZUNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUFwcGVhciA9IG9uQmVmb3JlRW50ZXIsXG4gICAgb25BcHBlYXIgPSBvbkVudGVyLFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkID0gb25FbnRlckNhbmNlbGxlZFxuICB9ID0gYmFzZVByb3BzO1xuICBjb25zdCBmaW5pc2hFbnRlciA9IChlbCwgaXNBcHBlYXIsIGRvbmUsIGlzQ2FuY2VsbGVkKSA9PiB7XG4gICAgZWwuX2VudGVyQ2FuY2VsbGVkID0gaXNDYW5jZWxsZWQ7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgIGRvbmUgJiYgZG9uZSgpO1xuICB9O1xuICBjb25zdCBmaW5pc2hMZWF2ZSA9IChlbCwgZG9uZSkgPT4ge1xuICAgIGVsLl9pc0xlYXZpbmcgPSBmYWxzZTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICBkb25lICYmIGRvbmUoKTtcbiAgfTtcbiAgY29uc3QgbWFrZUVudGVySG9vayA9IChpc0FwcGVhcikgPT4ge1xuICAgIHJldHVybiAoZWwsIGRvbmUpID0+IHtcbiAgICAgIGNvbnN0IGhvb2sgPSBpc0FwcGVhciA/IG9uQXBwZWFyIDogb25FbnRlcjtcbiAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hFbnRlcihlbCwgaXNBcHBlYXIsIGRvbmUpO1xuICAgICAgY2FsbEhvb2soaG9vaywgW2VsLCByZXNvbHZlXSk7XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgICAgIGlmICghaGFzRXhwbGljaXRDYWxsYmFjayhob29rKSkge1xuICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgZW50ZXJEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG4gIHJldHVybiBleHRlbmQoYmFzZVByb3BzLCB7XG4gICAgb25CZWZvcmVFbnRlcihlbCkge1xuICAgICAgY2FsbEhvb2sob25CZWZvcmVFbnRlciwgW2VsXSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyRnJvbUNsYXNzKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgfSxcbiAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xuICAgICAgY2FsbEhvb2sob25CZWZvcmVBcHBlYXIsIFtlbF0pO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJGcm9tQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XG4gICAgfSxcbiAgICBvbkVudGVyOiBtYWtlRW50ZXJIb29rKGZhbHNlKSxcbiAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcbiAgICBvbkxlYXZlKGVsLCBkb25lKSB7XG4gICAgICBlbC5faXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hMZWF2ZShlbCwgZG9uZSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgIGlmICghZWwuX2VudGVyQ2FuY2VsbGVkKSB7XG4gICAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgICBmb3JjZVJlZmxvdygpO1xuICAgICAgfVxuICAgICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgaWYgKCFlbC5faXNMZWF2aW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgICAgIGlmICghaGFzRXhwbGljaXRDYWxsYmFjayhvbkxlYXZlKSkge1xuICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgbGVhdmVEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZSwgW2VsLCByZXNvbHZlXSk7XG4gICAgfSxcbiAgICBvbkVudGVyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UsIHZvaWQgMCwgdHJ1ZSk7XG4gICAgICBjYWxsSG9vayhvbkVudGVyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICB9LFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICBmaW5pc2hFbnRlcihlbCwgdHJ1ZSwgdm9pZCAwLCB0cnVlKTtcbiAgICAgIGNhbGxIb29rKG9uQXBwZWFyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICB9LFxuICAgIG9uTGVhdmVDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaExlYXZlKGVsKTtcbiAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbikge1xuICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGR1cmF0aW9uKSkge1xuICAgIHJldHVybiBbTnVtYmVyT2YoZHVyYXRpb24uZW50ZXIpLCBOdW1iZXJPZihkdXJhdGlvbi5sZWF2ZSldO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG4gPSBOdW1iZXJPZihkdXJhdGlvbik7XG4gICAgcmV0dXJuIFtuLCBuXTtcbiAgfVxufVxuZnVuY3Rpb24gTnVtYmVyT2YodmFsKSB7XG4gIGNvbnN0IHJlcyA9IHRvTnVtYmVyKHZhbCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYXNzZXJ0TnVtYmVyKHJlcywgXCI8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb25cIik7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XG4gIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgZWwuY2xhc3NMaXN0LmFkZChjKSk7XG4gIChlbFt2dGNLZXldIHx8IChlbFt2dGNLZXldID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSkpLmFkZChjbHMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgY29uc3QgX3Z0YyA9IGVsW3Z0Y0tleV07XG4gIGlmIChfdnRjKSB7XG4gICAgX3Z0Yy5kZWxldGUoY2xzKTtcbiAgICBpZiAoIV92dGMuc2l6ZSkge1xuICAgICAgZWxbdnRjS2V5XSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG5leHRGcmFtZShjYikge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gIH0pO1xufVxubGV0IGVuZElkID0gMDtcbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgZXhwZWN0ZWRUeXBlLCBleHBsaWNpdFRpbWVvdXQsIHJlc29sdmUpIHtcbiAgY29uc3QgaWQgPSBlbC5fZW5kSWQgPSArK2VuZElkO1xuICBjb25zdCByZXNvbHZlSWZOb3RTdGFsZSA9ICgpID0+IHtcbiAgICBpZiAoaWQgPT09IGVsLl9lbmRJZCkge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGV4cGxpY2l0VGltZW91dCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZUlmTm90U3RhbGUsIGV4cGxpY2l0VGltZW91dCk7XG4gIH1cbiAgY29uc3QgeyB0eXBlLCB0aW1lb3V0LCBwcm9wQ291bnQgfSA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpO1xuICBpZiAoIXR5cGUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICB9XG4gIGNvbnN0IGVuZEV2ZW50ID0gdHlwZSArIFwiZW5kXCI7XG4gIGxldCBlbmRlZCA9IDA7XG4gIGNvbnN0IGVuZCA9ICgpID0+IHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG4gICAgcmVzb2x2ZUlmTm90U3RhbGUoKTtcbiAgfTtcbiAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZWwgJiYgKytlbmRlZCA+PSBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH0sIHRpbWVvdXQgKyAxKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSkge1xuICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIGNvbnN0IGdldFN0eWxlUHJvcGVydGllcyA9IChrZXkpID0+IChzdHlsZXNba2V5XSB8fCBcIlwiKS5zcGxpdChcIiwgXCIpO1xuICBjb25zdCB0cmFuc2l0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RGVsYXlgKTtcbiAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfUR1cmF0aW9uYCk7XG4gIGNvbnN0IHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcbiAgY29uc3QgYW5pbWF0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke0FOSU1BVElPTn1EZWxheWApO1xuICBjb25zdCBhbmltYXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfUR1cmF0aW9uYCk7XG4gIGNvbnN0IGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcbiAgbGV0IHR5cGUgPSBudWxsO1xuICBsZXQgdGltZW91dCA9IDA7XG4gIGxldCBwcm9wQ291bnQgPSAwO1xuICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XG4gICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IFRSQU5TSVRJT047XG4gICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcbiAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcbiAgICAgIHR5cGUgPSBBTklNQVRJT047XG4gICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XG4gICAgdHlwZSA9IHRpbWVvdXQgPiAwID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0ID8gVFJBTlNJVElPTiA6IEFOSU1BVElPTiA6IG51bGw7XG4gICAgcHJvcENvdW50ID0gdHlwZSA/IHR5cGUgPT09IFRSQU5TSVRJT04gPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aCA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGggOiAwO1xuICB9XG4gIGNvbnN0IGhhc1RyYW5zZm9ybSA9IHR5cGUgPT09IFRSQU5TSVRJT04gJiYgL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLy50ZXN0KFxuICAgIGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfVByb3BlcnR5YCkudG9TdHJpbmcoKVxuICApO1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgdGltZW91dCxcbiAgICBwcm9wQ291bnQsXG4gICAgaGFzVHJhbnNmb3JtXG4gIH07XG59XG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xufVxuZnVuY3Rpb24gdG9NcyhzKSB7XG4gIGlmIChzID09PSBcImF1dG9cIikgcmV0dXJuIDA7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZShcIixcIiwgXCIuXCIpKSAqIDFlMztcbn1cbmZ1bmN0aW9uIGZvcmNlUmVmbG93KCkge1xuICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIHBhdGNoQ2xhc3MoZWwsIHZhbHVlLCBpc1NWRykge1xuICBjb25zdCB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsW3Z0Y0tleV07XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcykge1xuICAgIHZhbHVlID0gKHZhbHVlID8gW3ZhbHVlLCAuLi50cmFuc2l0aW9uQ2xhc3Nlc10gOiBbLi4udHJhbnNpdGlvbkNsYXNzZXNdKS5qb2luKFwiIFwiKTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICB9IGVsc2UgaWYgKGlzU1ZHKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IHZTaG93T3JpZ2luYWxEaXNwbGF5ID0gU3ltYm9sKFwiX3ZvZFwiKTtcbmNvbnN0IHZTaG93SGlkZGVuID0gU3ltYm9sKFwiX3ZzaFwiKTtcbmNvbnN0IHZTaG93ID0ge1xuICBiZWZvcmVNb3VudChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA9IGVsLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGVsLnN0eWxlLmRpc3BsYXk7XG4gICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBtb3VudGVkKGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpIHJldHVybjtcbiAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICBzZXREaXNwbGF5KGVsLCB0cnVlKTtcbiAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uLmxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgc2V0RGlzcGxheShlbCwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgYmVmb3JlVW5tb3VudChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICB9XG59O1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgdlNob3cubmFtZSA9IFwic2hvd1wiO1xufVxuZnVuY3Rpb24gc2V0RGlzcGxheShlbCwgdmFsdWUpIHtcbiAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWxbdlNob3dPcmlnaW5hbERpc3BsYXldIDogXCJub25lXCI7XG4gIGVsW3ZTaG93SGlkZGVuXSA9ICF2YWx1ZTtcbn1cbmZ1bmN0aW9uIGluaXRWU2hvd0ZvclNTUigpIHtcbiAgdlNob3cuZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgc3R5bGU6IHsgZGlzcGxheTogXCJub25lXCIgfSB9O1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgQ1NTX1ZBUl9URVhUID0gU3ltYm9sKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIkNTU19WQVJfVEVYVFwiIDogXCJcIik7XG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlcikge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGB1c2VDc3NWYXJzIGlzIGNhbGxlZCB3aXRob3V0IGN1cnJlbnQgYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdXBkYXRlVGVsZXBvcnRzID0gaW5zdGFuY2UudXQgPSAodmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSkpID0+IHtcbiAgICBBcnJheS5mcm9tKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtdi1vd25lcj1cIiR7aW5zdGFuY2UudWlkfVwiXWApXG4gICAgKS5mb3JFYWNoKChub2RlKSA9PiBzZXRWYXJzT25Ob2RlKG5vZGUsIHZhcnMpKTtcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbnN0YW5jZS5nZXRDc3NWYXJzID0gKCkgPT4gZ2V0dGVyKGluc3RhbmNlLnByb3h5KTtcbiAgfVxuICBjb25zdCBzZXRWYXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpO1xuICAgIGlmIChpbnN0YW5jZS5jZSkge1xuICAgICAgc2V0VmFyc09uTm9kZShpbnN0YW5jZS5jZSwgdmFycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIHZhcnMpO1xuICAgIH1cbiAgICB1cGRhdGVUZWxlcG9ydHModmFycyk7XG4gIH07XG4gIG9uQmVmb3JlVXBkYXRlKCgpID0+IHtcbiAgICBxdWV1ZVBvc3RGbHVzaENiKHNldFZhcnMpO1xuICB9KTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICB3YXRjaChzZXRWYXJzLCBOT09QLCB7IGZsdXNoOiBcInBvc3RcIiB9KTtcbiAgICBjb25zdCBvYiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHNldFZhcnMpO1xuICAgIG9iLm9ic2VydmUoaW5zdGFuY2Uuc3ViVHJlZS5lbC5wYXJlbnROb2RlLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICBvblVubW91bnRlZCgoKSA9PiBvYi5kaXNjb25uZWN0KCkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNldFZhcnNPblZOb2RlKHZub2RlLCB2YXJzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlO1xuICAgIHZub2RlID0gc3VzcGVuc2UuYWN0aXZlQnJhbmNoO1xuICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcbiAgICAgICAgc2V0VmFyc09uVk5vZGUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCB2YXJzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XG4gICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAmJiB2bm9kZS5lbCkge1xuICAgIHNldFZhcnNPbk5vZGUodm5vZGUuZWwsIHZhcnMpO1xuICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoYykgPT4gc2V0VmFyc09uVk5vZGUoYywgdmFycykpO1xuICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFN0YXRpYykge1xuICAgIGxldCB7IGVsLCBhbmNob3IgfSA9IHZub2RlO1xuICAgIHdoaWxlIChlbCkge1xuICAgICAgc2V0VmFyc09uTm9kZShlbCwgdmFycyk7XG4gICAgICBpZiAoZWwgPT09IGFuY2hvcikgYnJlYWs7XG4gICAgICBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc2V0VmFyc09uTm9kZShlbCwgdmFycykge1xuICBpZiAoZWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgIGxldCBjc3NUZXh0ID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShgLS0ke2tleX1gLCB2YXJzW2tleV0pO1xuICAgICAgY3NzVGV4dCArPSBgLS0ke2tleX06ICR7dmFyc1trZXldfTtgO1xuICAgIH1cbiAgICBzdHlsZVtDU1NfVkFSX1RFWFRdID0gY3NzVGV4dDtcbiAgfVxufVxuXG5jb25zdCBkaXNwbGF5UkUgPSAvKF58OylcXHMqZGlzcGxheVxccyo6LztcbmZ1bmN0aW9uIHBhdGNoU3R5bGUoZWwsIHByZXYsIG5leHQpIHtcbiAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgY29uc3QgaXNDc3NTdHJpbmcgPSBpc1N0cmluZyhuZXh0KTtcbiAgbGV0IGhhc0NvbnRyb2xsZWREaXNwbGF5ID0gZmFsc2U7XG4gIGlmIChuZXh0ICYmICFpc0Nzc1N0cmluZykge1xuICAgIGlmIChwcmV2KSB7XG4gICAgICBpZiAoIWlzU3RyaW5nKHByZXYpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcbiAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmV2U3R5bGUgb2YgcHJldi5zcGxpdChcIjtcIikpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBwcmV2U3R5bGUuc2xpY2UoMCwgcHJldlN0eWxlLmluZGV4T2YoXCI6XCIpKS50cmltKCk7XG4gICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xuICAgICAgaWYgKGtleSA9PT0gXCJkaXNwbGF5XCIpIHtcbiAgICAgICAgaGFzQ29udHJvbGxlZERpc3BsYXkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgbmV4dFtrZXldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzQ3NzU3RyaW5nKSB7XG4gICAgICBpZiAocHJldiAhPT0gbmV4dCkge1xuICAgICAgICBjb25zdCBjc3NWYXJUZXh0ID0gc3R5bGVbQ1NTX1ZBUl9URVhUXTtcbiAgICAgICAgaWYgKGNzc1ZhclRleHQpIHtcbiAgICAgICAgICBuZXh0ICs9IFwiO1wiICsgY3NzVmFyVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS5jc3NUZXh0ID0gbmV4dDtcbiAgICAgICAgaGFzQ29udHJvbGxlZERpc3BsYXkgPSBkaXNwbGF5UkUudGVzdChuZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByZXYpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIH1cbiAgfVxuICBpZiAodlNob3dPcmlnaW5hbERpc3BsYXkgaW4gZWwpIHtcbiAgICBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gPSBoYXNDb250cm9sbGVkRGlzcGxheSA/IHN0eWxlLmRpc3BsYXkgOiBcIlwiO1xuICAgIGlmIChlbFt2U2hvd0hpZGRlbl0pIHtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IHNlbWljb2xvblJFID0gL1teXFxcXF07XFxzKiQvO1xuY29uc3QgaW1wb3J0YW50UkUgPSAvXFxzKiFpbXBvcnRhbnQkLztcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcbiAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgIHZhbC5mb3JFYWNoKCh2KSA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWwgPT0gbnVsbCkgdmFsID0gXCJcIjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKHNlbWljb2xvblJFLnRlc3QodmFsKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBVbmV4cGVjdGVkIHNlbWljb2xvbiBhdCB0aGUgZW5kIG9mICcke25hbWV9JyBzdHlsZSB2YWx1ZTogJyR7dmFsfSdgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoXCItLVwiKSkge1xuICAgICAgc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcbiAgICAgIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICAgaHlwaGVuYXRlKHByZWZpeGVkKSxcbiAgICAgICAgICB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgXCJcIiksXG4gICAgICAgICAgXCJpbXBvcnRhbnRcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuY29uc3QgcHJlZml4ZXMgPSBbXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiXTtcbmNvbnN0IHByZWZpeENhY2hlID0ge307XG5mdW5jdGlvbiBhdXRvUHJlZml4KHN0eWxlLCByYXdOYW1lKSB7XG4gIGNvbnN0IGNhY2hlZCA9IHByZWZpeENhY2hlW3Jhd05hbWVdO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xuICBpZiAobmFtZSAhPT0gXCJmaWx0ZXJcIiAmJiBuYW1lIGluIHN0eWxlKSB7XG4gICAgcmV0dXJuIHByZWZpeENhY2hlW3Jhd05hbWVdID0gbmFtZTtcbiAgfVxuICBuYW1lID0gY2FwaXRhbGl6ZShuYW1lKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xuICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xuICAgICAgcmV0dXJuIHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByYXdOYW1lO1xufVxuXG5jb25zdCB4bGlua05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI7XG5mdW5jdGlvbiBwYXRjaEF0dHIoZWwsIGtleSwgdmFsdWUsIGlzU1ZHLCBpbnN0YW5jZSwgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KSkge1xuICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoXCJ4bGluazpcIikpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzQm9vbGVhbiAmJiAhaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShcbiAgICAgICAga2V5LFxuICAgICAgICBpc0Jvb2xlYW4gPyBcIlwiIDogaXNTeW1ib2wodmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6IHZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwYXRjaERPTVByb3AoZWwsIGtleSwgdmFsdWUsIHBhcmVudENvbXBvbmVudCwgYXR0ck5hbWUpIHtcbiAgaWYgKGtleSA9PT0gXCJpbm5lckhUTUxcIiB8fCBrZXkgPT09IFwidGV4dENvbnRlbnRcIikge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBlbFtrZXldID0ga2V5ID09PSBcImlubmVySFRNTFwiID8gdW5zYWZlVG9UcnVzdGVkSFRNTCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHRhZyA9IGVsLnRhZ05hbWU7XG4gIGlmIChrZXkgPT09IFwidmFsdWVcIiAmJiB0YWcgIT09IFwiUFJPR1JFU1NcIiAmJiAvLyBjdXN0b20gZWxlbWVudHMgbWF5IHVzZSBfdmFsdWUgaW50ZXJuYWxseVxuICAhdGFnLmluY2x1ZGVzKFwiLVwiKSkge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFnID09PSBcIk9QVElPTlwiID8gZWwuZ2V0QXR0cmlidXRlKFwidmFsdWVcIikgfHwgXCJcIiA6IGVsLnZhbHVlO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IChcbiAgICAgIC8vICMxMTY0NzogdmFsdWUgc2hvdWxkIGJlIHNldCBhcyBlbXB0eSBzdHJpbmcgZm9yIG51bGwgYW5kIHVuZGVmaW5lZCxcbiAgICAgIC8vIGJ1dCA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCI+IHNob3VsZCBiZSBzZXQgYXMgJ29uJy5cbiAgICAgIGVsLnR5cGUgPT09IFwiY2hlY2tib3hcIiA/IFwib25cIiA6IFwiXCJcbiAgICApIDogU3RyaW5nKHZhbHVlKTtcbiAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlIHx8ICEoXCJfdmFsdWVcIiBpbiBlbCkpIHtcbiAgICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9XG4gICAgZWwuX3ZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBuZWVkUmVtb3ZlID0gZmFsc2U7XG4gIGlmICh2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBlbFtrZXldO1xuICAgIGlmICh0eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgdmFsdWUgPSBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gbnVsbCAmJiB0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHZhbHVlID0gMDtcbiAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB0cnkge1xuICAgIGVsW2tleV0gPSB2YWx1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFuZWVkUmVtb3ZlKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRmFpbGVkIHNldHRpbmcgcHJvcCBcIiR7a2V5fVwiIG9uIDwke3RhZy50b0xvd2VyQ2FzZSgpfT46IHZhbHVlICR7dmFsdWV9IGlzIGludmFsaWQuYCxcbiAgICAgICAgZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbmVlZFJlbW92ZSAmJiBlbC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUgfHwga2V5KTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmNvbnN0IHZlaUtleSA9IFN5bWJvbChcIl92ZWlcIik7XG5mdW5jdGlvbiBwYXRjaEV2ZW50KGVsLCByYXdOYW1lLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgaW5zdGFuY2UgPSBudWxsKSB7XG4gIGNvbnN0IGludm9rZXJzID0gZWxbdmVpS2V5XSB8fCAoZWxbdmVpS2V5XSA9IHt9KTtcbiAgY29uc3QgZXhpc3RpbmdJbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV07XG4gIGlmIChuZXh0VmFsdWUgJiYgZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgZXhpc3RpbmdJbnZva2VyLnZhbHVlID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNhbml0aXplRXZlbnRWYWx1ZShuZXh0VmFsdWUsIHJhd05hbWUpIDogbmV4dFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IFtuYW1lLCBvcHRpb25zXSA9IHBhcnNlTmFtZShyYXdOYW1lKTtcbiAgICBpZiAobmV4dFZhbHVlKSB7XG4gICAgICBjb25zdCBpbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV0gPSBjcmVhdGVJbnZva2VyKFxuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2FuaXRpemVFdmVudFZhbHVlKG5leHRWYWx1ZSwgcmF3TmFtZSkgOiBuZXh0VmFsdWUsXG4gICAgICAgIGluc3RhbmNlXG4gICAgICApO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgaW52b2tlciwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmIChleGlzdGluZ0ludm9rZXIpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGV4aXN0aW5nSW52b2tlciwgb3B0aW9ucyk7XG4gICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IG9wdGlvbnNNb2RpZmllclJFID0gLyg/Ok9uY2V8UGFzc2l2ZXxDYXB0dXJlKSQvO1xuZnVuY3Rpb24gcGFyc2VOYW1lKG5hbWUpIHtcbiAgbGV0IG9wdGlvbnM7XG4gIGlmIChvcHRpb25zTW9kaWZpZXJSRS50ZXN0KG5hbWUpKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICAgIGxldCBtO1xuICAgIHdoaWxlIChtID0gbmFtZS5tYXRjaChvcHRpb25zTW9kaWZpZXJSRSkpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIG5hbWUubGVuZ3RoIC0gbVswXS5sZW5ndGgpO1xuICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZXZlbnQgPSBuYW1lWzJdID09PSBcIjpcIiA/IG5hbWUuc2xpY2UoMykgOiBoeXBoZW5hdGUobmFtZS5zbGljZSgyKSk7XG4gIHJldHVybiBbZXZlbnQsIG9wdGlvbnNdO1xufVxubGV0IGNhY2hlZE5vdyA9IDA7XG5jb25zdCBwID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuY29uc3QgZ2V0Tm93ID0gKCkgPT4gY2FjaGVkTm93IHx8IChwLnRoZW4oKCkgPT4gY2FjaGVkTm93ID0gMCksIGNhY2hlZE5vdyA9IERhdGUubm93KCkpO1xuZnVuY3Rpb24gY3JlYXRlSW52b2tlcihpbml0aWFsVmFsdWUsIGluc3RhbmNlKSB7XG4gIGNvbnN0IGludm9rZXIgPSAoZSkgPT4ge1xuICAgIGlmICghZS5fdnRzKSB7XG4gICAgICBlLl92dHMgPSBEYXRlLm5vdygpO1xuICAgIH0gZWxzZSBpZiAoZS5fdnRzIDw9IGludm9rZXIuYXR0YWNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCBpbnZva2VyLnZhbHVlKSxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNSxcbiAgICAgIFtlXVxuICAgICk7XG4gIH07XG4gIGludm9rZXIudmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGludm9rZXIuYXR0YWNoZWQgPSBnZXROb3coKTtcbiAgcmV0dXJuIGludm9rZXI7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZUV2ZW50VmFsdWUodmFsdWUsIHByb3BOYW1lKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB3YXJuKFxuICAgIGBXcm9uZyB0eXBlIHBhc3NlZCBhcyBldmVudCBoYW5kbGVyIHRvICR7cHJvcE5hbWV9IC0gZGlkIHlvdSBmb3JnZXQgQCBvciA6IGluIGZyb250IG9mIHlvdXIgcHJvcD9cbkV4cGVjdGVkIGZ1bmN0aW9uIG9yIGFycmF5IG9mIGZ1bmN0aW9ucywgcmVjZWl2ZWQgdHlwZSAke3R5cGVvZiB2YWx1ZX0uYFxuICApO1xuICByZXR1cm4gTk9PUDtcbn1cbmZ1bmN0aW9uIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIHZhbHVlKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xuICAgICAgb3JpZ2luYWxTdG9wLmNhbGwoZSk7XG4gICAgICBlLl9zdG9wcGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiB2YWx1ZS5tYXAoXG4gICAgICAoZm4pID0+IChlMikgPT4gIWUyLl9zdG9wcGVkICYmIGZuICYmIGZuKGUyKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IGlzTmF0aXZlT24gPSAoa2V5KSA9PiBrZXkuY2hhckNvZGVBdCgwKSA9PT0gMTExICYmIGtleS5jaGFyQ29kZUF0KDEpID09PSAxMTAgJiYgLy8gbG93ZXJjYXNlIGxldHRlclxua2V5LmNoYXJDb2RlQXQoMikgPiA5NiAmJiBrZXkuY2hhckNvZGVBdCgyKSA8IDEyMztcbmNvbnN0IHBhdGNoUHJvcCA9IChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgbmFtZXNwYWNlLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgY29uc3QgaXNTVkcgPSBuYW1lc3BhY2UgPT09IFwic3ZnXCI7XG4gIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgIHBhdGNoQ2xhc3MoZWwsIG5leHRWYWx1ZSwgaXNTVkcpO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgcGF0Y2hTdHlsZShlbCwgcHJldlZhbHVlLCBuZXh0VmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzT24oa2V5KSkge1xuICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgIHBhdGNoRXZlbnQoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIHBhcmVudENvbXBvbmVudCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGtleVswXSA9PT0gXCIuXCIgPyAoa2V5ID0ga2V5LnNsaWNlKDEpLCB0cnVlKSA6IGtleVswXSA9PT0gXCJeXCIgPyAoa2V5ID0ga2V5LnNsaWNlKDEpLCBmYWxzZSkgOiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcbiAgICBwYXRjaERPTVByb3AoZWwsIGtleSwgbmV4dFZhbHVlKTtcbiAgICBpZiAoIWVsLnRhZ05hbWUuaW5jbHVkZXMoXCItXCIpICYmIChrZXkgPT09IFwidmFsdWVcIiB8fCBrZXkgPT09IFwiY2hlY2tlZFwiIHx8IGtleSA9PT0gXCJzZWxlY3RlZFwiKSkge1xuICAgICAgcGF0Y2hBdHRyKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcsIHBhcmVudENvbXBvbmVudCwga2V5ICE9PSBcInZhbHVlXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChcbiAgICAvLyAjMTEwODEgZm9yY2Ugc2V0IHByb3BzIGZvciBwb3NzaWJsZSBhc3luYyBjdXN0b20gZWxlbWVudFxuICAgIGVsLl9pc1Z1ZUNFICYmICgvW0EtWl0vLnRlc3Qoa2V5KSB8fCAhaXNTdHJpbmcobmV4dFZhbHVlKSlcbiAgKSB7XG4gICAgcGF0Y2hET01Qcm9wKGVsLCBjYW1lbGl6ZSQxKGtleSksIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50LCBrZXkpO1xuICB9IGVsc2Uge1xuICAgIGlmIChrZXkgPT09IFwidHJ1ZS12YWx1ZVwiKSB7XG4gICAgICBlbC5fdHJ1ZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcImZhbHNlLXZhbHVlXCIpIHtcbiAgICAgIGVsLl9mYWxzZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH1cbiAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH1cbn07XG5mdW5jdGlvbiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XG4gIGlmIChpc1NWRykge1xuICAgIGlmIChrZXkgPT09IFwiaW5uZXJIVE1MXCIgfHwga2V5ID09PSBcInRleHRDb250ZW50XCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoa2V5IGluIGVsICYmIGlzTmF0aXZlT24oa2V5KSAmJiBpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInNwZWxsY2hlY2tcIiB8fCBrZXkgPT09IFwiZHJhZ2dhYmxlXCIgfHwga2V5ID09PSBcInRyYW5zbGF0ZVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwiZm9ybVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwibGlzdFwiICYmIGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInR5cGVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJ3aWR0aFwiIHx8IGtleSA9PT0gXCJoZWlnaHRcIikge1xuICAgIGNvbnN0IHRhZyA9IGVsLnRhZ05hbWU7XG4gICAgaWYgKHRhZyA9PT0gXCJJTUdcIiB8fCB0YWcgPT09IFwiVklERU9cIiB8fCB0YWcgPT09IFwiQ0FOVkFTXCIgfHwgdGFnID09PSBcIlNPVVJDRVwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc05hdGl2ZU9uKGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBrZXkgaW4gZWw7XG59XG5cbmNvbnN0IFJFTU9WQUwgPSB7fTtcbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBfY3JlYXRlQXBwKSB7XG4gIGNvbnN0IENvbXAgPSBkZWZpbmVDb21wb25lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zKTtcbiAgaWYgKGlzUGxhaW5PYmplY3QoQ29tcCkpIGV4dGVuZChDb21wLCBleHRyYU9wdGlvbnMpO1xuICBjbGFzcyBWdWVDdXN0b21FbGVtZW50IGV4dGVuZHMgVnVlRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoaW5pdGlhbFByb3BzKSB7XG4gICAgICBzdXBlcihDb21wLCBpbml0aWFsUHJvcHMsIF9jcmVhdGVBcHApO1xuICAgIH1cbiAgfVxuICBWdWVDdXN0b21FbGVtZW50LmRlZiA9IENvbXA7XG4gIHJldHVybiBWdWVDdXN0b21FbGVtZW50O1xufVxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBkZWZpbmVTU1JDdXN0b21FbGVtZW50ID0gLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi8gKG9wdGlvbnMsIGV4dHJhT3B0aW9ucykgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBjcmVhdGVTU1JBcHApO1xufTtcbmNvbnN0IEJhc2VDbGFzcyA9IHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IEhUTUxFbGVtZW50IDogY2xhc3Mge1xufTtcbmNsYXNzIFZ1ZUVsZW1lbnQgZXh0ZW5kcyBCYXNlQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcihfZGVmLCBfcHJvcHMgPSB7fSwgX2NyZWF0ZUFwcCA9IGNyZWF0ZUFwcCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZGVmID0gX2RlZjtcbiAgICB0aGlzLl9wcm9wcyA9IF9wcm9wcztcbiAgICB0aGlzLl9jcmVhdGVBcHAgPSBfY3JlYXRlQXBwO1xuICAgIHRoaXMuX2lzVnVlQ0UgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hcHAgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX25vbmNlID0gdGhpcy5fZGVmLm5vbmNlO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3Jlc29sdmVkID0gZmFsc2U7XG4gICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudWxsO1xuICAgIHRoaXMuX3N0eWxlQ2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICB0aGlzLl9vYiA9IG51bGw7XG4gICAgaWYgKHRoaXMuc2hhZG93Um9vdCAmJiBfY3JlYXRlQXBwICE9PSBjcmVhdGVBcHApIHtcbiAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLnNoYWRvd1Jvb3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBDdXN0b20gZWxlbWVudCBoYXMgcHJlLXJlbmRlcmVkIGRlY2xhcmF0aXZlIHNoYWRvdyByb290IGJ1dCBpcyBub3QgZGVmaW5lZCBhcyBoeWRyYXRhYmxlLiBVc2UgXFxgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudFxcYC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoX2RlZi5zaGFkb3dSb290ICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5zaGFkb3dSb290O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcm9vdCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5fZGVmLl9fYXN5bmNMb2FkZXIpIHtcbiAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyh0aGlzLl9kZWYpO1xuICAgIH1cbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQpIHJldHVybjtcbiAgICBpZiAoIXRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgdGhpcy5fcGFyc2VTbG90cygpO1xuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQgJiYgKHBhcmVudC5wYXJlbnROb2RlIHx8IHBhcmVudC5ob3N0KSkge1xuICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFZ1ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgaWYgKHRoaXMuX3Jlc29sdmVkKSB7XG4gICAgICAgIHRoaXMuX3NldFBhcmVudCgpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50Ll9wZW5kaW5nUmVzb2x2ZSkge1xuICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlID0gcGFyZW50Ll9wZW5kaW5nUmVzb2x2ZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlID0gdm9pZCAwO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZURlZigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3Jlc29sdmVEZWYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBfc2V0UGFyZW50KHBhcmVudCA9IHRoaXMuX3BhcmVudCkge1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlLnBhcmVudCA9IHBhcmVudC5faW5zdGFuY2U7XG4gICAgICB0aGlzLl9pbnN0YW5jZS5wcm92aWRlcyA9IHBhcmVudC5faW5zdGFuY2UucHJvdmlkZXM7XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICAgIGlmICh0aGlzLl9vYikge1xuICAgICAgICAgIHRoaXMuX29iLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICB0aGlzLl9vYiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXBwICYmIHRoaXMuX2FwcC51bm1vdW50KCk7XG4gICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZSkgdGhpcy5faW5zdGFuY2UuY2UgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuX2FwcCA9IHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogcmVzb2x2ZSBpbm5lciBjb21wb25lbnQgZGVmaW5pdGlvbiAoaGFuZGxlIHBvc3NpYmxlIGFzeW5jIGNvbXBvbmVudClcbiAgICovXG4gIF9yZXNvbHZlRGVmKCkge1xuICAgIGlmICh0aGlzLl9wZW5kaW5nUmVzb2x2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fc2V0QXR0cih0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZSk7XG4gICAgfVxuICAgIHRoaXMuX29iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgZm9yIChjb25zdCBtIG9mIG11dGF0aW9ucykge1xuICAgICAgICB0aGlzLl9zZXRBdHRyKG0uYXR0cmlidXRlTmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fb2Iub2JzZXJ2ZSh0aGlzLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gICAgY29uc3QgcmVzb2x2ZSA9IChkZWYsIGlzQXN5bmMgPSBmYWxzZSkgPT4ge1xuICAgICAgdGhpcy5fcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmUgPSB2b2lkIDA7XG4gICAgICBjb25zdCB7IHByb3BzLCBzdHlsZXMgfSA9IGRlZjtcbiAgICAgIGxldCBudW1iZXJQcm9wcztcbiAgICAgIGlmIChwcm9wcyAmJiAhaXNBcnJheShwcm9wcykpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICBjb25zdCBvcHQgPSBwcm9wc1trZXldO1xuICAgICAgICAgIGlmIChvcHQgPT09IE51bWJlciB8fCBvcHQgJiYgb3B0LnR5cGUgPT09IE51bWJlcikge1xuICAgICAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9wcm9wcykge1xuICAgICAgICAgICAgICB0aGlzLl9wcm9wc1trZXldID0gdG9OdW1iZXIodGhpcy5fcHJvcHNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAobnVtYmVyUHJvcHMgfHwgKG51bWJlclByb3BzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpKVtjYW1lbGl6ZSQxKGtleSldID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX251bWJlclByb3BzID0gbnVtYmVyUHJvcHM7XG4gICAgICBpZiAoaXNBc3luYykge1xuICAgICAgICB0aGlzLl9yZXNvbHZlUHJvcHMoZGVmKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXMoc3R5bGVzKTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzdHlsZXMpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBcIkN1c3RvbSBlbGVtZW50IHN0eWxlIGluamVjdGlvbiBpcyBub3Qgc3VwcG9ydGVkIHdoZW4gdXNpbmcgc2hhZG93Um9vdDogZmFsc2VcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5fbW91bnQoZGVmKTtcbiAgICB9O1xuICAgIGNvbnN0IGFzeW5jRGVmID0gdGhpcy5fZGVmLl9fYXN5bmNMb2FkZXI7XG4gICAgaWYgKGFzeW5jRGVmKSB7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IGFzeW5jRGVmKCkudGhlbihcbiAgICAgICAgKGRlZikgPT4gcmVzb2x2ZSh0aGlzLl9kZWYgPSBkZWYsIHRydWUpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHRoaXMuX2RlZik7XG4gICAgfVxuICB9XG4gIF9tb3VudChkZWYpIHtcbiAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiAhZGVmLm5hbWUpIHtcbiAgICAgIGRlZi5uYW1lID0gXCJWdWVFbGVtZW50XCI7XG4gICAgfVxuICAgIHRoaXMuX2FwcCA9IHRoaXMuX2NyZWF0ZUFwcChkZWYpO1xuICAgIGlmIChkZWYuY29uZmlndXJlQXBwKSB7XG4gICAgICBkZWYuY29uZmlndXJlQXBwKHRoaXMuX2FwcCk7XG4gICAgfVxuICAgIHRoaXMuX2FwcC5fY2VWTm9kZSA9IHRoaXMuX2NyZWF0ZVZOb2RlKCk7XG4gICAgdGhpcy5fYXBwLm1vdW50KHRoaXMuX3Jvb3QpO1xuICAgIGNvbnN0IGV4cG9zZWQgPSB0aGlzLl9pbnN0YW5jZSAmJiB0aGlzLl9pbnN0YW5jZS5leHBvc2VkO1xuICAgIGlmICghZXhwb3NlZCkgcmV0dXJuO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGV4cG9zZWQpIHtcbiAgICAgIGlmICghaGFzT3duKHRoaXMsIGtleSkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGtleSwge1xuICAgICAgICAgIC8vIHVud3JhcCByZWYgdG8gYmUgY29uc2lzdGVudCB3aXRoIHB1YmxpYyBpbnN0YW5jZSBiZWhhdmlvclxuICAgICAgICAgIGdldDogKCkgPT4gdW5yZWYoZXhwb3NlZFtrZXldKVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuKGBFeHBvc2VkIHByb3BlcnR5IFwiJHtrZXl9XCIgYWxyZWFkeSBleGlzdHMgb24gY3VzdG9tIGVsZW1lbnQuYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9yZXNvbHZlUHJvcHMoZGVmKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gZGVmO1xuICAgIGNvbnN0IGRlY2xhcmVkUHJvcEtleXMgPSBpc0FycmF5KHByb3BzKSA/IHByb3BzIDogT2JqZWN0LmtleXMocHJvcHMgfHwge30pO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMpKSB7XG4gICAgICBpZiAoa2V5WzBdICE9PSBcIl9cIiAmJiBkZWNsYXJlZFByb3BLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgdGhpcy5fc2V0UHJvcChrZXksIHRoaXNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGRlY2xhcmVkUHJvcEtleXMubWFwKGNhbWVsaXplJDEpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UHJvcChrZXkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsKSB7XG4gICAgICAgICAgdGhpcy5fc2V0UHJvcChrZXksIHZhbCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBfc2V0QXR0cihrZXkpIHtcbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoXCJkYXRhLXYtXCIpKSByZXR1cm47XG4gICAgY29uc3QgaGFzID0gdGhpcy5oYXNBdHRyaWJ1dGUoa2V5KTtcbiAgICBsZXQgdmFsdWUgPSBoYXMgPyB0aGlzLmdldEF0dHJpYnV0ZShrZXkpIDogUkVNT1ZBTDtcbiAgICBjb25zdCBjYW1lbEtleSA9IGNhbWVsaXplJDEoa2V5KTtcbiAgICBpZiAoaGFzICYmIHRoaXMuX251bWJlclByb3BzICYmIHRoaXMuX251bWJlclByb3BzW2NhbWVsS2V5XSkge1xuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgfVxuICAgIHRoaXMuX3NldFByb3AoY2FtZWxLZXksIHZhbHVlLCBmYWxzZSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2dldFByb3Aoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3BzW2tleV07XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3NldFByb3Aoa2V5LCB2YWwsIHNob3VsZFJlZmxlY3QgPSB0cnVlLCBzaG91bGRVcGRhdGUgPSBmYWxzZSkge1xuICAgIGlmICh2YWwgIT09IHRoaXMuX3Byb3BzW2tleV0pIHtcbiAgICAgIGlmICh2YWwgPT09IFJFTU9WQUwpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Byb3BzW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9wcm9wc1trZXldID0gdmFsO1xuICAgICAgICBpZiAoa2V5ID09PSBcImtleVwiICYmIHRoaXMuX2FwcCkge1xuICAgICAgICAgIHRoaXMuX2FwcC5fY2VWTm9kZS5rZXkgPSB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRVcGRhdGUgJiYgdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkUmVmbGVjdCkge1xuICAgICAgICBjb25zdCBvYiA9IHRoaXMuX29iO1xuICAgICAgICBvYiAmJiBvYi5kaXNjb25uZWN0KCk7XG4gICAgICAgIGlmICh2YWwgPT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoaHlwaGVuYXRlKGtleSksIHZhbCArIFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCF2YWwpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgb2IgJiYgb2Iub2JzZXJ2ZSh0aGlzLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF91cGRhdGUoKSB7XG4gICAgcmVuZGVyKHRoaXMuX2NyZWF0ZVZOb2RlKCksIHRoaXMuX3Jvb3QpO1xuICB9XG4gIF9jcmVhdGVWTm9kZSgpIHtcbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgYmFzZVByb3BzLm9uVm5vZGVNb3VudGVkID0gYmFzZVByb3BzLm9uVm5vZGVVcGRhdGVkID0gdGhpcy5fcmVuZGVyU2xvdHMuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZSh0aGlzLl9kZWYsIGV4dGVuZChiYXNlUHJvcHMsIHRoaXMuX3Byb3BzKSk7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdm5vZGUuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2UuY2UgPSB0aGlzO1xuICAgICAgICBpbnN0YW5jZS5pc0NFID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jZVJlbG9hZCA9IChuZXdTdHlsZXMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmZvckVhY2goKHMpID0+IHRoaXMuX3Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKG5ld1N0eWxlcyk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoID0gKGV2ZW50LCBhcmdzKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChhcmdzWzBdKSA/IGV4dGVuZCh7IGRldGFpbDogYXJncyB9LCBhcmdzWzBdKSA6IHsgZGV0YWlsOiBhcmdzIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBpbnN0YW5jZS5lbWl0ID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgIGlmIChoeXBoZW5hdGUoZXZlbnQpICE9PSBldmVudCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goaHlwaGVuYXRlKGV2ZW50KSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zZXRQYXJlbnQoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBfYXBwbHlTdHlsZXMoc3R5bGVzLCBvd25lcikge1xuICAgIGlmICghc3R5bGVzKSByZXR1cm47XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIgPT09IHRoaXMuX2RlZiB8fCB0aGlzLl9zdHlsZUNoaWxkcmVuLmhhcyhvd25lcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3R5bGVDaGlsZHJlbi5hZGQob3duZXIpO1xuICAgIH1cbiAgICBjb25zdCBub25jZSA9IHRoaXMuX25vbmNlO1xuICAgIGZvciAobGV0IGkgPSBzdHlsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICBpZiAobm9uY2UpIHMuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICAgICAgcy50ZXh0Q29udGVudCA9IHN0eWxlc1tpXTtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5wcmVwZW5kKHMpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgaWYgKG93bmVyLl9faG1ySWQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hpbGRTdHlsZXMpIHRoaXMuX2NoaWxkU3R5bGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IHRoaXMuX2NoaWxkU3R5bGVzLmdldChvd25lci5fX2htcklkKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgdGhpcy5fY2hpbGRTdHlsZXMuc2V0KG93bmVyLl9faG1ySWQsIGVudHJ5ID0gW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cnkucHVzaChzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHRoaXMuX3N0eWxlcyB8fCAodGhpcy5fc3R5bGVzID0gW10pKS5wdXNoKHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9wYXJzZVNsb3RzKCkge1xuICAgIGNvbnN0IHNsb3RzID0gdGhpcy5fc2xvdHMgPSB7fTtcbiAgICBsZXQgbjtcbiAgICB3aGlsZSAobiA9IHRoaXMuZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBuLm5vZGVUeXBlID09PSAxICYmIG4uZ2V0QXR0cmlidXRlKFwic2xvdFwiKSB8fCBcImRlZmF1bHRcIjtcbiAgICAgIChzbG90c1tzbG90TmFtZV0gfHwgKHNsb3RzW3Nsb3ROYW1lXSA9IFtdKSkucHVzaChuKTtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9yZW5kZXJTbG90cygpIHtcbiAgICBjb25zdCBvdXRsZXRzID0gKHRoaXMuX3RlbGVwb3J0VGFyZ2V0IHx8IHRoaXMpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzbG90XCIpO1xuICAgIGNvbnN0IHNjb3BlSWQgPSB0aGlzLl9pbnN0YW5jZS50eXBlLl9fc2NvcGVJZDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dGxldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG8gPSBvdXRsZXRzW2ldO1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBvLmdldEF0dHJpYnV0ZShcIm5hbWVcIikgfHwgXCJkZWZhdWx0XCI7XG4gICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5fc2xvdHNbc2xvdE5hbWVdO1xuICAgICAgY29uc3QgcGFyZW50ID0gby5wYXJlbnROb2RlO1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICBpZiAoc2NvcGVJZCAmJiBuLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHNjb3BlSWQgKyBcIi1zXCI7XG4gICAgICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKG4sIDEpO1xuICAgICAgICAgICAgbi5zZXRBdHRyaWJ1dGUoaWQsIFwiXCIpO1xuICAgICAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGNoaWxkID0gd2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKGlkLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuLCBvKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKG8uZmlyc3RDaGlsZCkgcGFyZW50Lmluc2VydEJlZm9yZShvLmZpcnN0Q2hpbGQsIG8pO1xuICAgICAgfVxuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG8pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfaW5qZWN0Q2hpbGRTdHlsZShjb21wKSB7XG4gICAgdGhpcy5fYXBwbHlTdHlsZXMoY29tcC5zdHlsZXMsIGNvbXApO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9yZW1vdmVDaGlsZFN0eWxlKGNvbXApIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgdGhpcy5fc3R5bGVDaGlsZHJlbi5kZWxldGUoY29tcCk7XG4gICAgICBpZiAodGhpcy5fY2hpbGRTdHlsZXMgJiYgY29tcC5fX2htcklkKSB7XG4gICAgICAgIGNvbnN0IG9sZFN0eWxlcyA9IHRoaXMuX2NoaWxkU3R5bGVzLmdldChjb21wLl9faG1ySWQpO1xuICAgICAgICBpZiAob2xkU3R5bGVzKSB7XG4gICAgICAgICAgb2xkU3R5bGVzLmZvckVhY2goKHMpID0+IHRoaXMuX3Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgIG9sZFN0eWxlcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1c2VIb3N0KGNhbGxlcikge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCBlbCA9IGluc3RhbmNlICYmIGluc3RhbmNlLmNlO1xuICBpZiAoZWwpIHtcbiAgICByZXR1cm4gZWw7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhbGxlciB8fCBcInVzZUhvc3RcIn0gY2FsbGVkIHdpdGhvdXQgYW4gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgJHtjYWxsZXIgfHwgXCJ1c2VIb3N0XCJ9IGNhbiBvbmx5IGJlIHVzZWQgaW4gY29tcG9uZW50cyBkZWZpbmVkIHZpYSBkZWZpbmVDdXN0b21FbGVtZW50LmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2hhZG93Um9vdCgpIHtcbiAgY29uc3QgZWwgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gdXNlSG9zdChcInVzZVNoYWRvd1Jvb3RcIikgOiB1c2VIb3N0KCk7XG4gIHJldHVybiBlbCAmJiBlbC5zaGFkb3dSb290O1xufVxuXG5mdW5jdGlvbiB1c2VDc3NNb2R1bGUobmFtZSA9IFwiJHN0eWxlXCIpIHtcbiAge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGB1c2VDc3NNb2R1bGUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIHNldHVwKClgKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsZXMgPSBpbnN0YW5jZS50eXBlLl9fY3NzTW9kdWxlcztcbiAgICBpZiAoIW1vZHVsZXMpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGVzIGluamVjdGVkLmApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgY29uc3QgbW9kID0gbW9kdWxlc1tuYW1lXTtcbiAgICBpZiAoIW1vZCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcIiR7bmFtZX1cIi5gKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIHJldHVybiBtb2Q7XG4gIH1cbn1cblxuY29uc3QgcG9zaXRpb25NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG5ld1Bvc2l0aW9uTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBtb3ZlQ2JLZXkgPSBTeW1ib2woXCJfbW92ZUNiXCIpO1xuY29uc3QgZW50ZXJDYktleSA9IFN5bWJvbChcIl9lbnRlckNiXCIpO1xuY29uc3QgZGVjb3JhdGUgPSAodCkgPT4ge1xuICBkZWxldGUgdC5wcm9wcy5tb2RlO1xuICByZXR1cm4gdDtcbn07XG5jb25zdCBUcmFuc2l0aW9uR3JvdXBJbXBsID0gLyogQF9fUFVSRV9fICovIGRlY29yYXRlKHtcbiAgbmFtZTogXCJUcmFuc2l0aW9uR3JvdXBcIixcbiAgcHJvcHM6IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoe30sIFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIHtcbiAgICB0YWc6IFN0cmluZyxcbiAgICBtb3ZlQ2xhc3M6IFN0cmluZ1xuICB9KSxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICBsZXQgcHJldkNoaWxkcmVuO1xuICAgIGxldCBjaGlsZHJlbjtcbiAgICBvblVwZGF0ZWQoKCkgPT4ge1xuICAgICAgaWYgKCFwcmV2Q2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8IFwidlwifS1tb3ZlYDtcbiAgICAgIGlmICghaGFzQ1NTVHJhbnNmb3JtKFxuICAgICAgICBwcmV2Q2hpbGRyZW5bMF0uZWwsXG4gICAgICAgIGluc3RhbmNlLnZub2RlLmVsLFxuICAgICAgICBtb3ZlQ2xhc3NcbiAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xuICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xuICAgICAgY29uc3QgbW92ZWRDaGlsZHJlbiA9IHByZXZDaGlsZHJlbi5maWx0ZXIoYXBwbHlUcmFuc2xhdGlvbik7XG4gICAgICBmb3JjZVJlZmxvdygpO1xuICAgICAgbW92ZWRDaGlsZHJlbi5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gYy5lbDtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBcIlwiO1xuICAgICAgICBjb25zdCBjYiA9IGVsW21vdmVDYktleV0gPSAoZSkgPT4ge1xuICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBjYik7XG4gICAgICAgICAgICBlbFttb3ZlQ2JLZXldID0gbnVsbDtcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGNiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgIGNvbnN0IGNzc1RyYW5zaXRpb25Qcm9wcyA9IHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpO1xuICAgICAgbGV0IHRhZyA9IHJhd1Byb3BzLnRhZyB8fCBGcmFnbWVudDtcbiAgICAgIHByZXZDaGlsZHJlbiA9IFtdO1xuICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgIGlmIChjaGlsZC5lbCAmJiBjaGlsZC5lbCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgICAgY3NzVHJhbnNpdGlvblByb3BzLFxuICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwb3NpdGlvbk1hcC5zZXQoXG4gICAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgICBjaGlsZC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCA/IGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCkpIDogW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoaWxkLnR5cGUgIT09IFRleHQpIHtcbiAgICAgICAgICB3YXJuKGA8VHJhbnNpdGlvbkdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkLmApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodGFnLCBudWxsLCBjaGlsZHJlbik7XG4gICAgfTtcbiAgfVxufSk7XG5jb25zdCBUcmFuc2l0aW9uR3JvdXAgPSBUcmFuc2l0aW9uR3JvdXBJbXBsO1xuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMoYykge1xuICBjb25zdCBlbCA9IGMuZWw7XG4gIGlmIChlbFttb3ZlQ2JLZXldKSB7XG4gICAgZWxbbW92ZUNiS2V5XSgpO1xuICB9XG4gIGlmIChlbFtlbnRlckNiS2V5XSkge1xuICAgIGVsW2VudGVyQ2JLZXldKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uKGMpIHtcbiAgbmV3UG9zaXRpb25NYXAuc2V0KGMsIGMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xufVxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XG4gIGNvbnN0IG9sZFBvcyA9IHBvc2l0aW9uTWFwLmdldChjKTtcbiAgY29uc3QgbmV3UG9zID0gbmV3UG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gIGNvbnN0IGR5ID0gb2xkUG9zLnRvcCAtIG5ld1Bvcy50b3A7XG4gIGlmIChkeCB8fCBkeSkge1xuICAgIGNvbnN0IHMgPSBjLmVsLnN0eWxlO1xuICAgIHMudHJhbnNmb3JtID0gcy53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZHh9cHgsJHtkeX1weClgO1xuICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gXCIwc1wiO1xuICAgIHJldHVybiBjO1xuICB9XG59XG5mdW5jdGlvbiBoYXNDU1NUcmFuc2Zvcm0oZWwsIHJvb3QsIG1vdmVDbGFzcykge1xuICBjb25zdCBjbG9uZSA9IGVsLmNsb25lTm9kZSgpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmZvckVhY2goKGNscykgPT4ge1xuICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgICB9KTtcbiAgfVxuICBtb3ZlQ2xhc3Muc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5hZGQoYykpO1xuICBjbG9uZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGNvbnN0IGNvbnRhaW5lciA9IHJvb3Qubm9kZVR5cGUgPT09IDEgPyByb290IDogcm9vdC5wYXJlbnROb2RlO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICBjb25zdCB7IGhhc1RyYW5zZm9ybSB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xuICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2xvbmUpO1xuICByZXR1cm4gaGFzVHJhbnNmb3JtO1xufVxuXG5jb25zdCBnZXRNb2RlbEFzc2lnbmVyID0gKHZub2RlKSA9PiB7XG4gIGNvbnN0IGZuID0gdm5vZGUucHJvcHNbXCJvblVwZGF0ZTptb2RlbFZhbHVlXCJdIHx8IGZhbHNlO1xuICByZXR1cm4gaXNBcnJheShmbikgPyAodmFsdWUpID0+IGludm9rZUFycmF5Rm5zKGZuLCB2YWx1ZSkgOiBmbjtcbn07XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xuICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xufVxuZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZChlKSB7XG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICBpZiAodGFyZ2V0LmNvbXBvc2luZykge1xuICAgIHRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTtcbiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiKSk7XG4gIH1cbn1cbmNvbnN0IGFzc2lnbktleSA9IFN5bWJvbChcIl9hc3NpZ25cIik7XG5jb25zdCB2TW9kZWxUZXh0ID0ge1xuICBjcmVhdGVkKGVsLCB7IG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBjb25zdCBjYXN0VG9OdW1iZXIgPSBudW1iZXIgfHwgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSA9PT0gXCJudW1iZXJcIjtcbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBsYXp5ID8gXCJjaGFuZ2VcIiA6IFwiaW5wdXRcIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldC5jb21wb3NpbmcpIHJldHVybjtcbiAgICAgIGxldCBkb21WYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgZG9tVmFsdWUgPSBkb21WYWx1ZS50cmltKCk7XG4gICAgICB9XG4gICAgICBpZiAoY2FzdFRvTnVtYmVyKSB7XG4gICAgICAgIGRvbVZhbHVlID0gbG9vc2VUb051bWJlcihkb21WYWx1ZSk7XG4gICAgICB9XG4gICAgICBlbFthc3NpZ25LZXldKGRvbVZhbHVlKTtcbiAgICB9KTtcbiAgICBpZiAodHJpbSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnRyaW0oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWxhenkpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY29tcG9zaXRpb25zdGFydFwiLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbmVuZFwiLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgIH1cbiAgfSxcbiAgLy8gc2V0IHZhbHVlIG9uIG1vdW50ZWQgc28gaXQncyBhZnRlciBtaW4vbWF4IGZvciB0eXBlPVwicmFuZ2VcIlxuICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICBlbC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWU7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUsIG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBpZiAoZWwuY29tcG9zaW5nKSByZXR1cm47XG4gICAgY29uc3QgZWxWYWx1ZSA9IChudW1iZXIgfHwgZWwudHlwZSA9PT0gXCJudW1iZXJcIikgJiYgIS9eMFxcZC8udGVzdChlbC52YWx1ZSkgPyBsb29zZVRvTnVtYmVyKGVsLnZhbHVlKSA6IGVsLnZhbHVlO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgICBpZiAoZWxWYWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsICYmIGVsLnR5cGUgIT09IFwicmFuZ2VcIikge1xuICAgICAgaWYgKGxhenkgJiYgdmFsdWUgPT09IG9sZFZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmltICYmIGVsLnZhbHVlLnRyaW0oKSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICB9XG59O1xuY29uc3Qgdk1vZGVsQ2hlY2tib3ggPSB7XG4gIC8vICM0MDk2IGFycmF5IGNoZWNrYm94ZXMgbmVlZCB0byBiZSBkZWVwIHRyYXZlcnNlZFxuICBkZWVwOiB0cnVlLFxuICBjcmVhdGVkKGVsLCBfLCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RlbFZhbHVlID0gZWwuX21vZGVsVmFsdWU7XG4gICAgICBjb25zdCBlbGVtZW50VmFsdWUgPSBnZXRWYWx1ZShlbCk7XG4gICAgICBjb25zdCBjaGVja2VkID0gZWwuY2hlY2tlZDtcbiAgICAgIGNvbnN0IGFzc2lnbiA9IGVsW2Fzc2lnbktleV07XG4gICAgICBpZiAoaXNBcnJheShtb2RlbFZhbHVlKSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGxvb3NlSW5kZXhPZihtb2RlbFZhbHVlLCBlbGVtZW50VmFsdWUpO1xuICAgICAgICBjb25zdCBmb3VuZCA9IGluZGV4ICE9PSAtMTtcbiAgICAgICAgaWYgKGNoZWNrZWQgJiYgIWZvdW5kKSB7XG4gICAgICAgICAgYXNzaWduKG1vZGVsVmFsdWUuY29uY2F0KGVsZW1lbnRWYWx1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKCFjaGVja2VkICYmIGZvdW5kKSB7XG4gICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBbLi4ubW9kZWxWYWx1ZV07XG4gICAgICAgICAgZmlsdGVyZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBhc3NpZ24oZmlsdGVyZWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzU2V0KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGNsb25lZCA9IG5ldyBTZXQobW9kZWxWYWx1ZSk7XG4gICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgY2xvbmVkLmFkZChlbGVtZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsb25lZC5kZWxldGUoZWxlbWVudFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oY2xvbmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2lnbihnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIC8vIHNldCBpbml0aWFsIGNoZWNrZWQgb24gbW91bnQgdG8gd2FpdCBmb3IgdHJ1ZS12YWx1ZS9mYWxzZS12YWx1ZVxuICBtb3VudGVkOiBzZXRDaGVja2VkLFxuICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIHNldENoZWNrZWQoZWwsIGJpbmRpbmcsIHZub2RlKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNldENoZWNrZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gIGVsLl9tb2RlbFZhbHVlID0gdmFsdWU7XG4gIGxldCBjaGVja2VkO1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjaGVja2VkID0gbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMTtcbiAgfSBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICBjaGVja2VkID0gdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsdWUgPT09IG9sZFZhbHVlKSByZXR1cm47XG4gICAgY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIGdldENoZWNrYm94VmFsdWUoZWwsIHRydWUpKTtcbiAgfVxuICBpZiAoZWwuY2hlY2tlZCAhPT0gY2hlY2tlZCkge1xuICAgIGVsLmNoZWNrZWQgPSBjaGVja2VkO1xuICB9XG59XG5jb25zdCB2TW9kZWxSYWRpbyA9IHtcbiAgY3JlYXRlZChlbCwgeyB2YWx1ZSB9LCB2bm9kZSkge1xuICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGVsW2Fzc2lnbktleV0oZ2V0VmFsdWUoZWwpKTtcbiAgICB9KTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IHZNb2RlbFNlbGVjdCA9IHtcbiAgLy8gPHNlbGVjdCBtdWx0aXBsZT4gdmFsdWUgbmVlZCB0byBiZSBkZWVwIHRyYXZlcnNlZFxuICBkZWVwOiB0cnVlLFxuICBjcmVhdGVkKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICBjb25zdCBpc1NldE1vZGVsID0gaXNTZXQodmFsdWUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKS5tYXAoXG4gICAgICAgIChvKSA9PiBudW1iZXIgPyBsb29zZVRvTnVtYmVyKGdldFZhbHVlKG8pKSA6IGdldFZhbHVlKG8pXG4gICAgICApO1xuICAgICAgZWxbYXNzaWduS2V5XShcbiAgICAgICAgZWwubXVsdGlwbGUgPyBpc1NldE1vZGVsID8gbmV3IFNldChzZWxlY3RlZFZhbCkgOiBzZWxlY3RlZFZhbCA6IHNlbGVjdGVkVmFsWzBdXG4gICAgICApO1xuICAgICAgZWwuX2Fzc2lnbmluZyA9IHRydWU7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGVsLl9hc3NpZ25pbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgfSxcbiAgLy8gc2V0IHZhbHVlIGluIG1vdW50ZWQgJiB1cGRhdGVkIGJlY2F1c2UgPHNlbGVjdD4gcmVsaWVzIG9uIGl0cyBjaGlsZHJlblxuICAvLyA8b3B0aW9uPnMuXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShlbCwgX2JpbmRpbmcsIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICB9LFxuICB1cGRhdGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICBpZiAoIWVsLl9hc3NpZ25pbmcpIHtcbiAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKSB7XG4gIGNvbnN0IGlzTXVsdGlwbGUgPSBlbC5tdWx0aXBsZTtcbiAgY29uc3QgaXNBcnJheVZhbHVlID0gaXNBcnJheSh2YWx1ZSk7XG4gIGlmIChpc011bHRpcGxlICYmICFpc0FycmF5VmFsdWUgJiYgIWlzU2V0KHZhbHVlKSkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihcbiAgICAgIGA8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw+IGV4cGVjdHMgYW4gQXJyYXkgb3IgU2V0IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpfS5gXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBlbC5vcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG9wdGlvbiA9IGVsLm9wdGlvbnNbaV07XG4gICAgY29uc3Qgb3B0aW9uVmFsdWUgPSBnZXRWYWx1ZShvcHRpb24pO1xuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICBpZiAoaXNBcnJheVZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvblR5cGUgPSB0eXBlb2Ygb3B0aW9uVmFsdWU7XG4gICAgICAgIGlmIChvcHRpb25UeXBlID09PSBcInN0cmluZ1wiIHx8IG9wdGlvblR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB2YWx1ZS5zb21lKCh2KSA9PiBTdHJpbmcodikgPT09IFN0cmluZyhvcHRpb25WYWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgb3B0aW9uVmFsdWUpID4gLTE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmhhcyhvcHRpb25WYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsb29zZUVxdWFsKGdldFZhbHVlKG9wdGlvbiksIHZhbHVlKSkge1xuICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIGVsLnNlbGVjdGVkSW5kZXggPSBpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzTXVsdGlwbGUgJiYgZWwuc2VsZWN0ZWRJbmRleCAhPT0gLTEpIHtcbiAgICBlbC5zZWxlY3RlZEluZGV4ID0gLTE7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFZhbHVlKGVsKSB7XG4gIHJldHVybiBcIl92YWx1ZVwiIGluIGVsID8gZWwuX3ZhbHVlIDogZWwudmFsdWU7XG59XG5mdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSB7XG4gIGNvbnN0IGtleSA9IGNoZWNrZWQgPyBcIl90cnVlVmFsdWVcIiA6IFwiX2ZhbHNlVmFsdWVcIjtcbiAgcmV0dXJuIGtleSBpbiBlbCA/IGVsW2tleV0gOiBjaGVja2VkO1xufVxuY29uc3Qgdk1vZGVsRHluYW1pYyA9IHtcbiAgY3JlYXRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgXCJjcmVhdGVkXCIpO1xuICB9LFxuICBtb3VudGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcIm1vdW50ZWRcIik7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIFwiYmVmb3JlVXBkYXRlXCIpO1xuICB9LFxuICB1cGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJ1cGRhdGVkXCIpO1xuICB9XG59O1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNNb2RlbCh0YWdOYW1lLCB0eXBlKSB7XG4gIHN3aXRjaCAodGFnTmFtZSkge1xuICAgIGNhc2UgXCJTRUxFQ1RcIjpcbiAgICAgIHJldHVybiB2TW9kZWxTZWxlY3Q7XG4gICAgY2FzZSBcIlRFWFRBUkVBXCI6XG4gICAgICByZXR1cm4gdk1vZGVsVGV4dDtcbiAgICBkZWZhdWx0OlxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxuICAgICAgICAgIHJldHVybiB2TW9kZWxDaGVja2JveDtcbiAgICAgICAgY2FzZSBcInJhZGlvXCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFJhZGlvO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgICAgfVxuICB9XG59XG5mdW5jdGlvbiBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBob29rKSB7XG4gIGNvbnN0IG1vZGVsVG9Vc2UgPSByZXNvbHZlRHluYW1pY01vZGVsKFxuICAgIGVsLnRhZ05hbWUsXG4gICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICApO1xuICBjb25zdCBmbiA9IG1vZGVsVG9Vc2VbaG9va107XG4gIGZuICYmIGZuKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKTtcbn1cbmZ1bmN0aW9uIGluaXRWTW9kZWxGb3JTU1IoKSB7XG4gIHZNb2RlbFRleHQuZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9KSA9PiAoeyB2YWx1ZSB9KTtcbiAgdk1vZGVsUmFkaW8uZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmICh2bm9kZS5wcm9wcyAmJiBsb29zZUVxdWFsKHZub2RlLnByb3BzLnZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICB9XG4gIH07XG4gIHZNb2RlbENoZWNrYm94LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSwgdm5vZGUpID0+IHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGlmICh2bm9kZS5wcm9wcyAmJiBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIHZhbHVlLmhhcyh2bm9kZS5wcm9wcy52YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICB9XG4gIH07XG4gIHZNb2RlbER5bmFtaWMuZ2V0U1NSUHJvcHMgPSAoYmluZGluZywgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZub2RlLnR5cGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgICAvLyByZXNvbHZlRHluYW1pY01vZGVsIGV4cGVjdHMgYW4gdXBwZXJjYXNlIHRhZyBuYW1lLCBidXQgdm5vZGUudHlwZSBpcyBsb3dlcmNhc2VcbiAgICAgIHZub2RlLnR5cGUudG9VcHBlckNhc2UoKSxcbiAgICAgIHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGVcbiAgICApO1xuICAgIGlmIChtb2RlbFRvVXNlLmdldFNTUlByb3BzKSB7XG4gICAgICByZXR1cm4gbW9kZWxUb1VzZS5nZXRTU1JQcm9wcyhiaW5kaW5nLCB2bm9kZSk7XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBzeXN0ZW1Nb2RpZmllcnMgPSBbXCJjdHJsXCIsIFwic2hpZnRcIiwgXCJhbHRcIiwgXCJtZXRhXCJdO1xuY29uc3QgbW9kaWZpZXJHdWFyZHMgPSB7XG4gIHN0b3A6IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLFxuICBwcmV2ZW50OiAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICBzZWxmOiAoZSkgPT4gZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCxcbiAgY3RybDogKGUpID0+ICFlLmN0cmxLZXksXG4gIHNoaWZ0OiAoZSkgPT4gIWUuc2hpZnRLZXksXG4gIGFsdDogKGUpID0+ICFlLmFsdEtleSxcbiAgbWV0YTogKGUpID0+ICFlLm1ldGFLZXksXG4gIGxlZnQ6IChlKSA9PiBcImJ1dHRvblwiIGluIGUgJiYgZS5idXR0b24gIT09IDAsXG4gIG1pZGRsZTogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMSxcbiAgcmlnaHQ6IChlKSA9PiBcImJ1dHRvblwiIGluIGUgJiYgZS5idXR0b24gIT09IDIsXG4gIGV4YWN0OiAoZSwgbW9kaWZpZXJzKSA9PiBzeXN0ZW1Nb2RpZmllcnMuc29tZSgobSkgPT4gZVtgJHttfUtleWBdICYmICFtb2RpZmllcnMuaW5jbHVkZXMobSkpXG59O1xuY29uc3Qgd2l0aE1vZGlmaWVycyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gZm4uX3dpdGhNb2RzIHx8IChmbi5fd2l0aE1vZHMgPSB7fSk7XG4gIGNvbnN0IGNhY2hlS2V5ID0gbW9kaWZpZXJzLmpvaW4oXCIuXCIpO1xuICByZXR1cm4gY2FjaGVbY2FjaGVLZXldIHx8IChjYWNoZVtjYWNoZUtleV0gPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZ3VhcmQgPSBtb2RpZmllckd1YXJkc1ttb2RpZmllcnNbaV1dO1xuICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKSByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XG4gIH0pO1xufTtcbmNvbnN0IGtleU5hbWVzID0ge1xuICBlc2M6IFwiZXNjYXBlXCIsXG4gIHNwYWNlOiBcIiBcIixcbiAgdXA6IFwiYXJyb3ctdXBcIixcbiAgbGVmdDogXCJhcnJvdy1sZWZ0XCIsXG4gIHJpZ2h0OiBcImFycm93LXJpZ2h0XCIsXG4gIGRvd246IFwiYXJyb3ctZG93blwiLFxuICBkZWxldGU6IFwiYmFja3NwYWNlXCJcbn07XG5jb25zdCB3aXRoS2V5cyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gZm4uX3dpdGhLZXlzIHx8IChmbi5fd2l0aEtleXMgPSB7fSk7XG4gIGNvbnN0IGNhY2hlS2V5ID0gbW9kaWZpZXJzLmpvaW4oXCIuXCIpO1xuICByZXR1cm4gY2FjaGVbY2FjaGVLZXldIHx8IChjYWNoZVtjYWNoZUtleV0gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIShcImtleVwiIGluIGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBldmVudEtleSA9IGh5cGhlbmF0ZShldmVudC5rZXkpO1xuICAgIGlmIChtb2RpZmllcnMuc29tZShcbiAgICAgIChrKSA9PiBrID09PSBldmVudEtleSB8fCBrZXlOYW1lc1trXSA9PT0gZXZlbnRLZXlcbiAgICApKSB7XG4gICAgICByZXR1cm4gZm4oZXZlbnQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XG59XG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcbiAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uID8gcmVuZGVyZXIgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuY29uc3QgcmVuZGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgZW5zdXJlUmVuZGVyZXIoKS5yZW5kZXIoLi4uYXJncyk7XG59O1xuY29uc3QgaHlkcmF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcbn07XG5jb25zdCBjcmVhdGVBcHAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcHAgPSBlbnN1cmVSZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gIH1cbiAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGFwcC5fY29tcG9uZW50O1xuICAgIGlmICghaXNGdW5jdGlvbihjb21wb25lbnQpICYmICFjb21wb25lbnQucmVuZGVyICYmICFjb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XG4gICAgfVxuICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSk7XG4gICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoXCJ2LWNsb2FrXCIpO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtdi1hcHBcIiwgXCJcIik7XG4gICAgfVxuICAgIHJldHVybiBwcm94eTtcbiAgfTtcbiAgcmV0dXJuIGFwcDtcbn07XG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcHAgPSBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gIH1cbiAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gbW91bnQoY29udGFpbmVyLCB0cnVlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBhcHA7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSB7XG4gIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwic3ZnXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBNYXRoTUxFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgJiYgY29udGFpbmVyIGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudCkge1xuICAgIHJldHVybiBcIm1hdGhtbFwiO1xuICB9XG59XG5mdW5jdGlvbiBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiaXNOYXRpdmVUYWdcIiwge1xuICAgIHZhbHVlOiAodGFnKSA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpIHx8IGlzTWF0aE1MVGFnKHRhZyksXG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xufVxuZnVuY3Rpb24gaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKSB7XG4gIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc0N1c3RvbUVsZW1lbnRcIiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gaXNDdXN0b21FbGVtZW50O1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgVGhlIFxcYGlzQ3VzdG9tRWxlbWVudFxcYCBjb25maWcgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBcXGBjb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50XFxgIGluc3RlYWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNvbXBpbGVyT3B0aW9ucyA9IGFwcC5jb25maWcuY29tcGlsZXJPcHRpb25zO1xuICAgIGNvbnN0IG1zZyA9IGBUaGUgXFxgY29tcGlsZXJPcHRpb25zXFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZS5qcyB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyIChha2EgXCJmdWxsIGJ1aWxkXCIpLiBTaW5jZSB5b3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQsIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZC5cbi0gRm9yIHZ1ZS1sb2FkZXI6IHBhc3MgaXQgdmlhIHZ1ZS1sb2FkZXIncyBcXGBjb21waWxlck9wdGlvbnNcXGAgbG9hZGVyIG9wdGlvbi5cbi0gRm9yIHZ1ZS1jbGk6IHNlZSBodHRwczovL2NsaS52dWVqcy5vcmcvZ3VpZGUvd2VicGFjay5odG1sI21vZGlmeWluZy1vcHRpb25zLW9mLWEtbG9hZGVyXG4tIEZvciB2aXRlOiBwYXNzIGl0IHZpYSBAdml0ZWpzL3BsdWdpbi12dWUgb3B0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS1wbHVnaW4tdnVlL3RyZWUvbWFpbi9wYWNrYWdlcy9wbHVnaW4tdnVlI2V4YW1wbGUtZm9yLXBhc3Npbmctb3B0aW9ucy10by12dWVjb21waWxlci1zZmNgO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImNvbXBpbGVyT3B0aW9uc1wiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVyT3B0aW9ucztcbiAgICAgIH0sXG4gICAgICBzZXQoKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICBpZiAoaXNTdHJpbmcoY29udGFpbmVyKSkge1xuICAgIGNvbnN0IHJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhcmVzKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRmFpbGVkIHRvIG1vdW50IGFwcDogbW91bnQgdGFyZ2V0IHNlbGVjdG9yIFwiJHtjb250YWluZXJ9XCIgcmV0dXJuZWQgbnVsbC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdpbmRvdy5TaGFkb3dSb290ICYmIGNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290ICYmIGNvbnRhaW5lci5tb2RlID09PSBcImNsb3NlZFwiKSB7XG4gICAgd2FybihcbiAgICAgIGBtb3VudGluZyBvbiBhIFNoYWRvd1Jvb3Qgd2l0aCBcXGB7bW9kZTogXCJjbG9zZWRcIn1cXGAgbWF5IGxlYWQgdG8gdW5wcmVkaWN0YWJsZSBidWdzYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cbmxldCBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IGZhbHNlO1xuY29uc3QgaW5pdERpcmVjdGl2ZXNGb3JTU1IgPSAoKSA9PiB7XG4gIGlmICghc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQpIHtcbiAgICBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IHRydWU7XG4gICAgaW5pdFZNb2RlbEZvclNTUigpO1xuICAgIGluaXRWU2hvd0ZvclNTUigpO1xuICB9XG59IDtcblxuZXhwb3J0IHsgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwLCBWdWVFbGVtZW50LCBjcmVhdGVBcHAsIGNyZWF0ZVNTUkFwcCwgZGVmaW5lQ3VzdG9tRWxlbWVudCwgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCwgaHlkcmF0ZSwgaW5pdERpcmVjdGl2ZXNGb3JTU1IsIHJlbmRlciwgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB1c2VIb3N0LCB1c2VTaGFkb3dSb290LCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHdpdGhLZXlzLCB3aXRoTW9kaWZpZXJzIH07XG4iLCJleHBvcnQgZGVmYXVsdHtcbiAgICBwZXJzb25hbEluZm9ybWF0aW9uOntcbiAgICAgICAgdGl0bGU6XCJwZXJzb25hbEluZm9ybWF0aW9uXCIsLy8g5qCH6aKYXG4gICAgICAgIGNvbnRlbnQ6W1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOlwicGVyc29uYWwubmFtZVwiLC8vIOWnk+WQjVxuICAgICAgICAgICAgICAgIHZhbHVlOlwicGVyc29uYWwubmFtZVJlc1wiLy8g5aeT5ZCNXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOlwicGVyc29uYWwuZWR1Y2F0aW9uQmFja2dyb3VuZFwiLC8vIOWtpuWOhlxuICAgICAgICAgICAgICAgIHZhbHVlOlwicGVyc29uYWwuZWR1Y2F0aW9uQmFja2dyb3VuZFJlc1wiLy8g5a2m5Y6GXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOlwicGVyc29uYWwuZW1haWxcIiwvLyDpgq7nrrFcbiAgICAgICAgICAgICAgICB2YWx1ZTpcInBlcnNvbmFsLmVtYWlsUmVzXCIvLyDpgq7nrrFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6XCJwZXJzb25hbC5waG9uZVwiLC8vIOeUteivnVxuICAgICAgICAgICAgICAgIHZhbHVlOlwicGVyc29uYWwucGhvbmVSZXNcIi8vIOeUteivnVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDpcInBlcnNvbmFsLm1ham9yXCIsLy8g5LiT5LiaXG4gICAgICAgICAgICAgICAgdmFsdWU6XCJwZXJzb25hbC5tYWpvclJlc1wiLy8g5LiT5LiaXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9LFxuICAgIHNraWxsSW50cm9kdWN0aW9uOntcbiAgICAgICAgdGl0bGU6XCJza2lsbEludHJvZHVjdGlvblwiLFxuICAgICAgICBjb250ZW50OltcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDonc2tpbGwuaHRtbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6J3NraWxsLnVpJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDonc2tpbGwuZnJhbWV3b3JrJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDonc2tpbGwuZ2l0J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDonc2tpbGwuY29tcGF0aWJpbGl0eSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6J3NraWxsLnBlcmZvcm1hbmNlT3B0aW1pemF0aW9uJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfVxufSIsIi8qIVxuICAqIHNoYXJlZCB2OS4xNC40XG4gICogKGMpIDIwMjUga2F6dXlhIGthd2FndWNoaVxuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAgKi9cbi8qKlxuICogT3JpZ2luYWwgVXRpbGl0aWVzXG4gKiB3cml0dGVuIGJ5IGthenV5YSBrYXdhZ3VjaGlcbiAqL1xuY29uc3QgaW5Ccm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5sZXQgbWFyaztcbmxldCBtZWFzdXJlO1xuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGNvbnN0IHBlcmYgPSBpbkJyb3dzZXIgJiYgd2luZG93LnBlcmZvcm1hbmNlO1xuICAgIGlmIChwZXJmICYmXG4gICAgICAgIHBlcmYubWFyayAmJlxuICAgICAgICBwZXJmLm1lYXN1cmUgJiZcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzICYmXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgYnJvd3NlciBjb21wYXRcbiAgICAgICAgcGVyZi5jbGVhck1lYXN1cmVzKSB7XG4gICAgICAgIG1hcmsgPSAodGFnKSA9PiB7XG4gICAgICAgICAgICBwZXJmLm1hcmsodGFnKTtcbiAgICAgICAgfTtcbiAgICAgICAgbWVhc3VyZSA9IChuYW1lLCBzdGFydFRhZywgZW5kVGFnKSA9PiB7XG4gICAgICAgICAgICBwZXJmLm1lYXN1cmUobmFtZSwgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgICAgICAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xuICAgICAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XG4gICAgICAgIH07XG4gICAgfVxufVxuY29uc3QgUkVfQVJHUyA9IC9cXHsoWzAtOWEtekEtWl0rKVxcfS9nO1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmZ1bmN0aW9uIGZvcm1hdChtZXNzYWdlLCAuLi5hcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGlzT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgIH1cbiAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaGFzT3duUHJvcGVydHkpIHtcbiAgICAgICAgYXJncyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZS5yZXBsYWNlKFJFX0FSR1MsIChtYXRjaCwgaWRlbnRpZmllcikgPT4ge1xuICAgICAgICByZXR1cm4gYXJncy5oYXNPd25Qcm9wZXJ0eShpZGVudGlmaWVyKSA/IGFyZ3NbaWRlbnRpZmllcl0gOiAnJztcbiAgICB9KTtcbn1cbmNvbnN0IG1ha2VTeW1ib2wgPSAobmFtZSwgc2hhcmVhYmxlID0gZmFsc2UpID0+ICFzaGFyZWFibGUgPyBTeW1ib2wobmFtZSkgOiBTeW1ib2wuZm9yKG5hbWUpO1xuY29uc3QgZ2VuZXJhdGVGb3JtYXRDYWNoZUtleSA9IChsb2NhbGUsIGtleSwgc291cmNlKSA9PiBmcmllbmRseUpTT05zdHJpbmdpZnkoeyBsOiBsb2NhbGUsIGs6IGtleSwgczogc291cmNlIH0pO1xuY29uc3QgZnJpZW5kbHlKU09Oc3RyaW5naWZ5ID0gKGpzb24pID0+IEpTT04uc3RyaW5naWZ5KGpzb24pXG4gICAgLnJlcGxhY2UoL1xcdTIwMjgvZywgJ1xcXFx1MjAyOCcpXG4gICAgLnJlcGxhY2UoL1xcdTIwMjkvZywgJ1xcXFx1MjAyOScpXG4gICAgLnJlcGxhY2UoL1xcdTAwMjcvZywgJ1xcXFx1MDAyNycpO1xuY29uc3QgaXNOdW1iZXIgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpO1xuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbmNvbnN0IGlzUmVnRXhwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xuY29uc3QgaXNFbXB0eU9iamVjdCA9ICh2YWwpID0+IGlzUGxhaW5PYmplY3QodmFsKSAmJiBPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMDtcbmNvbnN0IGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5jb25zdCBfY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcbmNvbnN0IGNyZWF0ZSA9IChvYmogPSBudWxsKSA9PiBfY3JlYXRlKG9iaik7XG5sZXQgX2dsb2JhbFRoaXM7XG5jb25zdCBnZXRHbG9iYWxUaGlzID0gKCkgPT4ge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoX2dsb2JhbFRoaXMgfHxcbiAgICAgICAgKF9nbG9iYWxUaGlzID1cbiAgICAgICAgICAgIHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICAgICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgID8gc2VsZlxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHdpbmRvd1xuICAgICAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjcmVhdGUoKSkpO1xufTtcbmZ1bmN0aW9uIGVzY2FwZUh0bWwocmF3VGV4dCkge1xuICAgIHJldHVybiByYXdUZXh0XG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgIC5yZXBsYWNlKC8nL2csICcmYXBvczsnKTtcbn1cbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmZ1bmN0aW9uIGhhc093bihvYmosIGtleSkge1xuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbi8qIGVzbGludC1lbmFibGUgKi9cbi8qKlxuICogVXNlZnVsIFV0aWxpdGllcyBCeSBFdmFuIHlvdVxuICogTW9kaWZpZWQgYnkga2F6dXlhIGthd2FndWNoaVxuICogTUlUIExpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtbmV4dC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvc3JjL2luZGV4LnRzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlLW5leHQvYmxvYi9tYXN0ZXIvcGFja2FnZXMvc2hhcmVkL3NyYy9jb2RlZnJhbWUudHNcbiAqL1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG5jb25zdCBpc0Jvb2xlYW4gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnYm9vbGVhbic7XG5jb25zdCBpc1N5bWJvbCA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzeW1ib2wnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmNvbnN0IGlzUHJvbWlzZSA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XG59O1xuY29uc3Qgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB7XG4gICAgaWYgKCFpc09iamVjdCh2YWwpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgICByZXR1cm4gcHJvdG8gPT09IG51bGwgfHwgcHJvdG8uY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn07XG4vLyBmb3IgY29udmVydGluZyBsaXN0IGFuZCBuYW1lZCB2YWx1ZXMgdG8gZGlzcGxheWVkIHN0cmluZ3MuXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XG4gICAgcmV0dXJuIHZhbCA9PSBudWxsXG4gICAgICAgID8gJydcbiAgICAgICAgOiBpc0FycmF5KHZhbCkgfHwgKGlzUGxhaW5PYmplY3QodmFsKSAmJiB2YWwudG9TdHJpbmcgPT09IG9iamVjdFRvU3RyaW5nKVxuICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpXG4gICAgICAgICAgICA6IFN0cmluZyh2YWwpO1xufTtcbmZ1bmN0aW9uIGpvaW4oaXRlbXMsIHNlcGFyYXRvciA9ICcnKSB7XG4gICAgcmV0dXJuIGl0ZW1zLnJlZHVjZSgoc3RyLCBpdGVtLCBpbmRleCkgPT4gKGluZGV4ID09PSAwID8gc3RyICsgaXRlbSA6IHN0ciArIHNlcGFyYXRvciArIGl0ZW0pLCAnJyk7XG59XG5jb25zdCBSQU5HRSA9IDI7XG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xuICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnNwbGl0KC9cXHI/XFxuLyk7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBjb25zdCByZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7XG4gICAgICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSBSQU5HRTsgaiA8PSBpICsgUkFOR0UgfHwgZW5kID4gY291bnQ7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGogKyAxO1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAke2xpbmV9JHsnICcucmVwZWF0KDMgLSBTdHJpbmcobGluZSkubGVuZ3RoKX18ICAke2xpbmVzW2pdfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tqXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFkID0gc3RhcnQgLSAoY291bnQgLSBsaW5lTGVuZ3RoKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KDEsIGVuZCA+IGNvdW50ID8gbGluZUxlbmd0aCAtIHBhZCA6IGVuZCAtIHN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnICcucmVwZWF0KHBhZCkgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChqID4gaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArICdeJy5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcy5qb2luKCdcXG4nKTtcbn1cbmZ1bmN0aW9uIGluY3JlbWVudGVyKGNvZGUpIHtcbiAgICBsZXQgY3VycmVudCA9IGNvZGU7XG4gICAgcmV0dXJuICgpID0+ICsrY3VycmVudDtcbn1cblxuZnVuY3Rpb24gd2Fybihtc2csIGVycikge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbaW50bGlmeV0gYCArIG1zZyk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyLnN0YWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGhhc1dhcm5lZCA9IHt9O1xuZnVuY3Rpb24gd2Fybk9uY2UobXNnKSB7XG4gICAgaWYgKCFoYXNXYXJuZWRbbXNnXSkge1xuICAgICAgICBoYXNXYXJuZWRbbXNnXSA9IHRydWU7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICB9XG59XG5cbi8qKlxuICogRXZlbnQgZW1pdHRlciwgZm9ya2VkIGZyb20gdGhlIGJlbG93OlxuICogLSBvcmlnaW5hbCByZXBvc2l0b3J5IHVybDogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9taXR0XG4gKiAtIGNvZGUgdXJsOiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L21pdHQvYmxvYi9tYXN0ZXIvc3JjL2luZGV4LnRzXG4gKiAtIGF1dGhvcjogSmFzb24gTWlsbGVyIChodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0KVxuICogLSBsaWNlbnNlOiBNSVRcbiAqL1xuLyoqXG4gKiBDcmVhdGUgYSBldmVudCBlbWl0dGVyXG4gKlxuICogQHJldHVybnMgQW4gZXZlbnQgZW1pdHRlclxuICovXG5mdW5jdGlvbiBjcmVhdGVFbWl0dGVyKCkge1xuICAgIGNvbnN0IGV2ZW50cyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBlbWl0dGVyID0ge1xuICAgICAgICBldmVudHMsXG4gICAgICAgIG9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IGV2ZW50cy5nZXQoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgYWRkZWQgPSBoYW5kbGVycyAmJiBoYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICAgICAgaWYgKCFhZGRlZCkge1xuICAgICAgICAgICAgICAgIGV2ZW50cy5zZXQoZXZlbnQsIFtoYW5kbGVyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9mZihldmVudCwgaGFuZGxlcikge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlcnMgPSBldmVudHMuZ2V0KGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVycykge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpID4+PiAwLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW1pdChldmVudCwgcGF5bG9hZCkge1xuICAgICAgICAgICAgKGV2ZW50cy5nZXQoZXZlbnQpIHx8IFtdKVxuICAgICAgICAgICAgICAgIC5zbGljZSgpXG4gICAgICAgICAgICAgICAgLm1hcChoYW5kbGVyID0+IGhhbmRsZXIocGF5bG9hZCkpO1xuICAgICAgICAgICAgKGV2ZW50cy5nZXQoJyonKSB8fCBbXSlcbiAgICAgICAgICAgICAgICAuc2xpY2UoKVxuICAgICAgICAgICAgICAgIC5tYXAoaGFuZGxlciA9PiBoYW5kbGVyKGV2ZW50LCBwYXlsb2FkKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBlbWl0dGVyO1xufVxuXG5jb25zdCBpc05vdE9iamVjdE9ySXNBcnJheSA9ICh2YWwpID0+ICFpc09iamVjdCh2YWwpIHx8IGlzQXJyYXkodmFsKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiBkZWVwQ29weShzcmMsIGRlcykge1xuICAgIC8vIHNyYyBhbmQgZGVzIHNob3VsZCBib3RoIGJlIG9iamVjdHMsIGFuZCBub25lIG9mIHRoZW0gY2FuIGJlIGEgYXJyYXlcbiAgICBpZiAoaXNOb3RPYmplY3RPcklzQXJyYXkoc3JjKSB8fCBpc05vdE9iamVjdE9ySXNBcnJheShkZXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZScpO1xuICAgIH1cbiAgICBjb25zdCBzdGFjayA9IFt7IHNyYywgZGVzIH1dO1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgeyBzcmMsIGRlcyB9ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIC8vIHVzaW5nIGBPYmplY3Qua2V5c2Agd2hpY2ggc2tpcHMgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgT2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHNyY1trZXldIGlzIGFuIG9iamVjdC9hcnJheSwgc2V0IGRlc1trZXldXG4gICAgICAgICAgICAvLyB0byBlbXB0eSBvYmplY3QvYXJyYXkgdG8gcHJldmVudCBzZXR0aW5nIGJ5IHJlZmVyZW5jZVxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1trZXldKSAmJiAhaXNPYmplY3QoZGVzW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgZGVzW2tleV0gPSBBcnJheS5pc0FycmF5KHNyY1trZXldKSA/IFtdIDogY3JlYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNOb3RPYmplY3RPcklzQXJyYXkoZGVzW2tleV0pIHx8IGlzTm90T2JqZWN0T3JJc0FycmF5KHNyY1trZXldKSkge1xuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2Ugd2l0aCBzcmNba2V5XSB3aGVuOlxuICAgICAgICAgICAgICAgIC8vIHNyY1trZXldIG9yIGRlc1trZXldIGlzIG5vdCBhbiBvYmplY3QsIG9yXG4gICAgICAgICAgICAgICAgLy8gc3JjW2tleV0gb3IgZGVzW2tleV0gaXMgYW4gYXJyYXlcbiAgICAgICAgICAgICAgICBkZXNba2V5XSA9IHNyY1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3JjW2tleV0gYW5kIGRlc1trZXldIGFyZSBib3RoIG9iamVjdHMsIG1lcmdlIHRoZW1cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHsgc3JjOiBzcmNba2V5XSwgZGVzOiBkZXNba2V5XSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBhc3NpZ24sIGNyZWF0ZSwgY3JlYXRlRW1pdHRlciwgZGVlcENvcHksIGVzY2FwZUh0bWwsIGZvcm1hdCwgZnJpZW5kbHlKU09Oc3RyaW5naWZ5LCBnZW5lcmF0ZUNvZGVGcmFtZSwgZ2VuZXJhdGVGb3JtYXRDYWNoZUtleSwgZ2V0R2xvYmFsVGhpcywgaGFzT3duLCBpbkJyb3dzZXIsIGluY3JlbWVudGVyLCBpc0FycmF5LCBpc0Jvb2xlYW4sIGlzRGF0ZSwgaXNFbXB0eU9iamVjdCwgaXNGdW5jdGlvbiwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVnRXhwLCBpc1N0cmluZywgaXNTeW1ib2wsIGpvaW4sIG1ha2VTeW1ib2wsIG1hcmssIG1lYXN1cmUsIG9iamVjdFRvU3RyaW5nLCB0b0Rpc3BsYXlTdHJpbmcsIHRvVHlwZVN0cmluZywgd2Fybiwgd2Fybk9uY2UgfTtcbiIsIi8qIVxuICAqIG1lc3NhZ2UtY29tcGlsZXIgdjkuMTQuNFxuICAqIChjKSAyMDI1IGthenV5YSBrYXdhZ3VjaGlcbiAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICovXG5jb25zdCBMT0NBVElPTl9TVFVCID0ge1xuICAgIHN0YXJ0OiB7IGxpbmU6IDEsIGNvbHVtbjogMSwgb2Zmc2V0OiAwIH0sXG4gICAgZW5kOiB7IGxpbmU6IDEsIGNvbHVtbjogMSwgb2Zmc2V0OiAwIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbihsaW5lLCBjb2x1bW4sIG9mZnNldCkge1xuICAgIHJldHVybiB7IGxpbmUsIGNvbHVtbiwgb2Zmc2V0IH07XG59XG5mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihzdGFydCwgZW5kLCBzb3VyY2UpIHtcbiAgICBjb25zdCBsb2MgPSB7IHN0YXJ0LCBlbmQgfTtcbiAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgbG9jLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIGxvYztcbn1cblxuLyoqXG4gKiBPcmlnaW5hbCBVdGlsaXRpZXNcbiAqIHdyaXR0ZW4gYnkga2F6dXlhIGthd2FndWNoaVxuICovXG5jb25zdCBSRV9BUkdTID0gL1xceyhbMC05YS16QS1aXSspXFx9L2c7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuZnVuY3Rpb24gZm9ybWF0KG1lc3NhZ2UsIC4uLmFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgaXNPYmplY3QoYXJnc1swXSkpIHtcbiAgICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgfVxuICAgIGlmICghYXJncyB8fCAhYXJncy5oYXNPd25Qcm9wZXJ0eSkge1xuICAgICAgICBhcmdzID0ge307XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlLnJlcGxhY2UoUkVfQVJHUywgKG1hdGNoLCBpZGVudGlmaWVyKSA9PiB7XG4gICAgICAgIHJldHVybiBhcmdzLmhhc093blByb3BlcnR5KGlkZW50aWZpZXIpID8gYXJnc1tpZGVudGlmaWVyXSA6ICcnO1xuICAgIH0pO1xufVxuY29uc3QgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG5mdW5jdGlvbiBqb2luKGl0ZW1zLCBzZXBhcmF0b3IgPSAnJykge1xuICAgIHJldHVybiBpdGVtcy5yZWR1Y2UoKHN0ciwgaXRlbSwgaW5kZXgpID0+IChpbmRleCA9PT0gMCA/IHN0ciArIGl0ZW0gOiBzdHIgKyBzZXBhcmF0b3IgKyBpdGVtKSwgJycpO1xufVxuXG5jb25zdCBDb21waWxlV2FybkNvZGVzID0ge1xuICAgIFVTRV9NT0RVTE9fU1lOVEFYOiAxLFxuICAgIF9fRVhURU5EX1BPSU5UX186IDJcbn07XG4vKiogQGludGVybmFsICovXG5jb25zdCB3YXJuTWVzc2FnZXMgPSB7XG4gICAgW0NvbXBpbGVXYXJuQ29kZXMuVVNFX01PRFVMT19TWU5UQVhdOiBgVXNlIG1vZHVsbyBiZWZvcmUgJ3t7MH19Jy5gXG59O1xuZnVuY3Rpb24gY3JlYXRlQ29tcGlsZVdhcm4oY29kZSwgbG9jLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgbXNnID0gZm9ybWF0KHdhcm5NZXNzYWdlc1tjb2RlXSB8fCAnJywgLi4uKGFyZ3MgfHwgW10pKSA7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgbWVzc2FnZTogU3RyaW5nKG1zZyksIGNvZGUgfTtcbiAgICBpZiAobG9jKSB7XG4gICAgICAgIG1lc3NhZ2UubG9jYXRpb24gPSBsb2M7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xufVxuXG5jb25zdCBDb21waWxlRXJyb3JDb2RlcyA9IHtcbiAgICAvLyB0b2tlbml6ZXIgZXJyb3IgY29kZXNcbiAgICBFWFBFQ1RFRF9UT0tFTjogMSxcbiAgICBJTlZBTElEX1RPS0VOX0lOX1BMQUNFSE9MREVSOiAyLFxuICAgIFVOVEVSTUlOQVRFRF9TSU5HTEVfUVVPVEVfSU5fUExBQ0VIT0xERVI6IDMsXG4gICAgVU5LTk9XTl9FU0NBUEVfU0VRVUVOQ0U6IDQsXG4gICAgSU5WQUxJRF9VTklDT0RFX0VTQ0FQRV9TRVFVRU5DRTogNSxcbiAgICBVTkJBTEFOQ0VEX0NMT1NJTkdfQlJBQ0U6IDYsXG4gICAgVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0U6IDcsXG4gICAgRU1QVFlfUExBQ0VIT0xERVI6IDgsXG4gICAgTk9UX0FMTE9XX05FU1RfUExBQ0VIT0xERVI6IDksXG4gICAgSU5WQUxJRF9MSU5LRURfRk9STUFUOiAxMCxcbiAgICAvLyBwYXJzZXIgZXJyb3IgY29kZXNcbiAgICBNVVNUX0hBVkVfTUVTU0FHRVNfSU5fUExVUkFMOiAxMSxcbiAgICBVTkVYUEVDVEVEX0VNUFRZX0xJTktFRF9NT0RJRklFUjogMTIsXG4gICAgVU5FWFBFQ1RFRF9FTVBUWV9MSU5LRURfS0VZOiAxMyxcbiAgICBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVM6IDE0LFxuICAgIC8vIGdlbmVyYXRvciBlcnJvciBjb2Rlc1xuICAgIFVOSEFORExFRF9DT0RFR0VOX05PREVfVFlQRTogMTUsXG4gICAgLy8gbWluaWZpZXIgZXJyb3IgY29kZXNcbiAgICBVTkhBTkRMRURfTUlOSUZJRVJfTk9ERV9UWVBFOiAxNixcbiAgICAvLyBTcGVjaWFsIHZhbHVlIGZvciBoaWdoZXItb3JkZXIgY29tcGlsZXJzIHRvIHBpY2sgdXAgdGhlIGxhc3QgY29kZVxuICAgIC8vIHRvIGF2b2lkIGNvbGxpc2lvbiBvZiBlcnJvciBjb2Rlcy4gVGhpcyBzaG91bGQgYWx3YXlzIGJlIGtlcHQgYXMgdGhlIGxhc3RcbiAgICAvLyBpdGVtLlxuICAgIF9fRVhURU5EX1BPSU5UX186IDE3XG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgZXJyb3JNZXNzYWdlcyA9IHtcbiAgICAvLyB0b2tlbml6ZXIgZXJyb3IgbWVzc2FnZXNcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuRVhQRUNURURfVE9LRU5dOiBgRXhwZWN0ZWQgdG9rZW46ICd7MH0nYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9UT0tFTl9JTl9QTEFDRUhPTERFUl06IGBJbnZhbGlkIHRva2VuIGluIHBsYWNlaG9sZGVyOiAnezB9J2AsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVOVEVSTUlOQVRFRF9TSU5HTEVfUVVPVEVfSU5fUExBQ0VIT0xERVJdOiBgVW50ZXJtaW5hdGVkIHNpbmdsZSBxdW90ZSBpbiBwbGFjZWhvbGRlcmAsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVOS05PV05fRVNDQVBFX1NFUVVFTkNFXTogYFVua25vd24gZXNjYXBlIHNlcXVlbmNlOiBcXFxcezB9YCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9VTklDT0RFX0VTQ0FQRV9TRVFVRU5DRV06IGBJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiB7MH1gLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTkJBTEFOQ0VEX0NMT1NJTkdfQlJBQ0VdOiBgVW5iYWxhbmNlZCBjbG9zaW5nIGJyYWNlYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0VdOiBgVW50ZXJtaW5hdGVkIGNsb3NpbmcgYnJhY2VgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5FTVBUWV9QTEFDRUhPTERFUl06IGBFbXB0eSBwbGFjZWhvbGRlcmAsXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLk5PVF9BTExPV19ORVNUX1BMQUNFSE9MREVSXTogYE5vdCBhbGxvd2VkIG5lc3QgcGxhY2Vob2xkZXJgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5JTlZBTElEX0xJTktFRF9GT1JNQVRdOiBgSW52YWxpZCBsaW5rZWQgZm9ybWF0YCxcbiAgICAvLyBwYXJzZXIgZXJyb3IgbWVzc2FnZXNcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuTVVTVF9IQVZFX01FU1NBR0VTX0lOX1BMVVJBTF06IGBQbHVyYWwgbXVzdCBoYXZlIG1lc3NhZ2VzYCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FTVBUWV9MSU5LRURfTU9ESUZJRVJdOiBgVW5leHBlY3RlZCBlbXB0eSBsaW5rZWQgbW9kaWZpZXJgLFxuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VNUFRZX0xJTktFRF9LRVldOiBgVW5leHBlY3RlZCBlbXB0eSBsaW5rZWQga2V5YCxcbiAgICBbQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTXTogYFVuZXhwZWN0ZWQgbGV4aWNhbCBhbmFseXNpcyBpbiB0b2tlbjogJ3swfSdgLFxuICAgIC8vIGdlbmVyYXRvciBlcnJvciBtZXNzYWdlc1xuICAgIFtDb21waWxlRXJyb3JDb2Rlcy5VTkhBTkRMRURfQ09ERUdFTl9OT0RFX1RZUEVdOiBgdW5oYW5kbGVkIGNvZGVnZW4gbm9kZSB0eXBlOiAnezB9J2AsXG4gICAgLy8gbWluaW1pemVyIGVycm9yIG1lc3NhZ2VzXG4gICAgW0NvbXBpbGVFcnJvckNvZGVzLlVOSEFORExFRF9NSU5JRklFUl9OT0RFX1RZUEVdOiBgdW5oYW5kbGVkIG1pbWlmaWVyIG5vZGUgdHlwZTogJ3swfSdgXG59O1xuZnVuY3Rpb24gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBkb21haW4sIG1lc3NhZ2VzLCBhcmdzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IG1zZyA9IGZvcm1hdCgobWVzc2FnZXMgfHwgZXJyb3JNZXNzYWdlcylbY29kZV0gfHwgJycsIC4uLihhcmdzIHx8IFtdKSlcbiAgICAgICAgO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IFN5bnRheEVycm9yKFN0cmluZyhtc2cpKTtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgICBpZiAobG9jKSB7XG4gICAgICAgIGVycm9yLmxvY2F0aW9uID0gbG9jO1xuICAgIH1cbiAgICBlcnJvci5kb21haW4gPSBkb21haW47XG4gICAgcmV0dXJuIGVycm9yO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gZGVmYXVsdE9uRXJyb3IoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5jb25zdCBSRV9IVE1MX1RBRyA9IC88XFwvP1tcXHdcXHM9XCIvLic6OyMtXFwvXSs+LztcbmNvbnN0IGRldGVjdEh0bWxUYWcgPSAoc291cmNlKSA9PiBSRV9IVE1MX1RBRy50ZXN0KHNvdXJjZSk7XG5cbmNvbnN0IENIQVJfU1AgPSAnICc7XG5jb25zdCBDSEFSX0NSID0gJ1xccic7XG5jb25zdCBDSEFSX0xGID0gJ1xcbic7XG5jb25zdCBDSEFSX0xTID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDIwMjgpO1xuY29uc3QgQ0hBUl9QUyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHgyMDI5KTtcbmZ1bmN0aW9uIGNyZWF0ZVNjYW5uZXIoc3RyKSB7XG4gICAgY29uc3QgX2J1ZiA9IHN0cjtcbiAgICBsZXQgX2luZGV4ID0gMDtcbiAgICBsZXQgX2xpbmUgPSAxO1xuICAgIGxldCBfY29sdW1uID0gMTtcbiAgICBsZXQgX3BlZWtPZmZzZXQgPSAwO1xuICAgIGNvbnN0IGlzQ1JMRiA9IChpbmRleCkgPT4gX2J1ZltpbmRleF0gPT09IENIQVJfQ1IgJiYgX2J1ZltpbmRleCArIDFdID09PSBDSEFSX0xGO1xuICAgIGNvbnN0IGlzTEYgPSAoaW5kZXgpID0+IF9idWZbaW5kZXhdID09PSBDSEFSX0xGO1xuICAgIGNvbnN0IGlzUFMgPSAoaW5kZXgpID0+IF9idWZbaW5kZXhdID09PSBDSEFSX1BTO1xuICAgIGNvbnN0IGlzTFMgPSAoaW5kZXgpID0+IF9idWZbaW5kZXhdID09PSBDSEFSX0xTO1xuICAgIGNvbnN0IGlzTGluZUVuZCA9IChpbmRleCkgPT4gaXNDUkxGKGluZGV4KSB8fCBpc0xGKGluZGV4KSB8fCBpc1BTKGluZGV4KSB8fCBpc0xTKGluZGV4KTtcbiAgICBjb25zdCBpbmRleCA9ICgpID0+IF9pbmRleDtcbiAgICBjb25zdCBsaW5lID0gKCkgPT4gX2xpbmU7XG4gICAgY29uc3QgY29sdW1uID0gKCkgPT4gX2NvbHVtbjtcbiAgICBjb25zdCBwZWVrT2Zmc2V0ID0gKCkgPT4gX3BlZWtPZmZzZXQ7XG4gICAgY29uc3QgY2hhckF0ID0gKG9mZnNldCkgPT4gaXNDUkxGKG9mZnNldCkgfHwgaXNQUyhvZmZzZXQpIHx8IGlzTFMob2Zmc2V0KSA/IENIQVJfTEYgOiBfYnVmW29mZnNldF07XG4gICAgY29uc3QgY3VycmVudENoYXIgPSAoKSA9PiBjaGFyQXQoX2luZGV4KTtcbiAgICBjb25zdCBjdXJyZW50UGVlayA9ICgpID0+IGNoYXJBdChfaW5kZXggKyBfcGVla09mZnNldCk7XG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgX3BlZWtPZmZzZXQgPSAwO1xuICAgICAgICBpZiAoaXNMaW5lRW5kKF9pbmRleCkpIHtcbiAgICAgICAgICAgIF9saW5lKys7XG4gICAgICAgICAgICBfY29sdW1uID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDUkxGKF9pbmRleCkpIHtcbiAgICAgICAgICAgIF9pbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIF9pbmRleCsrO1xuICAgICAgICBfY29sdW1uKys7XG4gICAgICAgIHJldHVybiBfYnVmW19pbmRleF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZWsoKSB7XG4gICAgICAgIGlmIChpc0NSTEYoX2luZGV4ICsgX3BlZWtPZmZzZXQpKSB7XG4gICAgICAgICAgICBfcGVla09mZnNldCsrO1xuICAgICAgICB9XG4gICAgICAgIF9wZWVrT2Zmc2V0Kys7XG4gICAgICAgIHJldHVybiBfYnVmW19pbmRleCArIF9wZWVrT2Zmc2V0XTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIF9pbmRleCA9IDA7XG4gICAgICAgIF9saW5lID0gMTtcbiAgICAgICAgX2NvbHVtbiA9IDE7XG4gICAgICAgIF9wZWVrT2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRQZWVrKG9mZnNldCA9IDApIHtcbiAgICAgICAgX3BlZWtPZmZzZXQgPSBvZmZzZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNraXBUb1BlZWsoKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IF9pbmRleCArIF9wZWVrT2Zmc2V0O1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICB3aGlsZSAodGFyZ2V0ICE9PSBfaW5kZXgpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBfcGVla09mZnNldCA9IDA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGluZGV4LFxuICAgICAgICBsaW5lLFxuICAgICAgICBjb2x1bW4sXG4gICAgICAgIHBlZWtPZmZzZXQsXG4gICAgICAgIGNoYXJBdCxcbiAgICAgICAgY3VycmVudENoYXIsXG4gICAgICAgIGN1cnJlbnRQZWVrLFxuICAgICAgICBuZXh0LFxuICAgICAgICBwZWVrLFxuICAgICAgICByZXNldCxcbiAgICAgICAgcmVzZXRQZWVrLFxuICAgICAgICBza2lwVG9QZWVrXG4gICAgfTtcbn1cblxuY29uc3QgRU9GID0gdW5kZWZpbmVkO1xuY29uc3QgRE9UID0gJy4nO1xuY29uc3QgTElURVJBTF9ERUxJTUlURVIgPSBcIidcIjtcbmNvbnN0IEVSUk9SX0RPTUFJTiQzID0gJ3Rva2VuaXplcic7XG5mdW5jdGlvbiBjcmVhdGVUb2tlbml6ZXIoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IG9wdGlvbnMubG9jYXRpb24gIT09IGZhbHNlO1xuICAgIGNvbnN0IF9zY25yID0gY3JlYXRlU2Nhbm5lcihzb3VyY2UpO1xuICAgIGNvbnN0IGN1cnJlbnRPZmZzZXQgPSAoKSA9PiBfc2Nuci5pbmRleCgpO1xuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9ICgpID0+IGNyZWF0ZVBvc2l0aW9uKF9zY25yLmxpbmUoKSwgX3NjbnIuY29sdW1uKCksIF9zY25yLmluZGV4KCkpO1xuICAgIGNvbnN0IF9pbml0TG9jID0gY3VycmVudFBvc2l0aW9uKCk7XG4gICAgY29uc3QgX2luaXRPZmZzZXQgPSBjdXJyZW50T2Zmc2V0KCk7XG4gICAgY29uc3QgX2NvbnRleHQgPSB7XG4gICAgICAgIGN1cnJlbnRUeXBlOiAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLyxcbiAgICAgICAgb2Zmc2V0OiBfaW5pdE9mZnNldCxcbiAgICAgICAgc3RhcnRMb2M6IF9pbml0TG9jLFxuICAgICAgICBlbmRMb2M6IF9pbml0TG9jLFxuICAgICAgICBsYXN0VHlwZTogMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8sXG4gICAgICAgIGxhc3RPZmZzZXQ6IF9pbml0T2Zmc2V0LFxuICAgICAgICBsYXN0U3RhcnRMb2M6IF9pbml0TG9jLFxuICAgICAgICBsYXN0RW5kTG9jOiBfaW5pdExvYyxcbiAgICAgICAgYnJhY2VOZXN0OiAwLFxuICAgICAgICBpbkxpbmtlZDogZmFsc2UsXG4gICAgICAgIHRleHQ6ICcnXG4gICAgfTtcbiAgICBjb25zdCBjb250ZXh0ID0gKCkgPT4gX2NvbnRleHQ7XG4gICAgY29uc3QgeyBvbkVycm9yIH0gPSBvcHRpb25zO1xuICAgIGZ1bmN0aW9uIGVtaXRFcnJvcihjb2RlLCBwb3MsIG9mZnNldCwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBjdHggPSBjb250ZXh0KCk7XG4gICAgICAgIHBvcy5jb2x1bW4gKz0gb2Zmc2V0O1xuICAgICAgICBwb3Mub2Zmc2V0ICs9IG9mZnNldDtcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGxvY2F0aW9uID8gY3JlYXRlTG9jYXRpb24oY3R4LnN0YXJ0TG9jLCBwb3MpIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGNyZWF0ZUNvbXBpbGVFcnJvcihjb2RlLCBsb2MsIHtcbiAgICAgICAgICAgICAgICBkb21haW46IEVSUk9SX0RPTUFJTiQzLFxuICAgICAgICAgICAgICAgIGFyZ3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRva2VuKGNvbnRleHQsIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIGNvbnRleHQuZW5kTG9jID0gY3VycmVudFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgPSB0eXBlO1xuICAgICAgICBjb25zdCB0b2tlbiA9IHsgdHlwZSB9O1xuICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRva2VuLmxvYyA9IGNyZWF0ZUxvY2F0aW9uKGNvbnRleHQuc3RhcnRMb2MsIGNvbnRleHQuZW5kTG9jKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIGNvbnN0IGdldEVuZFRva2VuID0gKGNvbnRleHQpID0+IGdldFRva2VuKGNvbnRleHQsIDE0IC8qIFRva2VuVHlwZXMuRU9GICovKTtcbiAgICBmdW5jdGlvbiBlYXQoc2NuciwgY2gpIHtcbiAgICAgICAgaWYgKHNjbnIuY3VycmVudENoYXIoKSA9PT0gY2gpIHtcbiAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIGNoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLkVYUEVDVEVEX1RPS0VOLCBjdXJyZW50UG9zaXRpb24oKSwgMCwgY2gpO1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZWtTcGFjZXMoc2Nucikge1xuICAgICAgICBsZXQgYnVmID0gJyc7XG4gICAgICAgIHdoaWxlIChzY25yLmN1cnJlbnRQZWVrKCkgPT09IENIQVJfU1AgfHwgc2Nuci5jdXJyZW50UGVlaygpID09PSBDSEFSX0xGKSB7XG4gICAgICAgICAgICBidWYgKz0gc2Nuci5jdXJyZW50UGVlaygpO1xuICAgICAgICAgICAgc2Nuci5wZWVrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2tpcFNwYWNlcyhzY25yKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IHBlZWtTcGFjZXMoc2Nucik7XG4gICAgICAgIHNjbnIuc2tpcFRvUGVlaygpO1xuICAgICAgICByZXR1cm4gYnVmO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXJTdGFydChjaCkge1xuICAgICAgICBpZiAoY2ggPT09IEVPRikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgcmV0dXJuICgoY2MgPj0gOTcgJiYgY2MgPD0gMTIyKSB8fCAvLyBhLXpcbiAgICAgICAgICAgIChjYyA+PSA2NSAmJiBjYyA8PSA5MCkgfHwgLy8gQS1aXG4gICAgICAgICAgICBjYyA9PT0gOTUgLy8gX1xuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc051bWJlclN0YXJ0KGNoKSB7XG4gICAgICAgIGlmIChjaCA9PT0gRU9GKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICByZXR1cm4gY2MgPj0gNDggJiYgY2MgPD0gNTc7IC8vIDAtOVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc05hbWVkSWRlbnRpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSAyIC8qIFRva2VuVHlwZXMuQnJhY2VMZWZ0ICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gaXNJZGVudGlmaWVyU3RhcnQoc2Nuci5jdXJyZW50UGVlaygpKTtcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMaXN0SWRlbnRpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSAyIC8qIFRva2VuVHlwZXMuQnJhY2VMZWZ0ICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09ICctJyA/IHNjbnIucGVlaygpIDogc2Nuci5jdXJyZW50UGVlaygpO1xuICAgICAgICBjb25zdCByZXQgPSBpc051bWJlclN0YXJ0KGNoKTtcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMaXRlcmFsU3RhcnQoc2NuciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCByZXQgPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09IExJVEVSQUxfREVMSU1JVEVSO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0xpbmtlZERvdFN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSA4IC8qIFRva2VuVHlwZXMuTGlua2VkQWxpYXMgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCByZXQgPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09IFwiLlwiIC8qIFRva2VuQ2hhcnMuTGlua2VkRG90ICovO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0xpbmtlZE1vZGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDkgLyogVG9rZW5UeXBlcy5MaW5rZWREb3QgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCByZXQgPSBpc0lkZW50aWZpZXJTdGFydChzY25yLmN1cnJlbnRQZWVrKCkpO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0xpbmtlZERlbGltaXRlclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcbiAgICAgICAgaWYgKCEoY3VycmVudFR5cGUgPT09IDggLyogVG9rZW5UeXBlcy5MaW5rZWRBbGlhcyAqLyB8fFxuICAgICAgICAgICAgY3VycmVudFR5cGUgPT09IDEyIC8qIFRva2VuVHlwZXMuTGlua2VkTW9kaWZpZXIgKi8pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gc2Nuci5jdXJyZW50UGVlaygpID09PSBcIjpcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZERlbGltaXRlciAqLztcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMaW5rZWRSZWZlclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSAxMCAvKiBUb2tlblR5cGVzLkxpbmtlZERlbGltaXRlciAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRQZWVrKCk7XG4gICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzSWRlbnRpZmllclN0YXJ0KHNjbnIucGVlaygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBcIkBcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZEFsaWFzICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwifFwiIC8qIFRva2VuQ2hhcnMuUGlwZSAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIjpcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZERlbGltaXRlciAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIi5cIiAvKiBUb2tlbkNoYXJzLkxpbmtlZERvdCAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBDSEFSX1NQIHx8XG4gICAgICAgICAgICAgICAgIWNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfTEYpIHtcbiAgICAgICAgICAgICAgICBzY25yLnBlZWsoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNUZXh0U3RhcnQoc2NuciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXQgPSBmbigpO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1BsdXJhbFN0YXJ0KHNjbnIpIHtcbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gc2Nuci5jdXJyZW50UGVlaygpID09PSBcInxcIiAvKiBUb2tlbkNoYXJzLlBpcGUgKi87XG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRldGVjdE1vZHVsb1N0YXJ0KHNjbnIpIHtcbiAgICAgICAgY29uc3Qgc3BhY2VzID0gcGVla1NwYWNlcyhzY25yKTtcbiAgICAgICAgY29uc3QgcmV0ID0gc2Nuci5jdXJyZW50UGVlaygpID09PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLyAmJlxuICAgICAgICAgICAgc2Nuci5wZWVrKCkgPT09IFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovO1xuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNNb2R1bG86IHJldCxcbiAgICAgICAgICAgIGhhc1NwYWNlOiBzcGFjZXMubGVuZ3RoID4gMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1RleHRTdGFydChzY25yLCByZXNldCA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgZm4gPSAoaGFzU3BhY2UgPSBmYWxzZSwgcHJldiA9ICcnLCBkZXRlY3RNb2R1bG8gPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRQZWVrKCk7XG4gICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgPT09IFwiJVwiIC8qIFRva2VuQ2hhcnMuTW9kdWxvICovID8gZmFsc2UgOiBoYXNTcGFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBcIkBcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZEFsaWFzICovIHx8ICFjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ID09PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLyA/IHRydWUgOiBoYXNTcGFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLykge1xuICAgICAgICAgICAgICAgIHNjbnIucGVlaygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbihoYXNTcGFjZSwgXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwifFwiIC8qIFRva2VuQ2hhcnMuUGlwZSAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ID09PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLyB8fCBkZXRlY3RNb2R1bG9cbiAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgIDogIShwcmV2ID09PSBDSEFSX1NQIHx8IHByZXYgPT09IENIQVJfTEYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfU1ApIHtcbiAgICAgICAgICAgICAgICBzY25yLnBlZWsoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4odHJ1ZSwgQ0hBUl9TUCwgZGV0ZWN0TW9kdWxvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX0xGKSB7XG4gICAgICAgICAgICAgICAgc2Nuci5wZWVrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKHRydWUsIENIQVJfTEYsIGRldGVjdE1vZHVsbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmV0ID0gZm4oKTtcbiAgICAgICAgcmVzZXQgJiYgc2Nuci5yZXNldFBlZWsoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGFrZUNoYXIoc2NuciwgZm4pIHtcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgIGlmIChjaCA9PT0gRU9GKSB7XG4gICAgICAgICAgICByZXR1cm4gRU9GO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbihjaCkpIHtcbiAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIGNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXIoY2gpIHtcbiAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICByZXR1cm4gKChjYyA+PSA5NyAmJiBjYyA8PSAxMjIpIHx8IC8vIGEtelxuICAgICAgICAgICAgKGNjID49IDY1ICYmIGNjIDw9IDkwKSB8fCAvLyBBLVpcbiAgICAgICAgICAgIChjYyA+PSA0OCAmJiBjYyA8PSA1NykgfHwgLy8gMC05XG4gICAgICAgICAgICBjYyA9PT0gOTUgfHwgLy8gX1xuICAgICAgICAgICAgY2MgPT09IDM2IC8vICRcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGFrZUlkZW50aWZpZXJDaGFyKHNjbnIpIHtcbiAgICAgICAgcmV0dXJuIHRha2VDaGFyKHNjbnIsIGlzSWRlbnRpZmllcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTmFtZWRJZGVudGlmaWVyKGNoKSB7XG4gICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgcmV0dXJuICgoY2MgPj0gOTcgJiYgY2MgPD0gMTIyKSB8fCAvLyBhLXpcbiAgICAgICAgICAgIChjYyA+PSA2NSAmJiBjYyA8PSA5MCkgfHwgLy8gQS1aXG4gICAgICAgICAgICAoY2MgPj0gNDggJiYgY2MgPD0gNTcpIHx8IC8vIDAtOVxuICAgICAgICAgICAgY2MgPT09IDk1IHx8IC8vIF9cbiAgICAgICAgICAgIGNjID09PSAzNiB8fCAvLyAkXG4gICAgICAgICAgICBjYyA9PT0gNDUgLy8gLVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0YWtlTmFtZWRJZGVudGlmaWVyQ2hhcihzY25yKSB7XG4gICAgICAgIHJldHVybiB0YWtlQ2hhcihzY25yLCBpc05hbWVkSWRlbnRpZmllcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzRGlnaXQoY2gpIHtcbiAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICByZXR1cm4gY2MgPj0gNDggJiYgY2MgPD0gNTc7IC8vIDAtOVxuICAgIH1cbiAgICBmdW5jdGlvbiB0YWtlRGlnaXQoc2Nucikge1xuICAgICAgICByZXR1cm4gdGFrZUNoYXIoc2NuciwgaXNEaWdpdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzSGV4RGlnaXQoY2gpIHtcbiAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICByZXR1cm4gKChjYyA+PSA0OCAmJiBjYyA8PSA1NykgfHwgLy8gMC05XG4gICAgICAgICAgICAoY2MgPj0gNjUgJiYgY2MgPD0gNzApIHx8IC8vIEEtRlxuICAgICAgICAgICAgKGNjID49IDk3ICYmIGNjIDw9IDEwMikpOyAvLyBhLWZcbiAgICB9XG4gICAgZnVuY3Rpb24gdGFrZUhleERpZ2l0KHNjbnIpIHtcbiAgICAgICAgcmV0dXJuIHRha2VDaGFyKHNjbnIsIGlzSGV4RGlnaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREaWdpdHMoc2Nucikge1xuICAgICAgICBsZXQgY2ggPSAnJztcbiAgICAgICAgbGV0IG51bSA9ICcnO1xuICAgICAgICB3aGlsZSAoKGNoID0gdGFrZURpZ2l0KHNjbnIpKSkge1xuICAgICAgICAgICAgbnVtICs9IGNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRNb2R1bG8oc2Nucikge1xuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcbiAgICAgICAgaWYgKGNoICE9PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLykge1xuICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLkVYUEVDVEVEX1RPS0VOLCBjdXJyZW50UG9zaXRpb24oKSwgMCwgY2gpO1xuICAgICAgICB9XG4gICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICByZXR1cm4gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi87XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRUZXh0KHNjbnIpIHtcbiAgICAgICAgbGV0IGJ1ZiA9ICcnO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJ9XCIgLyogVG9rZW5DaGFycy5CcmFjZVJpZ2h0ICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi8gfHxcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJ8XCIgLyogVG9rZW5DaGFycy5QaXBlICovIHx8XG4gICAgICAgICAgICAgICAgIWNoKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCIlXCIgLyogVG9rZW5DaGFycy5Nb2R1bG8gKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNUZXh0U3RhcnQoc2NucikpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmICs9IGNoO1xuICAgICAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX1NQIHx8IGNoID09PSBDSEFSX0xGKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGV4dFN0YXJ0KHNjbnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidWYgKz0gY2g7XG4gICAgICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTmFtZWRJZGVudGlmaWVyKHNjbnIpIHtcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgbGV0IGNoID0gJyc7XG4gICAgICAgIGxldCBuYW1lID0gJyc7XG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlTmFtZWRJZGVudGlmaWVyQ2hhcihzY25yKSkpIHtcbiAgICAgICAgICAgIG5hbWUgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjbnIuY3VycmVudENoYXIoKSA9PT0gRU9GKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0UsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZExpc3RJZGVudGlmaWVyKHNjbnIpIHtcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgbGV0IHZhbHVlID0gJyc7XG4gICAgICAgIGlmIChzY25yLmN1cnJlbnRDaGFyKCkgPT09ICctJykge1xuICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICB2YWx1ZSArPSBgLSR7Z2V0RGlnaXRzKHNjbnIpfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSArPSBnZXREaWdpdHMoc2Nucik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjbnIuY3VycmVudENoYXIoKSA9PT0gRU9GKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0UsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGl0ZXJhbChjaCkge1xuICAgICAgICByZXR1cm4gY2ggIT09IExJVEVSQUxfREVMSU1JVEVSICYmIGNoICE9PSBDSEFSX0xGO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTGl0ZXJhbChzY25yKSB7XG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgICBlYXQoc2NuciwgYFxcJ2ApO1xuICAgICAgICBsZXQgY2ggPSAnJztcbiAgICAgICAgbGV0IGxpdGVyYWwgPSAnJztcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VDaGFyKHNjbnIsIGlzTGl0ZXJhbCkpKSB7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGxpdGVyYWwgKz0gcmVhZEVzY2FwZVNlcXVlbmNlKHNjbnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGl0ZXJhbCArPSBjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50ID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gQ0hBUl9MRiB8fCBjdXJyZW50ID09PSBFT0YpIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfU0lOR0xFX1FVT1RFX0lOX1BMQUNFSE9MREVSLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBJcyBpdCBjb3JyZWN0IHJlYWxseT9cbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBDSEFSX0xGKSB7XG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICAgICAgICAgICAgZWF0KHNjbnIsIGBcXCdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaXRlcmFsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgICBlYXQoc2NuciwgYFxcJ2ApO1xuICAgICAgICByZXR1cm4gbGl0ZXJhbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEVzY2FwZVNlcXVlbmNlKHNjbnIpIHtcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgY2FzZSBgXFwnYDogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXFxcXCR7Y2h9YDtcbiAgICAgICAgICAgIGNhc2UgJ3UnOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIGNoLCA0KTtcbiAgICAgICAgICAgIGNhc2UgJ1UnOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIGNoLCA2KTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOS05PV05fRVNDQVBFX1NFUVVFTkNFLCBjdXJyZW50UG9zaXRpb24oKSwgMCwgY2gpO1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIHVuaWNvZGUsIGRpZ2l0cykge1xuICAgICAgICBlYXQoc2NuciwgdW5pY29kZSk7XG4gICAgICAgIGxldCBzZXF1ZW5jZSA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZ2l0czsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IHRha2VIZXhEaWdpdChzY25yKTtcbiAgICAgICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9VTklDT0RFX0VTQ0FQRV9TRVFVRU5DRSwgY3VycmVudFBvc2l0aW9uKCksIDAsIGBcXFxcJHt1bmljb2RlfSR7c2VxdWVuY2V9JHtzY25yLmN1cnJlbnRDaGFyKCl9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXF1ZW5jZSArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFxcXFwke3VuaWNvZGV9JHtzZXF1ZW5jZX1gO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0ludmFsaWRJZGVudGlmaWVyKGNoKSB7XG4gICAgICAgIHJldHVybiAoY2ggIT09IFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovICYmXG4gICAgICAgICAgICBjaCAhPT0gXCJ9XCIgLyogVG9rZW5DaGFycy5CcmFjZVJpZ2h0ICovICYmXG4gICAgICAgICAgICBjaCAhPT0gQ0hBUl9TUCAmJlxuICAgICAgICAgICAgY2ggIT09IENIQVJfTEYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkSW52YWxpZElkZW50aWZpZXIoc2Nucikge1xuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICBsZXQgY2ggPSAnJztcbiAgICAgICAgbGV0IGlkZW50aWZpZXJzID0gJyc7XG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlQ2hhcihzY25yLCBpc0ludmFsaWRJZGVudGlmaWVyKSkpIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXJzICs9IGNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZGVudGlmaWVycztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZExpbmtlZE1vZGlmaWVyKHNjbnIpIHtcbiAgICAgICAgbGV0IGNoID0gJyc7XG4gICAgICAgIGxldCBuYW1lID0gJyc7XG4gICAgICAgIHdoaWxlICgoY2ggPSB0YWtlSWRlbnRpZmllckNoYXIoc2NucikpKSB7XG4gICAgICAgICAgICBuYW1lICs9IGNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTGlua2VkUmVmZXIoc2Nucikge1xuICAgICAgICBjb25zdCBmbiA9IChidWYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICAgICAgaWYgKGNoID09PSBcIntcIiAvKiBUb2tlbkNoYXJzLkJyYWNlTGVmdCAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIiVcIiAvKiBUb2tlbkNoYXJzLk1vZHVsbyAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIkBcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZEFsaWFzICovIHx8XG4gICAgICAgICAgICAgICAgY2ggPT09IFwifFwiIC8qIFRva2VuQ2hhcnMuUGlwZSAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIihcIiAvKiBUb2tlbkNoYXJzLlBhcmVuTGVmdCAqLyB8fFxuICAgICAgICAgICAgICAgIGNoID09PSBcIilcIiAvKiBUb2tlbkNoYXJzLlBhcmVuUmlnaHQgKi8gfHxcbiAgICAgICAgICAgICAgICAhY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfU1ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfTEYgfHwgY2ggPT09IERPVCkge1xuICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oYnVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oYnVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZuKCcnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZFBsdXJhbChzY25yKSB7XG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgIGNvbnN0IHBsdXJhbCA9IGVhdChzY25yLCBcInxcIiAvKiBUb2tlbkNoYXJzLlBpcGUgKi8pO1xuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICByZXR1cm4gcGx1cmFsO1xuICAgIH1cbiAgICAvLyBUT0RPOiBXZSBuZWVkIHJlZmFjdG9yaW5nIG9mIHRva2VuIHBhcnNpbmcgLi4uXG4gICAgZnVuY3Rpb24gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB7XG4gICAgICAgIGxldCB0b2tlbiA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgICAgICBjYXNlIFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovOlxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5OT1RfQUxMT1dfTkVTVF9QTEFDRUhPTERFUiwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8sIFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovKTtcbiAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0Kys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgY2FzZSBcIn1cIiAvKiBUb2tlbkNoYXJzLkJyYWNlUmlnaHQgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAyIC8qIFRva2VuVHlwZXMuQnJhY2VMZWZ0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5FTVBUWV9QTEFDRUhPTERFUiwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDMgLyogVG9rZW5UeXBlcy5CcmFjZVJpZ2h0ICovLCBcIn1cIiAvKiBUb2tlbkNoYXJzLkJyYWNlUmlnaHQgKi8pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0LS07XG4gICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPiAwICYmIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaW5MaW5rZWQgJiYgY29udGV4dC5icmFjZU5lc3QgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICBjYXNlIFwiQFwiIC8qIFRva2VuQ2hhcnMuTGlua2VkQWxpYXMgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0UsIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW4gPSByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGxldCB2YWxpZE5hbWVkSWRlbnRpZmllciA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkTGlzdElkZW50aWZpZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldCB2YWxpZExpdGVyYWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChpc1BsdXJhbFN0YXJ0KHNjbnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5VTlRFUk1JTkFURURfQ0xPU0lOR19CUkFDRSwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMSAvKiBUb2tlblR5cGVzLlBpcGUgKi8sIHJlYWRQbHVyYWwoc2NucikpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNldFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaW5MaW5rZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5icmFjZU5lc3QgPiAwICYmXG4gICAgICAgICAgICAgICAgICAgIChjb250ZXh0LmN1cnJlbnRUeXBlID09PSA1IC8qIFRva2VuVHlwZXMuTmFtZWQgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgPT09IDYgLyogVG9rZW5UeXBlcy5MaXN0ICovIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlID09PSA3IC8qIFRva2VuVHlwZXMuTGl0ZXJhbCAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbihzY25yLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCh2YWxpZE5hbWVkSWRlbnRpZmllciA9IGlzTmFtZWRJZGVudGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgNSAvKiBUb2tlblR5cGVzLk5hbWVkICovLCByZWFkTmFtZWRJZGVudGlmaWVyKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHZhbGlkTGlzdElkZW50aWZpZXIgPSBpc0xpc3RJZGVudGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgNiAvKiBUb2tlblR5cGVzLkxpc3QgKi8sIHJlYWRMaXN0SWRlbnRpZmllcihzY25yKSk7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCh2YWxpZExpdGVyYWwgPSBpc0xpdGVyYWxTdGFydChzY25yLCBjb250ZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCA3IC8qIFRva2VuVHlwZXMuTGl0ZXJhbCAqLywgcmVhZExpdGVyYWwoc2NucikpO1xuICAgICAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdmFsaWROYW1lZElkZW50aWZpZXIgJiYgIXZhbGlkTGlzdElkZW50aWZpZXIgJiYgIXZhbGlkTGl0ZXJhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB3ZSBzaG91bGQgYmUgcmUtZGVzaWduZWQgaW52YWxpZCBjYXNlcywgd2hlbiB3ZSB3aWxsIGV4dGVuZCBtZXNzYWdlIHN5bnRheCBuZWFyIHRoZSBmdXR1cmUgLi4uXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMTMgLyogVG9rZW5UeXBlcy5JbnZhbGlkUGxhY2UgKi8sIHJlYWRJbnZhbGlkSWRlbnRpZmllcihzY25yKSk7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihDb21waWxlRXJyb3JDb2Rlcy5JTlZBTElEX1RPS0VOX0lOX1BMQUNFSE9MREVSLCBjdXJyZW50UG9zaXRpb24oKSwgMCwgdG9rZW4udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgLy8gVE9ETzogV2UgbmVlZCByZWZhY3RvcmluZyBvZiB0b2tlbiBwYXJzaW5nIC4uLlxuICAgIGZ1bmN0aW9uIHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcbiAgICAgICAgbGV0IHRva2VuID0gbnVsbDtcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XG4gICAgICAgIGlmICgoY3VycmVudFR5cGUgPT09IDggLyogVG9rZW5UeXBlcy5MaW5rZWRBbGlhcyAqLyB8fFxuICAgICAgICAgICAgY3VycmVudFR5cGUgPT09IDkgLyogVG9rZW5UeXBlcy5MaW5rZWREb3QgKi8gfHxcbiAgICAgICAgICAgIGN1cnJlbnRUeXBlID09PSAxMiAvKiBUb2tlblR5cGVzLkxpbmtlZE1vZGlmaWVyICovIHx8XG4gICAgICAgICAgICBjdXJyZW50VHlwZSA9PT0gMTAgLyogVG9rZW5UeXBlcy5MaW5rZWREZWxpbWl0ZXIgKi8pICYmXG4gICAgICAgICAgICAoY2ggPT09IENIQVJfTEYgfHwgY2ggPT09IENIQVJfU1ApKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9MSU5LRURfRk9STUFULCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjaCkge1xuICAgICAgICAgICAgY2FzZSBcIkBcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZEFsaWFzICovOlxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgOCAvKiBUb2tlblR5cGVzLkxpbmtlZEFsaWFzICovLCBcIkBcIiAvKiBUb2tlbkNoYXJzLkxpbmtlZEFsaWFzICovKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICBjYXNlIFwiLlwiIC8qIFRva2VuQ2hhcnMuTGlua2VkRG90ICovOlxuICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKGNvbnRleHQsIDkgLyogVG9rZW5UeXBlcy5MaW5rZWREb3QgKi8sIFwiLlwiIC8qIFRva2VuQ2hhcnMuTGlua2VkRG90ICovKTtcbiAgICAgICAgICAgIGNhc2UgXCI6XCIgLyogVG9rZW5DaGFycy5MaW5rZWREZWxpbWl0ZXIgKi86XG4gICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMTAgLyogVG9rZW5UeXBlcy5MaW5rZWREZWxpbWl0ZXIgKi8sIFwiOlwiIC8qIFRva2VuQ2hhcnMuTGlua2VkRGVsaW1pdGVyICovKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCAxIC8qIFRva2VuVHlwZXMuUGlwZSAqLywgcmVhZFBsdXJhbChzY25yKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0xpbmtlZERvdFN0YXJ0KHNjbnIsIGNvbnRleHQpIHx8XG4gICAgICAgICAgICAgICAgICAgIGlzTGlua2VkRGVsaW1pdGVyU3RhcnQoc2NuciwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5rZWRNb2RpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAxMiAvKiBUb2tlblR5cGVzLkxpbmtlZE1vZGlmaWVyICovLCByZWFkTGlua2VkTW9kaWZpZXIoc2NucikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5rZWRSZWZlclN0YXJ0KHNjbnIsIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gXCJ7XCIgLyogVG9rZW5DaGFycy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjYW4gdGhlIHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB8fCB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAxMSAvKiBUb2tlblR5cGVzLkxpbmtlZEtleSAqLywgcmVhZExpbmtlZFJlZmVyKHNjbnIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFR5cGUgPT09IDggLyogVG9rZW5UeXBlcy5MaW5rZWRBbGlhcyAqLykge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuSU5WQUxJRF9MSU5LRURfRk9STUFULCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbihzY25yLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPOiBXZSBuZWVkIHJlZmFjdG9yaW5nIG9mIHRva2VuIHBhcnNpbmcgLi4uXG4gICAgZnVuY3Rpb24gcmVhZFRva2VuKHNjbnIsIGNvbnRleHQpIHtcbiAgICAgICAgbGV0IHRva2VuID0geyB0eXBlOiAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLyB9O1xuICAgICAgICBpZiAoY29udGV4dC5icmFjZU5lc3QgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dC5pbkxpbmtlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xuICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgICAgICBjYXNlIFwie1wiIC8qIFRva2VuQ2hhcnMuQnJhY2VMZWZ0ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5JblBsYWNlaG9sZGVyKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xuICAgICAgICAgICAgY2FzZSBcIn1cIiAvKiBUb2tlbkNoYXJzLkJyYWNlUmlnaHQgKi86XG4gICAgICAgICAgICAgICAgZW1pdEVycm9yKENvbXBpbGVFcnJvckNvZGVzLlVOQkFMQU5DRURfQ0xPU0lOR19CUkFDRSwgY3VycmVudFBvc2l0aW9uKCksIDApO1xuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAzIC8qIFRva2VuVHlwZXMuQnJhY2VSaWdodCAqLywgXCJ9XCIgLyogVG9rZW5DaGFycy5CcmFjZVJpZ2h0ICovKTtcbiAgICAgICAgICAgIGNhc2UgXCJAXCIgLyogVG9rZW5DaGFycy5MaW5rZWRBbGlhcyAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5MaW5rZWQoc2NuciwgY29udGV4dCkgfHwgZ2V0RW5kVG9rZW4oY29udGV4dCk7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCAxIC8qIFRva2VuVHlwZXMuUGlwZSAqLywgcmVhZFBsdXJhbChzY25yKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgaXNNb2R1bG8sIGhhc1NwYWNlIH0gPSBkZXRlY3RNb2R1bG9TdGFydChzY25yKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb2R1bG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc1NwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGdldFRva2VuKGNvbnRleHQsIDAgLyogVG9rZW5UeXBlcy5UZXh0ICovLCByZWFkVGV4dChzY25yKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0VG9rZW4oY29udGV4dCwgNCAvKiBUb2tlblR5cGVzLk1vZHVsbyAqLywgcmVhZE1vZHVsbyhzY25yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1RleHRTdGFydChzY25yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMCAvKiBUb2tlblR5cGVzLlRleHQgKi8sIHJlYWRUZXh0KHNjbnIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuZXh0VG9rZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUsIG9mZnNldCwgc3RhcnRMb2MsIGVuZExvYyB9ID0gX2NvbnRleHQ7XG4gICAgICAgIF9jb250ZXh0Lmxhc3RUeXBlID0gY3VycmVudFR5cGU7XG4gICAgICAgIF9jb250ZXh0Lmxhc3RPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIF9jb250ZXh0Lmxhc3RTdGFydExvYyA9IHN0YXJ0TG9jO1xuICAgICAgICBfY29udGV4dC5sYXN0RW5kTG9jID0gZW5kTG9jO1xuICAgICAgICBfY29udGV4dC5vZmZzZXQgPSBjdXJyZW50T2Zmc2V0KCk7XG4gICAgICAgIF9jb250ZXh0LnN0YXJ0TG9jID0gY3VycmVudFBvc2l0aW9uKCk7XG4gICAgICAgIGlmIChfc2Nuci5jdXJyZW50Q2hhcigpID09PSBFT0YpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihfY29udGV4dCwgMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWFkVG9rZW4oX3NjbnIsIF9jb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dFRva2VuLFxuICAgICAgICBjdXJyZW50T2Zmc2V0LFxuICAgICAgICBjdXJyZW50UG9zaXRpb24sXG4gICAgICAgIGNvbnRleHRcbiAgICB9O1xufVxuXG5jb25zdCBFUlJPUl9ET01BSU4kMiA9ICdwYXJzZXInO1xuLy8gQmFja3NsYXNoIGJhY2tzbGFzaCwgYmFja3NsYXNoIHF1b3RlLCB1SEhISCwgVUhISEhISC5cbmNvbnN0IEtOT1dOX0VTQ0FQRVMgPSAvKD86XFxcXFxcXFx8XFxcXCd8XFxcXHUoWzAtOWEtZkEtRl17NH0pfFxcXFxVKFswLTlhLWZBLUZdezZ9KSkvZztcbmZ1bmN0aW9uIGZyb21Fc2NhcGVTZXF1ZW5jZShtYXRjaCwgY29kZVBvaW50NCwgY29kZVBvaW50Nikge1xuICAgIHN3aXRjaCAobWF0Y2gpIHtcbiAgICAgICAgY2FzZSBgXFxcXFxcXFxgOlxuICAgICAgICAgICAgcmV0dXJuIGBcXFxcYDtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICAgIGNhc2UgYFxcXFxcXCdgOlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICAgICAgICByZXR1cm4gYFxcJ2A7XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGVQb2ludCA9IHBhcnNlSW50KGNvZGVQb2ludDQgfHwgY29kZVBvaW50NiwgMTYpO1xuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweGQ3ZmYgfHwgY29kZVBvaW50ID49IDB4ZTAwMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaW52YWxpZCAuLi5cbiAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlbSB3aXRoIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVIuXG4gICAgICAgICAgICByZXR1cm4gJ++/vSc7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQYXJzZXIob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbG9jYXRpb24gPSBvcHRpb25zLmxvY2F0aW9uICE9PSBmYWxzZTtcbiAgICBjb25zdCB7IG9uRXJyb3IsIG9uV2FybiB9ID0gb3B0aW9ucztcbiAgICBmdW5jdGlvbiBlbWl0RXJyb3IodG9rZW56ZXIsIGNvZGUsIHN0YXJ0LCBvZmZzZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZW5kID0gdG9rZW56ZXIuY3VycmVudFBvc2l0aW9uKCk7XG4gICAgICAgIGVuZC5vZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICBlbmQuY29sdW1uICs9IG9mZnNldDtcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGxvY2F0aW9uID8gY3JlYXRlTG9jYXRpb24oc3RhcnQsIGVuZCkgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgZXJyID0gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywge1xuICAgICAgICAgICAgICAgIGRvbWFpbjogRVJST1JfRE9NQUlOJDIsXG4gICAgICAgICAgICAgICAgYXJnc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZW1pdFdhcm4odG9rZW56ZXIsIGNvZGUsIHN0YXJ0LCBvZmZzZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZW5kID0gdG9rZW56ZXIuY3VycmVudFBvc2l0aW9uKCk7XG4gICAgICAgIGVuZC5vZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICBlbmQuY29sdW1uICs9IG9mZnNldDtcbiAgICAgICAgaWYgKG9uV2Fybikge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gbG9jYXRpb24gPyBjcmVhdGVMb2NhdGlvbihzdGFydCwgZW5kKSA6IG51bGw7XG4gICAgICAgICAgICBvbldhcm4oY3JlYXRlQ29tcGlsZVdhcm4oY29kZSwgbG9jLCBhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnROb2RlKHR5cGUsIG9mZnNldCwgbG9jKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB7IHR5cGUgfTtcbiAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICBub2RlLnN0YXJ0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgbm9kZS5lbmQgPSBvZmZzZXQ7XG4gICAgICAgICAgICBub2RlLmxvYyA9IHsgc3RhcnQ6IGxvYywgZW5kOiBsb2MgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5kTm9kZShub2RlLCBvZmZzZXQsIHBvcywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgbm9kZS50eXBlID0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgIG5vZGUuZW5kID0gb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKG5vZGUubG9jKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5sb2MuZW5kID0gcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlVGV4dCh0b2tlbml6ZXIsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDMgLyogTm9kZVR5cGVzLlRleHQgKi8sIGNvbnRleHQub2Zmc2V0LCBjb250ZXh0LnN0YXJ0TG9jKTtcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZUxpc3QodG9rZW5pemVyLCBpbmRleCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg1IC8qIE5vZGVUeXBlcy5MaXN0ICovLCBvZmZzZXQsIGxvYyk7XG4gICAgICAgIG5vZGUuaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgICAgICB0b2tlbml6ZXIubmV4dFRva2VuKCk7IC8vIHNraXAgYnJhY2ggcmlnaHRcbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VOYW1lZCh0b2tlbml6ZXIsIGtleSwgbW9kdWxvKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCB7IGxhc3RPZmZzZXQ6IG9mZnNldCwgbGFzdFN0YXJ0TG9jOiBsb2MgfSA9IGNvbnRleHQ7IC8vIGdldCBicmFjZSBsZWZ0IGxvY1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDQgLyogTm9kZVR5cGVzLk5hbWVkICovLCBvZmZzZXQsIGxvYyk7XG4gICAgICAgIG5vZGUua2V5ID0ga2V5O1xuICAgICAgICBpZiAobW9kdWxvID09PSB0cnVlKSB7XG4gICAgICAgICAgICBub2RlLm1vZHVsbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5pemVyLm5leHRUb2tlbigpOyAvLyBza2lwIGJyYWNoIHJpZ2h0XG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbCh0b2tlbml6ZXIsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCB7IGxhc3RPZmZzZXQ6IG9mZnNldCwgbGFzdFN0YXJ0TG9jOiBsb2MgfSA9IGNvbnRleHQ7IC8vIGdldCBicmFjZSBsZWZ0IGxvY1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi8sIG9mZnNldCwgbG9jKTtcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlLnJlcGxhY2UoS05PV05fRVNDQVBFUywgZnJvbUVzY2FwZVNlcXVlbmNlKTtcbiAgICAgICAgdG9rZW5pemVyLm5leHRUb2tlbigpOyAvLyBza2lwIGJyYWNoIHJpZ2h0XG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGlua2VkTW9kaWZpZXIodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgbGlua2VkIGRvdCBsb2NcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg4IC8qIE5vZGVUeXBlcy5MaW5rZWRNb2RpZmllciAqLywgb2Zmc2V0LCBsb2MpO1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gMTIgLyogVG9rZW5UeXBlcy5MaW5rZWRNb2RpZmllciAqLykge1xuICAgICAgICAgICAgLy8gZW1wdHkgbW9kaWZpZXJcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfRU1QVFlfTElOS0VEX01PRElGSUVSLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCk7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gJyc7XG4gICAgICAgICAgICBlbmROb2RlKG5vZGUsIG9mZnNldCwgbG9jKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dENvbnN1bWVUb2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayB0b2tlblxuICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS52YWx1ZSA9IHRva2VuLnZhbHVlIHx8ICcnO1xuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBub2RlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlTGlua2VkS2V5KHRva2VuaXplciwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoNyAvKiBOb2RlVHlwZXMuTGlua2VkS2V5ICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XG4gICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VMaW5rZWQodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBsaW5rZWROb2RlID0gc3RhcnROb2RlKDYgLyogTm9kZVR5cGVzLkxpbmtlZCAqLywgY29udGV4dC5vZmZzZXQsIGNvbnRleHQuc3RhcnRMb2MpO1xuICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbml6ZXIubmV4dFRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSA5IC8qIFRva2VuVHlwZXMuTGlua2VkRG90ICovKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUxpbmtlZE1vZGlmaWVyKHRva2VuaXplcik7XG4gICAgICAgICAgICBsaW5rZWROb2RlLm1vZGlmaWVyID0gcGFyc2VkLm5vZGU7XG4gICAgICAgICAgICB0b2tlbiA9IHBhcnNlZC5uZXh0Q29uc3VtZVRva2VuIHx8IHRva2VuaXplci5uZXh0VG9rZW4oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhc3NldCBjaGVjayB0b2tlblxuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gMTAgLyogVG9rZW5UeXBlcy5MaW5rZWREZWxpbWl0ZXIgKi8pIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICAvLyBza2lwIGJyYWNlIGxlZnRcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IDIgLyogVG9rZW5UeXBlcy5CcmFjZUxlZnQgKi8pIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxMSAvKiBUb2tlblR5cGVzLkxpbmtlZEtleSAqLzpcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMsIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBwYXJzZUxpbmtlZEtleSh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNSAvKiBUb2tlblR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5rZWROb2RlLmtleSA9IHBhcnNlTmFtZWQodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYgLyogVG9rZW5UeXBlcy5MaXN0ICovOlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5rZWROb2RlLmtleSA9IHBhcnNlTGlzdCh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNyAvKiBUb2tlblR5cGVzLkxpdGVyYWwgKi86XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpbmtlZE5vZGUua2V5ID0gcGFyc2VMaXRlcmFsKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIC8vIGVtcHR5IGtleVxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfRU1QVFlfTElOS0VEX0tFWSwgY29udGV4dC5sYXN0U3RhcnRMb2MsIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbXB0eUxpbmtlZEtleU5vZGUgPSBzdGFydE5vZGUoNyAvKiBOb2RlVHlwZXMuTGlua2VkS2V5ICovLCBuZXh0Q29udGV4dC5vZmZzZXQsIG5leHRDb250ZXh0LnN0YXJ0TG9jKTtcbiAgICAgICAgICAgICAgICBlbXB0eUxpbmtlZEtleU5vZGUudmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICBlbmROb2RlKGVtcHR5TGlua2VkS2V5Tm9kZSwgbmV4dENvbnRleHQub2Zmc2V0LCBuZXh0Q29udGV4dC5zdGFydExvYyk7XG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBlbXB0eUxpbmtlZEtleU5vZGU7XG4gICAgICAgICAgICAgICAgZW5kTm9kZShsaW5rZWROb2RlLCBuZXh0Q29udGV4dC5vZmZzZXQsIG5leHRDb250ZXh0LnN0YXJ0TG9jKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Q29uc3VtZVRva2VuOiB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogbGlua2VkTm9kZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW5kTm9kZShsaW5rZWROb2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9kZTogbGlua2VkTm9kZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IGNvbnRleHQuY3VycmVudFR5cGUgPT09IDEgLyogVG9rZW5UeXBlcy5QaXBlICovXG4gICAgICAgICAgICA/IHRva2VuaXplci5jdXJyZW50T2Zmc2V0KClcbiAgICAgICAgICAgIDogY29udGV4dC5vZmZzZXQ7XG4gICAgICAgIGNvbnN0IHN0YXJ0TG9jID0gY29udGV4dC5jdXJyZW50VHlwZSA9PT0gMSAvKiBUb2tlblR5cGVzLlBpcGUgKi9cbiAgICAgICAgICAgID8gY29udGV4dC5lbmRMb2NcbiAgICAgICAgICAgIDogY29udGV4dC5zdGFydExvYztcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgyIC8qIE5vZGVUeXBlcy5NZXNzYWdlICovLCBzdGFydE9mZnNldCwgc3RhcnRMb2MpO1xuICAgICAgICBub2RlLml0ZW1zID0gW107XG4gICAgICAgIGxldCBuZXh0VG9rZW4gPSBudWxsO1xuICAgICAgICBsZXQgbW9kdWxvID0gbnVsbDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBuZXh0VG9rZW4gfHwgdG9rZW5pemVyLm5leHRUb2tlbigpO1xuICAgICAgICAgICAgbmV4dFRva2VuID0gbnVsbDtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBUb2tlblR5cGVzLlRleHQgKi86XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMsIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLml0ZW1zLnB1c2gocGFyc2VUZXh0KHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2IC8qIFRva2VuVHlwZXMuTGlzdCAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLlVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChwYXJzZUxpc3QodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQgLyogVG9rZW5UeXBlcy5Nb2R1bG8gKi86XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNSAvKiBUb2tlblR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgQ29tcGlsZUVycm9yQ29kZXMuVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlTmFtZWQodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJywgISFtb2R1bG8pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdFdhcm4odG9rZW5pemVyLCBDb21waWxlV2FybkNvZGVzLlVTRV9NT0RVTE9fU1lOVEFYLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bG8gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNyAvKiBUb2tlblR5cGVzLkxpdGVyYWwgKi86XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMsIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLml0ZW1zLnB1c2gocGFyc2VMaXRlcmFsKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4IC8qIFRva2VuVHlwZXMuTGlua2VkQWxpYXMgKi86IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VMaW5rZWQodG9rZW5pemVyKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlZC5ub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuID0gcGFyc2VkLm5leHRDb25zdW1lVG9rZW4gfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChjb250ZXh0LmN1cnJlbnRUeXBlICE9PSAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLyAmJlxuICAgICAgICAgICAgY29udGV4dC5jdXJyZW50VHlwZSAhPT0gMSAvKiBUb2tlblR5cGVzLlBpcGUgKi8pO1xuICAgICAgICAvLyBhZGp1c3QgbWVzc2FnZSBub2RlIGxvY1xuICAgICAgICBjb25zdCBlbmRPZmZzZXQgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFRva2VuVHlwZXMuUGlwZSAqL1xuICAgICAgICAgICAgPyBjb250ZXh0Lmxhc3RPZmZzZXRcbiAgICAgICAgICAgIDogdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKTtcbiAgICAgICAgY29uc3QgZW5kTG9jID0gY29udGV4dC5jdXJyZW50VHlwZSA9PT0gMSAvKiBUb2tlblR5cGVzLlBpcGUgKi9cbiAgICAgICAgICAgID8gY29udGV4dC5sYXN0RW5kTG9jXG4gICAgICAgICAgICA6IHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKTtcbiAgICAgICAgZW5kTm9kZShub2RlLCBlbmRPZmZzZXQsIGVuZExvYyk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZVBsdXJhbCh0b2tlbml6ZXIsIG9mZnNldCwgbG9jLCBtc2dOb2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xuICAgICAgICBsZXQgaGFzRW1wdHlNZXNzYWdlID0gbXNnTm9kZS5pdGVtcy5sZW5ndGggPT09IDA7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoMSAvKiBOb2RlVHlwZXMuUGx1cmFsICovLCBvZmZzZXQsIGxvYyk7XG4gICAgICAgIG5vZGUuY2FzZXMgPSBbXTtcbiAgICAgICAgbm9kZS5jYXNlcy5wdXNoKG1zZ05vZGUpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKTtcbiAgICAgICAgICAgIGlmICghaGFzRW1wdHlNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaGFzRW1wdHlNZXNzYWdlID0gbXNnLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUuY2FzZXMucHVzaChtc2cpO1xuICAgICAgICB9IHdoaWxlIChjb250ZXh0LmN1cnJlbnRUeXBlICE9PSAxNCAvKiBUb2tlblR5cGVzLkVPRiAqLyk7XG4gICAgICAgIGlmIChoYXNFbXB0eU1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIENvbXBpbGVFcnJvckNvZGVzLk1VU1RfSEFWRV9NRVNTQUdFU19JTl9QTFVSQUwsIGxvYywgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VSZXNvdXJjZSh0b2tlbml6ZXIpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHsgb2Zmc2V0LCBzdGFydExvYyB9ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgbXNnTm9kZSA9IHBhcnNlTWVzc2FnZSh0b2tlbml6ZXIpO1xuICAgICAgICBpZiAoY29udGV4dC5jdXJyZW50VHlwZSA9PT0gMTQgLyogVG9rZW5UeXBlcy5FT0YgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBtc2dOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGx1cmFsKHRva2VuaXplciwgb2Zmc2V0LCBzdGFydExvYywgbXNnTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2Uoc291cmNlKSB7XG4gICAgICAgIGNvbnN0IHRva2VuaXplciA9IGNyZWF0ZVRva2VuaXplcihzb3VyY2UsIGFzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgwIC8qIE5vZGVUeXBlcy5SZXNvdXJjZSAqLywgY29udGV4dC5vZmZzZXQsIGNvbnRleHQuc3RhcnRMb2MpO1xuICAgICAgICBpZiAobG9jYXRpb24gJiYgbm9kZS5sb2MpIHtcbiAgICAgICAgICAgIG5vZGUubG9jLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmJvZHkgPSBwYXJzZVJlc291cmNlKHRva2VuaXplcik7XG4gICAgICAgIGlmIChvcHRpb25zLm9uQ2FjaGVLZXkpIHtcbiAgICAgICAgICAgIG5vZGUuY2FjaGVLZXkgPSBvcHRpb25zLm9uQ2FjaGVLZXkoc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhc3NlcnQgd2hldGhlciBhY2hpZXZlZCB0byBFT0ZcbiAgICAgICAgaWYgKGNvbnRleHQuY3VycmVudFR5cGUgIT09IDE0IC8qIFRva2VuVHlwZXMuRU9GICovKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCBDb21waWxlRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMsIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBzb3VyY2VbY29udGV4dC5vZmZzZXRdIHx8ICcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICByZXR1cm4geyBwYXJzZSB9O1xufVxuZnVuY3Rpb24gZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSB7XG4gICAgaWYgKHRva2VuLnR5cGUgPT09IDE0IC8qIFRva2VuVHlwZXMuRU9GICovKSB7XG4gICAgICAgIHJldHVybiAnRU9GJztcbiAgICB9XG4gICAgY29uc3QgbmFtZSA9ICh0b2tlbi52YWx1ZSB8fCAnJykucmVwbGFjZSgvXFxyP1xcbi9ndSwgJ1xcXFxuJyk7XG4gICAgcmV0dXJuIG5hbWUubGVuZ3RoID4gMTAgPyBuYW1lLnNsaWNlKDAsIDkpICsgJ+KApicgOiBuYW1lO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1lcihhc3QsIG9wdGlvbnMgPSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4pIHtcbiAgICBjb25zdCBfY29udGV4dCA9IHtcbiAgICAgICAgYXN0LFxuICAgICAgICBoZWxwZXJzOiBuZXcgU2V0KClcbiAgICB9O1xuICAgIGNvbnN0IGNvbnRleHQgPSAoKSA9PiBfY29udGV4dDtcbiAgICBjb25zdCBoZWxwZXIgPSAobmFtZSkgPT4ge1xuICAgICAgICBfY29udGV4dC5oZWxwZXJzLmFkZChuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfTtcbiAgICByZXR1cm4geyBjb250ZXh0LCBoZWxwZXIgfTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlTm9kZXMobm9kZXMsIHRyYW5zZm9ybWVyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0cmF2ZXJzZU5vZGUobm9kZXNbaV0sIHRyYW5zZm9ybWVyKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmF2ZXJzZU5vZGUobm9kZSwgdHJhbnNmb3JtZXIpIHtcbiAgICAvLyBUT0RPOiBpZiB3ZSBuZWVkIHByZS1ob29rIG9mIHRyYW5zZm9ybSwgc2hvdWxkIGJlIGltcGxlbWVudGVkIHRvIGhlcmVcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICBjYXNlIDEgLyogTm9kZVR5cGVzLlBsdXJhbCAqLzpcbiAgICAgICAgICAgIHRyYXZlcnNlTm9kZXMobm9kZS5jYXNlcywgdHJhbnNmb3JtZXIpO1xuICAgICAgICAgICAgdHJhbnNmb3JtZXIuaGVscGVyKFwicGx1cmFsXCIgLyogSGVscGVyTmFtZU1hcC5QTFVSQUwgKi8pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMiAvKiBOb2RlVHlwZXMuTWVzc2FnZSAqLzpcbiAgICAgICAgICAgIHRyYXZlcnNlTm9kZXMobm9kZS5pdGVtcywgdHJhbnNmb3JtZXIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNiAvKiBOb2RlVHlwZXMuTGlua2VkICovOiB7XG4gICAgICAgICAgICBjb25zdCBsaW5rZWQgPSBub2RlO1xuICAgICAgICAgICAgdHJhdmVyc2VOb2RlKGxpbmtlZC5rZXksIHRyYW5zZm9ybWVyKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcImxpbmtlZFwiIC8qIEhlbHBlck5hbWVNYXAuTElOS0VEICovKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcInR5cGVcIiAvKiBIZWxwZXJOYW1lTWFwLlRZUEUgKi8pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA1IC8qIE5vZGVUeXBlcy5MaXN0ICovOlxuICAgICAgICAgICAgdHJhbnNmb3JtZXIuaGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBIZWxwZXJOYW1lTWFwLklOVEVSUE9MQVRFICovKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcImxpc3RcIiAvKiBIZWxwZXJOYW1lTWFwLkxJU1QgKi8pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNCAvKiBOb2RlVHlwZXMuTmFtZWQgKi86XG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJpbnRlcnBvbGF0ZVwiIC8qIEhlbHBlck5hbWVNYXAuSU5URVJQT0xBVEUgKi8pO1xuICAgICAgICAgICAgdHJhbnNmb3JtZXIuaGVscGVyKFwibmFtZWRcIiAvKiBIZWxwZXJOYW1lTWFwLk5BTUVEICovKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBUT0RPOiBpZiB3ZSBuZWVkIHBvc3QtaG9vayBvZiB0cmFuc2Zvcm0sIHNob3VsZCBiZSBpbXBsZW1lbnRlZCB0byBoZXJlXG59XG4vLyB0cmFuc2Zvcm0gQVNUXG5mdW5jdGlvbiB0cmFuc2Zvcm0oYXN0LCBvcHRpb25zID0ge30gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVUcmFuc2Zvcm1lcihhc3QpO1xuICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcIm5vcm1hbGl6ZVwiIC8qIEhlbHBlck5hbWVNYXAuTk9STUFMSVpFICovKTtcbiAgICAvLyB0cmF2ZXJzZVxuICAgIGFzdC5ib2R5ICYmIHRyYXZlcnNlTm9kZShhc3QuYm9keSwgdHJhbnNmb3JtZXIpO1xuICAgIC8vIHNldCBtZXRhIGluZm9ybWF0aW9uXG4gICAgY29uc3QgY29udGV4dCA9IHRyYW5zZm9ybWVyLmNvbnRleHQoKTtcbiAgICBhc3QuaGVscGVycyA9IEFycmF5LmZyb20oY29udGV4dC5oZWxwZXJzKTtcbn1cblxuZnVuY3Rpb24gb3B0aW1pemUoYXN0KSB7XG4gICAgY29uc3QgYm9keSA9IGFzdC5ib2R5O1xuICAgIGlmIChib2R5LnR5cGUgPT09IDIgLyogTm9kZVR5cGVzLk1lc3NhZ2UgKi8pIHtcbiAgICAgICAgb3B0aW1pemVNZXNzYWdlTm9kZShib2R5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGJvZHkuY2FzZXMuZm9yRWFjaChjID0+IG9wdGltaXplTWVzc2FnZU5vZGUoYykpO1xuICAgIH1cbiAgICByZXR1cm4gYXN0O1xufVxuZnVuY3Rpb24gb3B0aW1pemVNZXNzYWdlTm9kZShtZXNzYWdlKSB7XG4gICAgaWYgKG1lc3NhZ2UuaXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBtZXNzYWdlLml0ZW1zWzBdO1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAzIC8qIE5vZGVUeXBlcy5UZXh0ICovIHx8IGl0ZW0udHlwZSA9PT0gOSAvKiBOb2RlVHlwZXMuTGl0ZXJhbCAqLykge1xuICAgICAgICAgICAgbWVzc2FnZS5zdGF0aWMgPSBpdGVtLnZhbHVlO1xuICAgICAgICAgICAgZGVsZXRlIGl0ZW0udmFsdWU7IC8vIG9wdGltaXphdGlvbiBmb3Igc2l6ZVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gbWVzc2FnZS5pdGVtc1tpXTtcbiAgICAgICAgICAgIGlmICghKGl0ZW0udHlwZSA9PT0gMyAvKiBOb2RlVHlwZXMuVGV4dCAqLyB8fCBpdGVtLnR5cGUgPT09IDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi8pKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChpdGVtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gbWVzc2FnZS5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGljID0gam9pbih2YWx1ZXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IG1lc3NhZ2UuaXRlbXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gMyAvKiBOb2RlVHlwZXMuVGV4dCAqLyB8fCBpdGVtLnR5cGUgPT09IDkgLyogTm9kZVR5cGVzLkxpdGVyYWwgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGl0ZW0udmFsdWU7IC8vIG9wdGltaXphdGlvbiBmb3Igc2l6ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgRVJST1JfRE9NQUlOJDEgPSAnbWluaWZpZXInO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuZnVuY3Rpb24gbWluaWZ5KG5vZGUpIHtcbiAgICBub2RlLnQgPSBub2RlLnR5cGU7XG4gICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAwIC8qIE5vZGVUeXBlcy5SZXNvdXJjZSAqLzoge1xuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBub2RlO1xuICAgICAgICAgICAgbWluaWZ5KHJlc291cmNlLmJvZHkpO1xuICAgICAgICAgICAgcmVzb3VyY2UuYiA9IHJlc291cmNlLmJvZHk7XG4gICAgICAgICAgICBkZWxldGUgcmVzb3VyY2UuYm9keTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMSAvKiBOb2RlVHlwZXMuUGx1cmFsICovOiB7XG4gICAgICAgICAgICBjb25zdCBwbHVyYWwgPSBub2RlO1xuICAgICAgICAgICAgY29uc3QgY2FzZXMgPSBwbHVyYWwuY2FzZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbWluaWZ5KGNhc2VzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsdXJhbC5jID0gY2FzZXM7XG4gICAgICAgICAgICBkZWxldGUgcGx1cmFsLmNhc2VzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyIC8qIE5vZGVUeXBlcy5NZXNzYWdlICovOiB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gbWVzc2FnZS5pdGVtcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtaW5pZnkoaXRlbXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVzc2FnZS5pID0gaXRlbXM7XG4gICAgICAgICAgICBkZWxldGUgbWVzc2FnZS5pdGVtcztcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0YXRpYykge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UucyA9IG1lc3NhZ2Uuc3RhdGljO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlLnN0YXRpYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMyAvKiBOb2RlVHlwZXMuVGV4dCAqLzpcbiAgICAgICAgY2FzZSA5IC8qIE5vZGVUeXBlcy5MaXRlcmFsICovOlxuICAgICAgICBjYXNlIDggLyogTm9kZVR5cGVzLkxpbmtlZE1vZGlmaWVyICovOlxuICAgICAgICBjYXNlIDcgLyogTm9kZVR5cGVzLkxpbmtlZEtleSAqLzoge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVOb2RlID0gbm9kZTtcbiAgICAgICAgICAgIGlmICh2YWx1ZU5vZGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZU5vZGUudiA9IHZhbHVlTm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVOb2RlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA2IC8qIE5vZGVUeXBlcy5MaW5rZWQgKi86IHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtlZCA9IG5vZGU7XG4gICAgICAgICAgICBtaW5pZnkobGlua2VkLmtleSk7XG4gICAgICAgICAgICBsaW5rZWQuayA9IGxpbmtlZC5rZXk7XG4gICAgICAgICAgICBkZWxldGUgbGlua2VkLmtleTtcbiAgICAgICAgICAgIGlmIChsaW5rZWQubW9kaWZpZXIpIHtcbiAgICAgICAgICAgICAgICBtaW5pZnkobGlua2VkLm1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICBsaW5rZWQubSA9IGxpbmtlZC5tb2RpZmllcjtcbiAgICAgICAgICAgICAgICBkZWxldGUgbGlua2VkLm1vZGlmaWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA1IC8qIE5vZGVUeXBlcy5MaXN0ICovOiB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gbm9kZTtcbiAgICAgICAgICAgIGxpc3QuaSA9IGxpc3QuaW5kZXg7XG4gICAgICAgICAgICBkZWxldGUgbGlzdC5pbmRleDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNCAvKiBOb2RlVHlwZXMuTmFtZWQgKi86IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVkID0gbm9kZTtcbiAgICAgICAgICAgIG5hbWVkLmsgPSBuYW1lZC5rZXk7XG4gICAgICAgICAgICBkZWxldGUgbmFtZWQua2V5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDb21waWxlRXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5IQU5ETEVEX01JTklGSUVSX05PREVfVFlQRSwgbnVsbCwge1xuICAgICAgICAgICAgICAgICAgICBkb21haW46IEVSUk9SX0RPTUFJTiQxLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbbm9kZS50eXBlXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUgbm9kZS50eXBlO1xufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdHJpcGxlLXNsYXNoLXJlZmVyZW5jZVxuLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJzb3VyY2UtbWFwLWpzXCIgLz5cbmNvbnN0IEVSUk9SX0RPTUFJTiA9ICdwYXJzZXInO1xuZnVuY3Rpb24gY3JlYXRlQ29kZUdlbmVyYXRvcihhc3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHNvdXJjZU1hcCwgZmlsZW5hbWUsIGJyZWFrTGluZUNvZGUsIG5lZWRJbmRlbnQ6IF9uZWVkSW5kZW50IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gb3B0aW9ucy5sb2NhdGlvbiAhPT0gZmFsc2U7XG4gICAgY29uc3QgX2NvbnRleHQgPSB7XG4gICAgICAgIGZpbGVuYW1lLFxuICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgY29sdW1uOiAxLFxuICAgICAgICBsaW5lOiAxLFxuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIG1hcDogdW5kZWZpbmVkLFxuICAgICAgICBicmVha0xpbmVDb2RlLFxuICAgICAgICBuZWVkSW5kZW50OiBfbmVlZEluZGVudCxcbiAgICAgICAgaW5kZW50TGV2ZWw6IDBcbiAgICB9O1xuICAgIGlmIChsb2NhdGlvbiAmJiBhc3QubG9jKSB7XG4gICAgICAgIF9jb250ZXh0LnNvdXJjZSA9IGFzdC5sb2Muc291cmNlO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gKCkgPT4gX2NvbnRleHQ7XG4gICAgZnVuY3Rpb24gcHVzaChjb2RlLCBub2RlKSB7XG4gICAgICAgIF9jb250ZXh0LmNvZGUgKz0gY29kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX25ld2xpbmUobiwgd2l0aEJyZWFrTGluZSA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgX2JyZWFrTGluZUNvZGUgPSB3aXRoQnJlYWtMaW5lID8gYnJlYWtMaW5lQ29kZSA6ICcnO1xuICAgICAgICBwdXNoKF9uZWVkSW5kZW50ID8gX2JyZWFrTGluZUNvZGUgKyBgICBgLnJlcGVhdChuKSA6IF9icmVha0xpbmVDb2RlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5kZW50KHdpdGhOZXdMaW5lID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBsZXZlbCA9ICsrX2NvbnRleHQuaW5kZW50TGV2ZWw7XG4gICAgICAgIHdpdGhOZXdMaW5lICYmIF9uZXdsaW5lKGxldmVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVpbmRlbnQod2l0aE5ld0xpbmUgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGxldmVsID0gLS1fY29udGV4dC5pbmRlbnRMZXZlbDtcbiAgICAgICAgd2l0aE5ld0xpbmUgJiYgX25ld2xpbmUobGV2ZWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuZXdsaW5lKCkge1xuICAgICAgICBfbmV3bGluZShfY29udGV4dC5pbmRlbnRMZXZlbCk7XG4gICAgfVxuICAgIGNvbnN0IGhlbHBlciA9IChrZXkpID0+IGBfJHtrZXl9YDtcbiAgICBjb25zdCBuZWVkSW5kZW50ID0gKCkgPT4gX2NvbnRleHQubmVlZEluZGVudDtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb250ZXh0LFxuICAgICAgICBwdXNoLFxuICAgICAgICBpbmRlbnQsXG4gICAgICAgIGRlaW5kZW50LFxuICAgICAgICBuZXdsaW5lLFxuICAgICAgICBoZWxwZXIsXG4gICAgICAgIG5lZWRJbmRlbnRcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVMaW5rZWROb2RlKGdlbmVyYXRvciwgbm9kZSkge1xuICAgIGNvbnN0IHsgaGVscGVyIH0gPSBnZW5lcmF0b3I7XG4gICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwibGlua2VkXCIgLyogSGVscGVyTmFtZU1hcC5MSU5LRUQgKi8pfShgKTtcbiAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLmtleSk7XG4gICAgaWYgKG5vZGUubW9kaWZpZXIpIHtcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCwgYCk7XG4gICAgICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIG5vZGUubW9kaWZpZXIpO1xuICAgICAgICBnZW5lcmF0b3IucHVzaChgLCBfdHlwZWApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCwgdW5kZWZpbmVkLCBfdHlwZWApO1xuICAgIH1cbiAgICBnZW5lcmF0b3IucHVzaChgKWApO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVNZXNzYWdlTm9kZShnZW5lcmF0b3IsIG5vZGUpIHtcbiAgICBjb25zdCB7IGhlbHBlciwgbmVlZEluZGVudCB9ID0gZ2VuZXJhdG9yO1xuICAgIGdlbmVyYXRvci5wdXNoKGAke2hlbHBlcihcIm5vcm1hbGl6ZVwiIC8qIEhlbHBlck5hbWVNYXAuTk9STUFMSVpFICovKX0oW2ApO1xuICAgIGdlbmVyYXRvci5pbmRlbnQobmVlZEluZGVudCgpKTtcbiAgICBjb25zdCBsZW5ndGggPSBub2RlLml0ZW1zLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIG5vZGUuaXRlbXNbaV0pO1xuICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goJywgJyk7XG4gICAgfVxuICAgIGdlbmVyYXRvci5kZWluZGVudChuZWVkSW5kZW50KCkpO1xuICAgIGdlbmVyYXRvci5wdXNoKCddKScpO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVQbHVyYWxOb2RlKGdlbmVyYXRvciwgbm9kZSkge1xuICAgIGNvbnN0IHsgaGVscGVyLCBuZWVkSW5kZW50IH0gPSBnZW5lcmF0b3I7XG4gICAgaWYgKG5vZGUuY2FzZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBnZW5lcmF0b3IucHVzaChgJHtoZWxwZXIoXCJwbHVyYWxcIiAvKiBIZWxwZXJOYW1lTWFwLlBMVVJBTCAqLyl9KFtgKTtcbiAgICAgICAgZ2VuZXJhdG9yLmluZGVudChuZWVkSW5kZW50KCkpO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBub2RlLmNhc2VzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZS5jYXNlc1tpXSk7XG4gICAgICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goJywgJyk7XG4gICAgICAgIH1cbiAgICAgICAgZ2VuZXJhdG9yLmRlaW5kZW50KG5lZWRJbmRlbnQoKSk7XG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGBdKWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUmVzb3VyY2UoZ2VuZXJhdG9yLCBub2RlKSB7XG4gICAgaWYgKG5vZGUuYm9keSkge1xuICAgICAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLmJvZHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goJ251bGwnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlKSB7XG4gICAgY29uc3QgeyBoZWxwZXIgfSA9IGdlbmVyYXRvcjtcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICBjYXNlIDAgLyogTm9kZVR5cGVzLlJlc291cmNlICovOlxuICAgICAgICAgICAgZ2VuZXJhdGVSZXNvdXJjZShnZW5lcmF0b3IsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMSAvKiBOb2RlVHlwZXMuUGx1cmFsICovOlxuICAgICAgICAgICAgZ2VuZXJhdGVQbHVyYWxOb2RlKGdlbmVyYXRvciwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyIC8qIE5vZGVUeXBlcy5NZXNzYWdlICovOlxuICAgICAgICAgICAgZ2VuZXJhdGVNZXNzYWdlTm9kZShnZW5lcmF0b3IsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNiAvKiBOb2RlVHlwZXMuTGlua2VkICovOlxuICAgICAgICAgICAgZ2VuZXJhdGVMaW5rZWROb2RlKGdlbmVyYXRvciwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4IC8qIE5vZGVUeXBlcy5MaW5rZWRNb2RpZmllciAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDcgLyogTm9kZVR5cGVzLkxpbmtlZEtleSAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDUgLyogTm9kZVR5cGVzLkxpc3QgKi86XG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChgJHtoZWxwZXIoXCJpbnRlcnBvbGF0ZVwiIC8qIEhlbHBlck5hbWVNYXAuSU5URVJQT0xBVEUgKi8pfSgke2hlbHBlcihcImxpc3RcIiAvKiBIZWxwZXJOYW1lTWFwLkxJU1QgKi8pfSgke25vZGUuaW5kZXh9KSlgLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQgLyogTm9kZVR5cGVzLk5hbWVkICovOlxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBIZWxwZXJOYW1lTWFwLklOVEVSUE9MQVRFICovKX0oJHtoZWxwZXIoXCJuYW1lZFwiIC8qIEhlbHBlck5hbWVNYXAuTkFNRUQgKi8pfSgke0pTT04uc3RyaW5naWZ5KG5vZGUua2V5KX0pKWAsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOSAvKiBOb2RlVHlwZXMuTGl0ZXJhbCAqLzpcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMgLyogTm9kZVR5cGVzLlRleHQgKi86XG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChKU09OLnN0cmluZ2lmeShub2RlLnZhbHVlKSwgbm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDb21waWxlRXJyb3IoQ29tcGlsZUVycm9yQ29kZXMuVU5IQU5ETEVEX0NPREVHRU5fTk9ERV9UWVBFLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbjogRVJST1JfRE9NQUlOLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbbm9kZS50eXBlXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbn1cbi8vIGdlbmVyYXRlIGNvZGUgZnJvbSBBU1RcbmNvbnN0IGdlbmVyYXRlID0gKGFzdCwgb3B0aW9ucyA9IHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbikgPT4ge1xuICAgIGNvbnN0IG1vZGUgPSBpc1N0cmluZyhvcHRpb25zLm1vZGUpID8gb3B0aW9ucy5tb2RlIDogJ25vcm1hbCc7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBpc1N0cmluZyhvcHRpb25zLmZpbGVuYW1lKVxuICAgICAgICA/IG9wdGlvbnMuZmlsZW5hbWVcbiAgICAgICAgOiAnbWVzc2FnZS5pbnRsJztcbiAgICBjb25zdCBzb3VyY2VNYXAgPSAhIW9wdGlvbnMuc291cmNlTWFwO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGJyZWFrTGluZUNvZGUgPSBvcHRpb25zLmJyZWFrTGluZUNvZGUgIT0gbnVsbFxuICAgICAgICA/IG9wdGlvbnMuYnJlYWtMaW5lQ29kZVxuICAgICAgICA6IG1vZGUgPT09ICdhcnJvdydcbiAgICAgICAgICAgID8gJzsnXG4gICAgICAgICAgICA6ICdcXG4nO1xuICAgIGNvbnN0IG5lZWRJbmRlbnQgPSBvcHRpb25zLm5lZWRJbmRlbnQgPyBvcHRpb25zLm5lZWRJbmRlbnQgOiBtb2RlICE9PSAnYXJyb3cnO1xuICAgIGNvbnN0IGhlbHBlcnMgPSBhc3QuaGVscGVycyB8fCBbXTtcbiAgICBjb25zdCBnZW5lcmF0b3IgPSBjcmVhdGVDb2RlR2VuZXJhdG9yKGFzdCwge1xuICAgICAgICBtb2RlLFxuICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgc291cmNlTWFwLFxuICAgICAgICBicmVha0xpbmVDb2RlLFxuICAgICAgICBuZWVkSW5kZW50XG4gICAgfSk7XG4gICAgZ2VuZXJhdG9yLnB1c2gobW9kZSA9PT0gJ25vcm1hbCcgPyBgZnVuY3Rpb24gX19tc2dfXyAoY3R4KSB7YCA6IGAoY3R4KSA9PiB7YCk7XG4gICAgZ2VuZXJhdG9yLmluZGVudChuZWVkSW5kZW50KTtcbiAgICBpZiAoaGVscGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGBjb25zdCB7ICR7am9pbihoZWxwZXJzLm1hcChzID0+IGAke3N9OiBfJHtzfWApLCAnLCAnKX0gfSA9IGN0eGApO1xuICAgICAgICBnZW5lcmF0b3IubmV3bGluZSgpO1xuICAgIH1cbiAgICBnZW5lcmF0b3IucHVzaChgcmV0dXJuIGApO1xuICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIGFzdCk7XG4gICAgZ2VuZXJhdG9yLmRlaW5kZW50KG5lZWRJbmRlbnQpO1xuICAgIGdlbmVyYXRvci5wdXNoKGB9YCk7XG4gICAgZGVsZXRlIGFzdC5oZWxwZXJzO1xuICAgIGNvbnN0IHsgY29kZSwgbWFwIH0gPSBnZW5lcmF0b3IuY29udGV4dCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzdCxcbiAgICAgICAgY29kZSxcbiAgICAgICAgbWFwOiBtYXAgPyBtYXAudG9KU09OKCkgOiB1bmRlZmluZWQgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIGJhc2VDb21waWxlKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgYXNzaWduZWRPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBjb25zdCBqaXQgPSAhIWFzc2lnbmVkT3B0aW9ucy5qaXQ7XG4gICAgY29uc3QgZW5hbGJlTWluaWZ5ID0gISFhc3NpZ25lZE9wdGlvbnMubWluaWZ5O1xuICAgIGNvbnN0IGVuYW1iZU9wdGltaXplID0gYXNzaWduZWRPcHRpb25zLm9wdGltaXplID09IG51bGwgPyB0cnVlIDogYXNzaWduZWRPcHRpb25zLm9wdGltaXplO1xuICAgIC8vIHBhcnNlIHNvdXJjZSBjb2Rlc1xuICAgIGNvbnN0IHBhcnNlciA9IGNyZWF0ZVBhcnNlcihhc3NpZ25lZE9wdGlvbnMpO1xuICAgIGNvbnN0IGFzdCA9IHBhcnNlci5wYXJzZShzb3VyY2UpO1xuICAgIGlmICghaml0KSB7XG4gICAgICAgIC8vIHRyYW5zZm9ybSBBU1RzXG4gICAgICAgIHRyYW5zZm9ybShhc3QsIGFzc2lnbmVkT3B0aW9ucyk7XG4gICAgICAgIC8vIGdlbmVyYXRlIGphdmFzY3JpcHQgY29kZXNcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlKGFzdCwgYXNzaWduZWRPcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG9wdGltaXplIEFTVHNcbiAgICAgICAgZW5hbWJlT3B0aW1pemUgJiYgb3B0aW1pemUoYXN0KTtcbiAgICAgICAgLy8gbWluaW1pemUgQVNUc1xuICAgICAgICBlbmFsYmVNaW5pZnkgJiYgbWluaWZ5KGFzdCk7XG4gICAgICAgIC8vIEluIEpJVCBtb2RlLCBubyBhc3QgdHJhbnNmb3JtLCBubyBjb2RlIGdlbmVyYXRpb24uXG4gICAgICAgIHJldHVybiB7IGFzdCwgY29kZTogJycgfTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IENvbXBpbGVFcnJvckNvZGVzLCBDb21waWxlV2FybkNvZGVzLCBFUlJPUl9ET01BSU4kMiBhcyBFUlJPUl9ET01BSU4sIExPQ0FUSU9OX1NUVUIsIGJhc2VDb21waWxlLCBjcmVhdGVDb21waWxlRXJyb3IsIGNyZWF0ZUNvbXBpbGVXYXJuLCBjcmVhdGVMb2NhdGlvbiwgY3JlYXRlUGFyc2VyLCBjcmVhdGVQb3NpdGlvbiwgZGVmYXVsdE9uRXJyb3IsIGRldGVjdEh0bWxUYWcsIGVycm9yTWVzc2FnZXMsIHdhcm5NZXNzYWdlcyB9O1xuIiwiLyohXG4gICogY29yZS1iYXNlIHY5LjE0LjRcbiAgKiAoYykgMjAyNSBrYXp1eWEga2F3YWd1Y2hpXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAqL1xuaW1wb3J0IHsgZ2V0R2xvYmFsVGhpcywgaXNPYmplY3QsIGhhc093biwgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGNyZWF0ZSwgaXNOdW1iZXIsIGlzUGxhaW5PYmplY3QsIGFzc2lnbiwgam9pbiwgdG9EaXNwbGF5U3RyaW5nLCBpc0FycmF5LCBpbmNyZW1lbnRlciwgZm9ybWF0IGFzIGZvcm1hdCQxLCBpc1Byb21pc2UsIGlzQm9vbGVhbiwgd2FybiwgaXNSZWdFeHAsIHdhcm5PbmNlLCBlc2NhcGVIdG1sLCBpbkJyb3dzZXIsIG1hcmssIG1lYXN1cmUsIGlzRW1wdHlPYmplY3QsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZW5lcmF0ZUZvcm1hdENhY2hlS2V5LCBpc0RhdGUgfSBmcm9tICdAaW50bGlmeS9zaGFyZWQnO1xuaW1wb3J0IHsgQ29tcGlsZVdhcm5Db2RlcywgQ29tcGlsZUVycm9yQ29kZXMsIGNyZWF0ZUNvbXBpbGVFcnJvciwgZGV0ZWN0SHRtbFRhZywgZGVmYXVsdE9uRXJyb3IsIGJhc2VDb21waWxlIGFzIGJhc2VDb21waWxlJDEgfSBmcm9tICdAaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyJztcbmV4cG9ydCB7IENvbXBpbGVFcnJvckNvZGVzLCBjcmVhdGVDb21waWxlRXJyb3IgfSBmcm9tICdAaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyJztcblxuLyoqXG4gKiBUaGlzIGlzIG9ubHkgY2FsbGVkIGluIGVzbS1idW5kbGVyIGJ1aWxkcy5cbiAqIGlzdGFuYnVsLWlnbm9yZS1uZXh0XG4gKi9cbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfSklUX0NPTVBJTEFUSU9OX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19JTlRMSUZZX0pJVF9DT01QSUxBVElPTl9fID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgX19JTlRMSUZZX0RST1BfTUVTU0FHRV9DT01QSUxFUl9fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fSU5UTElGWV9EUk9QX01FU1NBR0VfQ09NUElMRVJfXyA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNNZXNzYWdlQVNUKHZhbCkge1xuICAgIHJldHVybiAoaXNPYmplY3QodmFsKSAmJlxuICAgICAgICByZXNvbHZlVHlwZSh2YWwpID09PSAwICYmXG4gICAgICAgIChoYXNPd24odmFsLCAnYicpIHx8IGhhc093bih2YWwsICdib2R5JykpKTtcbn1cbmNvbnN0IFBST1BTX0JPRFkgPSBbJ2InLCAnYm9keSddO1xuZnVuY3Rpb24gcmVzb2x2ZUJvZHkobm9kZSkge1xuICAgIHJldHVybiByZXNvbHZlUHJvcHMobm9kZSwgUFJPUFNfQk9EWSk7XG59XG5jb25zdCBQUk9QU19DQVNFUyA9IFsnYycsICdjYXNlcyddO1xuZnVuY3Rpb24gcmVzb2x2ZUNhc2VzKG5vZGUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZVByb3BzKG5vZGUsIFBST1BTX0NBU0VTLCBbXSk7XG59XG5jb25zdCBQUk9QU19TVEFUSUMgPSBbJ3MnLCAnc3RhdGljJ107XG5mdW5jdGlvbiByZXNvbHZlU3RhdGljKG5vZGUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZVByb3BzKG5vZGUsIFBST1BTX1NUQVRJQyk7XG59XG5jb25zdCBQUk9QU19JVEVNUyA9IFsnaScsICdpdGVtcyddO1xuZnVuY3Rpb24gcmVzb2x2ZUl0ZW1zKG5vZGUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZVByb3BzKG5vZGUsIFBST1BTX0lURU1TLCBbXSk7XG59XG5jb25zdCBQUk9QU19UWVBFID0gWyd0JywgJ3R5cGUnXTtcbmZ1bmN0aW9uIHJlc29sdmVUeXBlKG5vZGUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZVByb3BzKG5vZGUsIFBST1BTX1RZUEUpO1xufVxuY29uc3QgUFJPUFNfVkFMVUUgPSBbJ3YnLCAndmFsdWUnXTtcbmZ1bmN0aW9uIHJlc29sdmVWYWx1ZSQxKG5vZGUsIHR5cGUpIHtcbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVQcm9wcyhub2RlLCBQUk9QU19WQUxVRSk7XG4gICAgaWYgKHJlc29sdmVkICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlVW5oYW5kbGVOb2RlRXJyb3IodHlwZSk7XG4gICAgfVxufVxuY29uc3QgUFJPUFNfTU9ESUZJRVIgPSBbJ20nLCAnbW9kaWZpZXInXTtcbmZ1bmN0aW9uIHJlc29sdmVMaW5rZWRNb2RpZmllcihub2RlKSB7XG4gICAgcmV0dXJuIHJlc29sdmVQcm9wcyhub2RlLCBQUk9QU19NT0RJRklFUik7XG59XG5jb25zdCBQUk9QU19LRVkgPSBbJ2snLCAna2V5J107XG5mdW5jdGlvbiByZXNvbHZlTGlua2VkS2V5KG5vZGUpIHtcbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVQcm9wcyhub2RlLCBQUk9QU19LRVkpO1xuICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBjcmVhdGVVbmhhbmRsZU5vZGVFcnJvcig2IC8qIE5vZGVUeXBlcy5MaW5rZWQgKi8pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVQcm9wcyhub2RlLCBwcm9wcywgZGVmYXVsdFZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGlmIChoYXNPd24obm9kZSwgcHJvcCkgJiYgbm9kZVtwcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgcmV0dXJuIG5vZGVbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cbmNvbnN0IEFTVF9OT0RFX1BST1BTX0tFWVMgPSBbXG4gICAgLi4uUFJPUFNfQk9EWSxcbiAgICAuLi5QUk9QU19DQVNFUyxcbiAgICAuLi5QUk9QU19TVEFUSUMsXG4gICAgLi4uUFJPUFNfSVRFTVMsXG4gICAgLi4uUFJPUFNfS0VZLFxuICAgIC4uLlBST1BTX01PRElGSUVSLFxuICAgIC4uLlBST1BTX1ZBTFVFLFxuICAgIC4uLlBST1BTX1RZUEVcbl07XG5mdW5jdGlvbiBjcmVhdGVVbmhhbmRsZU5vZGVFcnJvcih0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgdW5oYW5kbGVkIG5vZGUgdHlwZTogJHt0eXBlfWApO1xufVxuXG5jb25zdCBwYXRoU3RhdGVNYWNoaW5lID0gIFtdO1xucGF0aFN0YXRlTWFjaGluZVswIC8qIFN0YXRlcy5CRUZPUkVfUEFUSCAqL10gPSB7XG4gICAgW1wid1wiIC8qIFBhdGhDaGFyVHlwZXMuV09SS1NQQUNFICovXTogWzAgLyogU3RhdGVzLkJFRk9SRV9QQVRIICovXSxcbiAgICBbXCJpXCIgLyogUGF0aENoYXJUeXBlcy5JREVOVCAqL106IFszIC8qIFN0YXRlcy5JTl9JREVOVCAqLywgMCAvKiBBY3Rpb25zLkFQUEVORCAqL10sXG4gICAgW1wiW1wiIC8qIFBhdGhDaGFyVHlwZXMuTEVGVF9CUkFDS0VUICovXTogWzQgLyogU3RhdGVzLklOX1NVQl9QQVRIICovXSxcbiAgICBbXCJvXCIgLyogUGF0aENoYXJUeXBlcy5FTkRfT0ZfRkFJTCAqL106IFs3IC8qIFN0YXRlcy5BRlRFUl9QQVRIICovXVxufTtcbnBhdGhTdGF0ZU1hY2hpbmVbMSAvKiBTdGF0ZXMuSU5fUEFUSCAqL10gPSB7XG4gICAgW1wid1wiIC8qIFBhdGhDaGFyVHlwZXMuV09SS1NQQUNFICovXTogWzEgLyogU3RhdGVzLklOX1BBVEggKi9dLFxuICAgIFtcIi5cIiAvKiBQYXRoQ2hhclR5cGVzLkRPVCAqL106IFsyIC8qIFN0YXRlcy5CRUZPUkVfSURFTlQgKi9dLFxuICAgIFtcIltcIiAvKiBQYXRoQ2hhclR5cGVzLkxFRlRfQlJBQ0tFVCAqL106IFs0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqL10sXG4gICAgW1wib1wiIC8qIFBhdGhDaGFyVHlwZXMuRU5EX09GX0ZBSUwgKi9dOiBbNyAvKiBTdGF0ZXMuQUZURVJfUEFUSCAqL11cbn07XG5wYXRoU3RhdGVNYWNoaW5lWzIgLyogU3RhdGVzLkJFRk9SRV9JREVOVCAqL10gPSB7XG4gICAgW1wid1wiIC8qIFBhdGhDaGFyVHlwZXMuV09SS1NQQUNFICovXTogWzIgLyogU3RhdGVzLkJFRk9SRV9JREVOVCAqL10sXG4gICAgW1wiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIjBcIiAvKiBQYXRoQ2hhclR5cGVzLlpFUk8gKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dXG59O1xucGF0aFN0YXRlTWFjaGluZVszIC8qIFN0YXRlcy5JTl9JREVOVCAqL10gPSB7XG4gICAgW1wiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIjBcIiAvKiBQYXRoQ2hhclR5cGVzLlpFUk8gKi9dOiBbMyAvKiBTdGF0ZXMuSU5fSURFTlQgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIndcIiAvKiBQYXRoQ2hhclR5cGVzLldPUktTUEFDRSAqL106IFsxIC8qIFN0YXRlcy5JTl9QQVRIICovLCAxIC8qIEFjdGlvbnMuUFVTSCAqL10sXG4gICAgW1wiLlwiIC8qIFBhdGhDaGFyVHlwZXMuRE9UICovXTogWzIgLyogU3RhdGVzLkJFRk9SRV9JREVOVCAqLywgMSAvKiBBY3Rpb25zLlBVU0ggKi9dLFxuICAgIFtcIltcIiAvKiBQYXRoQ2hhclR5cGVzLkxFRlRfQlJBQ0tFVCAqL106IFs0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqLywgMSAvKiBBY3Rpb25zLlBVU0ggKi9dLFxuICAgIFtcIm9cIiAvKiBQYXRoQ2hhclR5cGVzLkVORF9PRl9GQUlMICovXTogWzcgLyogU3RhdGVzLkFGVEVSX1BBVEggKi8sIDEgLyogQWN0aW9ucy5QVVNIICovXVxufTtcbnBhdGhTdGF0ZU1hY2hpbmVbNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi9dID0ge1xuICAgIFtcIidcIiAvKiBQYXRoQ2hhclR5cGVzLlNJTkdMRV9RVU9URSAqL106IFs1IC8qIFN0YXRlcy5JTl9TSU5HTEVfUVVPVEUgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIlxcXCJcIiAvKiBQYXRoQ2hhclR5cGVzLkRPVUJMRV9RVU9URSAqL106IFs2IC8qIFN0YXRlcy5JTl9ET1VCTEVfUVVPVEUgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIltcIiAvKiBQYXRoQ2hhclR5cGVzLkxFRlRfQlJBQ0tFVCAqL106IFtcbiAgICAgICAgNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi8sXG4gICAgICAgIDIgLyogQWN0aW9ucy5JTkNfU1VCX1BBVEhfREVQVEggKi9cbiAgICBdLFxuICAgIFtcIl1cIiAvKiBQYXRoQ2hhclR5cGVzLlJJR0hUX0JSQUNLRVQgKi9dOiBbMSAvKiBTdGF0ZXMuSU5fUEFUSCAqLywgMyAvKiBBY3Rpb25zLlBVU0hfU1VCX1BBVEggKi9dLFxuICAgIFtcIm9cIiAvKiBQYXRoQ2hhclR5cGVzLkVORF9PRl9GQUlMICovXTogOCAvKiBTdGF0ZXMuRVJST1IgKi8sXG4gICAgW1wibFwiIC8qIFBhdGhDaGFyVHlwZXMuRUxTRSAqL106IFs0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqLywgMCAvKiBBY3Rpb25zLkFQUEVORCAqL11cbn07XG5wYXRoU3RhdGVNYWNoaW5lWzUgLyogU3RhdGVzLklOX1NJTkdMRV9RVU9URSAqL10gPSB7XG4gICAgW1wiJ1wiIC8qIFBhdGhDaGFyVHlwZXMuU0lOR0xFX1FVT1RFICovXTogWzQgLyogU3RhdGVzLklOX1NVQl9QQVRIICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXSxcbiAgICBbXCJvXCIgLyogUGF0aENoYXJUeXBlcy5FTkRfT0ZfRkFJTCAqL106IDggLyogU3RhdGVzLkVSUk9SICovLFxuICAgIFtcImxcIiAvKiBQYXRoQ2hhclR5cGVzLkVMU0UgKi9dOiBbNSAvKiBTdGF0ZXMuSU5fU0lOR0xFX1FVT1RFICovLCAwIC8qIEFjdGlvbnMuQVBQRU5EICovXVxufTtcbnBhdGhTdGF0ZU1hY2hpbmVbNiAvKiBTdGF0ZXMuSU5fRE9VQkxFX1FVT1RFICovXSA9IHtcbiAgICBbXCJcXFwiXCIgLyogUGF0aENoYXJUeXBlcy5ET1VCTEVfUVVPVEUgKi9dOiBbNCAvKiBTdGF0ZXMuSU5fU1VCX1BBVEggKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dLFxuICAgIFtcIm9cIiAvKiBQYXRoQ2hhclR5cGVzLkVORF9PRl9GQUlMICovXTogOCAvKiBTdGF0ZXMuRVJST1IgKi8sXG4gICAgW1wibFwiIC8qIFBhdGhDaGFyVHlwZXMuRUxTRSAqL106IFs2IC8qIFN0YXRlcy5JTl9ET1VCTEVfUVVPVEUgKi8sIDAgLyogQWN0aW9ucy5BUFBFTkQgKi9dXG59O1xuLyoqXG4gKiBDaGVjayBpZiBhbiBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCB2YWx1ZS5cbiAqL1xuY29uc3QgbGl0ZXJhbFZhbHVlUkUgPSAvXlxccz8oPzp0cnVlfGZhbHNlfC0/W1xcZC5dK3wnW14nXSonfFwiW15cIl0qXCIpXFxzPyQvO1xuZnVuY3Rpb24gaXNMaXRlcmFsKGV4cCkge1xuICAgIHJldHVybiBsaXRlcmFsVmFsdWVSRS50ZXN0KGV4cCk7XG59XG4vKipcbiAqIFN0cmlwIHF1b3RlcyBmcm9tIGEgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIHN0cmlwUXVvdGVzKHN0cikge1xuICAgIGNvbnN0IGEgPSBzdHIuY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBiID0gc3RyLmNoYXJDb2RlQXQoc3RyLmxlbmd0aCAtIDEpO1xuICAgIHJldHVybiBhID09PSBiICYmIChhID09PSAweDIyIHx8IGEgPT09IDB4MjcpID8gc3RyLnNsaWNlKDEsIC0xKSA6IHN0cjtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgY2hhcmFjdGVyIGluIGEga2V5cGF0aC5cbiAqL1xuZnVuY3Rpb24gZ2V0UGF0aENoYXJUeXBlKGNoKSB7XG4gICAgaWYgKGNoID09PSB1bmRlZmluZWQgfHwgY2ggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFwib1wiIC8qIFBhdGhDaGFyVHlwZXMuRU5EX09GX0ZBSUwgKi87XG4gICAgfVxuICAgIGNvbnN0IGNvZGUgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICBjYXNlIDB4NWI6IC8vIFtcbiAgICAgICAgY2FzZSAweDVkOiAvLyBdXG4gICAgICAgIGNhc2UgMHgyZTogLy8gLlxuICAgICAgICBjYXNlIDB4MjI6IC8vIFwiXG4gICAgICAgIGNhc2UgMHgyNzogLy8gJ1xuICAgICAgICAgICAgcmV0dXJuIGNoO1xuICAgICAgICBjYXNlIDB4NWY6IC8vIF9cbiAgICAgICAgY2FzZSAweDI0OiAvLyAkXG4gICAgICAgIGNhc2UgMHgyZDogLy8gLVxuICAgICAgICAgICAgcmV0dXJuIFwiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi87XG4gICAgICAgIGNhc2UgMHgwOTogLy8gVGFiIChIVClcbiAgICAgICAgY2FzZSAweDBhOiAvLyBOZXdsaW5lIChMRilcbiAgICAgICAgY2FzZSAweDBkOiAvLyBSZXR1cm4gKENSKVxuICAgICAgICBjYXNlIDB4YTA6IC8vIE5vLWJyZWFrIHNwYWNlIChOQlNQKVxuICAgICAgICBjYXNlIDB4ZmVmZjogLy8gQnl0ZSBPcmRlciBNYXJrIChCT00pXG4gICAgICAgIGNhc2UgMHgyMDI4OiAvLyBMaW5lIFNlcGFyYXRvciAoTFMpXG4gICAgICAgIGNhc2UgMHgyMDI5OiAvLyBQYXJhZ3JhcGggU2VwYXJhdG9yIChQUylcbiAgICAgICAgICAgIHJldHVybiBcIndcIiAvKiBQYXRoQ2hhclR5cGVzLldPUktTUEFDRSAqLztcbiAgICB9XG4gICAgcmV0dXJuIFwiaVwiIC8qIFBhdGhDaGFyVHlwZXMuSURFTlQgKi87XG59XG4vKipcbiAqIEZvcm1hdCBhIHN1YlBhdGgsIHJldHVybiBpdHMgcGxhaW4gZm9ybSBpZiBpdCBpc1xuICogYSBsaXRlcmFsIHN0cmluZyBvciBudW1iZXIuIE90aGVyd2lzZSBwcmVwZW5kIHRoZVxuICogZHluYW1pYyBpbmRpY2F0b3IgKCopLlxuICovXG5mdW5jdGlvbiBmb3JtYXRTdWJQYXRoKHBhdGgpIHtcbiAgICBjb25zdCB0cmltbWVkID0gcGF0aC50cmltKCk7XG4gICAgLy8gaW52YWxpZCBsZWFkaW5nIDBcbiAgICBpZiAocGF0aC5jaGFyQXQoMCkgPT09ICcwJyAmJiBpc05hTihwYXJzZUludChwYXRoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNMaXRlcmFsKHRyaW1tZWQpXG4gICAgICAgID8gc3RyaXBRdW90ZXModHJpbW1lZClcbiAgICAgICAgOiBcIipcIiAvKiBQYXRoQ2hhclR5cGVzLkFTVEFSSVNLICovICsgdHJpbW1lZDtcbn1cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgcGF0aCBpbnRvIGFuIGFycmF5IG9mIHNlZ21lbnRzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcbiAgICBjb25zdCBrZXlzID0gW107XG4gICAgbGV0IGluZGV4ID0gLTE7XG4gICAgbGV0IG1vZGUgPSAwIC8qIFN0YXRlcy5CRUZPUkVfUEFUSCAqLztcbiAgICBsZXQgc3ViUGF0aERlcHRoID0gMDtcbiAgICBsZXQgYztcbiAgICBsZXQga2V5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgbGV0IG5ld0NoYXI7XG4gICAgbGV0IHR5cGU7XG4gICAgbGV0IHRyYW5zaXRpb247XG4gICAgbGV0IGFjdGlvbjtcbiAgICBsZXQgdHlwZU1hcDtcbiAgICBjb25zdCBhY3Rpb25zID0gW107XG4gICAgYWN0aW9uc1swIC8qIEFjdGlvbnMuQVBQRU5EICovXSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBrZXkgPSBuZXdDaGFyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5ICs9IG5ld0NoYXI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGFjdGlvbnNbMSAvKiBBY3Rpb25zLlBVU0ggKi9dID0gKCkgPT4ge1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAga2V5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBhY3Rpb25zWzIgLyogQWN0aW9ucy5JTkNfU1VCX1BBVEhfREVQVEggKi9dID0gKCkgPT4ge1xuICAgICAgICBhY3Rpb25zWzAgLyogQWN0aW9ucy5BUFBFTkQgKi9dKCk7XG4gICAgICAgIHN1YlBhdGhEZXB0aCsrO1xuICAgIH07XG4gICAgYWN0aW9uc1szIC8qIEFjdGlvbnMuUFVTSF9TVUJfUEFUSCAqL10gPSAoKSA9PiB7XG4gICAgICAgIGlmIChzdWJQYXRoRGVwdGggPiAwKSB7XG4gICAgICAgICAgICBzdWJQYXRoRGVwdGgtLTtcbiAgICAgICAgICAgIG1vZGUgPSA0IC8qIFN0YXRlcy5JTl9TVUJfUEFUSCAqLztcbiAgICAgICAgICAgIGFjdGlvbnNbMCAvKiBBY3Rpb25zLkFQUEVORCAqL10oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YlBhdGhEZXB0aCA9IDA7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXkgPSBmb3JtYXRTdWJQYXRoKGtleSk7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjdGlvbnNbMSAvKiBBY3Rpb25zLlBVU0ggKi9dKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIG1heWJlVW5lc2NhcGVRdW90ZSgpIHtcbiAgICAgICAgY29uc3QgbmV4dENoYXIgPSBwYXRoW2luZGV4ICsgMV07XG4gICAgICAgIGlmICgobW9kZSA9PT0gNSAvKiBTdGF0ZXMuSU5fU0lOR0xFX1FVT1RFICovICYmXG4gICAgICAgICAgICBuZXh0Q2hhciA9PT0gXCInXCIgLyogUGF0aENoYXJUeXBlcy5TSU5HTEVfUVVPVEUgKi8pIHx8XG4gICAgICAgICAgICAobW9kZSA9PT0gNiAvKiBTdGF0ZXMuSU5fRE9VQkxFX1FVT1RFICovICYmXG4gICAgICAgICAgICAgICAgbmV4dENoYXIgPT09IFwiXFxcIlwiIC8qIFBhdGhDaGFyVHlwZXMuRE9VQkxFX1FVT1RFICovKSkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIG5ld0NoYXIgPSAnXFxcXCcgKyBuZXh0Q2hhcjtcbiAgICAgICAgICAgIGFjdGlvbnNbMCAvKiBBY3Rpb25zLkFQUEVORCAqL10oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChtb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIGMgPSBwYXRoW2luZGV4XTtcbiAgICAgICAgaWYgKGMgPT09ICdcXFxcJyAmJiBtYXliZVVuZXNjYXBlUXVvdGUoKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZSA9IGdldFBhdGhDaGFyVHlwZShjKTtcbiAgICAgICAgdHlwZU1hcCA9IHBhdGhTdGF0ZU1hY2hpbmVbbW9kZV07XG4gICAgICAgIHRyYW5zaXRpb24gPSB0eXBlTWFwW3R5cGVdIHx8IHR5cGVNYXBbXCJsXCIgLyogUGF0aENoYXJUeXBlcy5FTFNFICovXSB8fCA4IC8qIFN0YXRlcy5FUlJPUiAqLztcbiAgICAgICAgLy8gY2hlY2sgcGFyc2UgZXJyb3JcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gPT09IDggLyogU3RhdGVzLkVSUk9SICovKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbW9kZSA9IHRyYW5zaXRpb25bMF07XG4gICAgICAgIGlmICh0cmFuc2l0aW9uWzFdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbnNbdHJhbnNpdGlvblsxXV07XG4gICAgICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbmV3Q2hhciA9IGM7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbigpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIHBhcnNlIGZpbmlzaFxuICAgICAgICBpZiAobW9kZSA9PT0gNyAvKiBTdGF0ZXMuQUZURVJfUEFUSCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBwYXRoIHRva2VuIGNhY2hlXG5jb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbi8qKlxuICoga2V5LXZhbHVlIG1lc3NhZ2UgcmVzb2x2ZXJcbiAqXG4gKiBAcmVtYXJrc1xuICogUmVzb2x2ZXMgbWVzc2FnZXMgd2l0aCB0aGUga2V5LXZhbHVlIHN0cnVjdHVyZS4gTm90ZSB0aGF0IG1lc3NhZ2VzIHdpdGggYSBoaWVyYXJjaGljYWwgc3RydWN0dXJlIHN1Y2ggYXMgb2JqZWN0cyBjYW5ub3QgYmUgcmVzb2x2ZWRcbiAqXG4gKiBAcGFyYW0gb2JqIC0gQSB0YXJnZXQgb2JqZWN0IHRvIGJlIHJlc29sdmVkIHdpdGggcGF0aFxuICogQHBhcmFtIHBhdGggLSBBIHtAbGluayBQYXRoIHwgcGF0aH0gdG8gcmVzb2x2ZSB0aGUgdmFsdWUgb2YgbWVzc2FnZVxuICpcbiAqIEByZXR1cm5zIEEgcmVzb2x2ZWQge0BsaW5rIFBhdGhWYWx1ZSB8IHBhdGggdmFsdWV9XG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVXaXRoS2V5VmFsdWUob2JqLCBwYXRoKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KG9iaikgPyBvYmpbcGF0aF0gOiBudWxsO1xufVxuLyoqXG4gKiBtZXNzYWdlIHJlc29sdmVyXG4gKlxuICogQHJlbWFya3NcbiAqIFJlc29sdmVzIG1lc3NhZ2VzLiBtZXNzYWdlcyB3aXRoIGEgaGllcmFyY2hpY2FsIHN0cnVjdHVyZSBzdWNoIGFzIG9iamVjdHMgY2FuIGJlIHJlc29sdmVkLiBUaGlzIHJlc29sdmVyIGlzIHVzZWQgaW4gVnVlSTE4biBhcyBkZWZhdWx0LlxuICpcbiAqIEBwYXJhbSBvYmogLSBBIHRhcmdldCBvYmplY3QgdG8gYmUgcmVzb2x2ZWQgd2l0aCBwYXRoXG4gKiBAcGFyYW0gcGF0aCAtIEEge0BsaW5rIFBhdGggfCBwYXRofSB0byByZXNvbHZlIHRoZSB2YWx1ZSBvZiBtZXNzYWdlXG4gKlxuICogQHJldHVybnMgQSByZXNvbHZlZCB7QGxpbmsgUGF0aFZhbHVlIHwgcGF0aCB2YWx1ZX1cbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVZhbHVlKG9iaiwgcGF0aCkge1xuICAgIC8vIGNoZWNrIG9iamVjdFxuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gcGFyc2UgcGF0aFxuICAgIGxldCBoaXQgPSBjYWNoZS5nZXQocGF0aCk7XG4gICAgaWYgKCFoaXQpIHtcbiAgICAgICAgaGl0ID0gcGFyc2UocGF0aCk7XG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGNhY2hlLnNldChwYXRoLCBoaXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNoZWNrIGhpdFxuICAgIGlmICghaGl0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyByZXNvbHZlIHBhdGggdmFsdWVcbiAgICBjb25zdCBsZW4gPSBoaXQubGVuZ3RoO1xuICAgIGxldCBsYXN0ID0gb2JqO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBjb25zdCBrZXkgPSBoaXRbaV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOT1RFOlxuICAgICAgICAgKiBpZiBga2V5YCBpcyBpbnRsaWZ5IG1lc3NhZ2UgZm9ybWF0IEFTVCBub2RlIGtleSBhbmQgYGxhc3RgIGlzIGludGxpZnkgbWVzc2FnZSBmb3JtYXQgQVNULCBza2lwIGl0LlxuICAgICAgICAgKiBiZWNhdXNlIHRoZSBBU1Qgbm9kZSBpcyBub3QgYSBrZXktdmFsdWUgc3RydWN0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKEFTVF9OT0RFX1BST1BTX0tFWVMuaW5jbHVkZXMoa2V5KSAmJiBpc01lc3NhZ2VBU1QobGFzdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbCA9IGxhc3Rba2V5XTtcbiAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihsYXN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdCA9IHZhbDtcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuY29uc3QgREVGQVVMVF9NT0RJRklFUiA9IChzdHIpID0+IHN0cjtcbmNvbnN0IERFRkFVTFRfTUVTU0FHRSA9IChjdHgpID0+ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5jb25zdCBERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFID0gJ3RleHQnO1xuY29uc3QgREVGQVVMVF9OT1JNQUxJWkUgPSAodmFsdWVzKSA9PiB2YWx1ZXMubGVuZ3RoID09PSAwID8gJycgOiBqb2luKHZhbHVlcyk7XG5jb25zdCBERUZBVUxUX0lOVEVSUE9MQVRFID0gdG9EaXNwbGF5U3RyaW5nO1xuZnVuY3Rpb24gcGx1cmFsRGVmYXVsdChjaG9pY2UsIGNob2ljZXNMZW5ndGgpIHtcbiAgICBjaG9pY2UgPSBNYXRoLmFicyhjaG9pY2UpO1xuICAgIGlmIChjaG9pY2VzTGVuZ3RoID09PSAyKSB7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICByZXR1cm4gY2hvaWNlXG4gICAgICAgICAgICA/IGNob2ljZSA+IDFcbiAgICAgICAgICAgICAgICA/IDFcbiAgICAgICAgICAgICAgICA6IDBcbiAgICAgICAgICAgIDogMTtcbiAgICB9XG4gICAgcmV0dXJuIGNob2ljZSA/IE1hdGgubWluKGNob2ljZSwgMikgOiAwO1xufVxuZnVuY3Rpb24gZ2V0UGx1cmFsSW5kZXgob3B0aW9ucykge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGluZGV4ID0gaXNOdW1iZXIob3B0aW9ucy5wbHVyYWxJbmRleClcbiAgICAgICAgPyBvcHRpb25zLnBsdXJhbEluZGV4XG4gICAgICAgIDogLTE7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIG9wdGlvbnMubmFtZWQgJiYgKGlzTnVtYmVyKG9wdGlvbnMubmFtZWQuY291bnQpIHx8IGlzTnVtYmVyKG9wdGlvbnMubmFtZWQubikpXG4gICAgICAgID8gaXNOdW1iZXIob3B0aW9ucy5uYW1lZC5jb3VudClcbiAgICAgICAgICAgID8gb3B0aW9ucy5uYW1lZC5jb3VudFxuICAgICAgICAgICAgOiBpc051bWJlcihvcHRpb25zLm5hbWVkLm4pXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLm5hbWVkLm5cbiAgICAgICAgICAgICAgICA6IGluZGV4XG4gICAgICAgIDogaW5kZXg7XG59XG5mdW5jdGlvbiBub3JtYWxpemVOYW1lZChwbHVyYWxJbmRleCwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzLmNvdW50KSB7XG4gICAgICAgIHByb3BzLmNvdW50ID0gcGx1cmFsSW5kZXg7XG4gICAgfVxuICAgIGlmICghcHJvcHMubikge1xuICAgICAgICBwcm9wcy5uID0gcGx1cmFsSW5kZXg7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlTWVzc2FnZUNvbnRleHQob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbG9jYWxlID0gb3B0aW9ucy5sb2NhbGU7XG4gICAgY29uc3QgcGx1cmFsSW5kZXggPSBnZXRQbHVyYWxJbmRleChvcHRpb25zKTtcbiAgICBjb25zdCBwbHVyYWxSdWxlID0gaXNPYmplY3Qob3B0aW9ucy5wbHVyYWxSdWxlcykgJiZcbiAgICAgICAgaXNTdHJpbmcobG9jYWxlKSAmJlxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXSlcbiAgICAgICAgPyBvcHRpb25zLnBsdXJhbFJ1bGVzW2xvY2FsZV1cbiAgICAgICAgOiBwbHVyYWxEZWZhdWx0O1xuICAgIGNvbnN0IG9yZ1BsdXJhbFJ1bGUgPSBpc09iamVjdChvcHRpb25zLnBsdXJhbFJ1bGVzKSAmJlxuICAgICAgICBpc1N0cmluZyhsb2NhbGUpICYmXG4gICAgICAgIGlzRnVuY3Rpb24ob3B0aW9ucy5wbHVyYWxSdWxlc1tsb2NhbGVdKVxuICAgICAgICA/IHBsdXJhbERlZmF1bHRcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGx1cmFsID0gKG1lc3NhZ2VzKSA9PiB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlc1twbHVyYWxSdWxlKHBsdXJhbEluZGV4LCBtZXNzYWdlcy5sZW5ndGgsIG9yZ1BsdXJhbFJ1bGUpXTtcbiAgICB9O1xuICAgIGNvbnN0IF9saXN0ID0gb3B0aW9ucy5saXN0IHx8IFtdO1xuICAgIGNvbnN0IGxpc3QgPSAoaW5kZXgpID0+IF9saXN0W2luZGV4XTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IF9uYW1lZCA9IG9wdGlvbnMubmFtZWQgfHwgY3JlYXRlKCk7XG4gICAgaXNOdW1iZXIob3B0aW9ucy5wbHVyYWxJbmRleCkgJiYgbm9ybWFsaXplTmFtZWQocGx1cmFsSW5kZXgsIF9uYW1lZCk7XG4gICAgY29uc3QgbmFtZWQgPSAoa2V5KSA9PiBfbmFtZWRba2V5XTtcbiAgICBmdW5jdGlvbiBtZXNzYWdlKGtleSkge1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgbXNnID0gaXNGdW5jdGlvbihvcHRpb25zLm1lc3NhZ2VzKVxuICAgICAgICAgICAgPyBvcHRpb25zLm1lc3NhZ2VzKGtleSlcbiAgICAgICAgICAgIDogaXNPYmplY3Qob3B0aW9ucy5tZXNzYWdlcylcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMubWVzc2FnZXNba2V5XVxuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIHJldHVybiAhbXNnXG4gICAgICAgICAgICA/IG9wdGlvbnMucGFyZW50XG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnBhcmVudC5tZXNzYWdlKGtleSkgLy8gcmVzb2x2ZSBmcm9tIHBhcmVudCBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIDogREVGQVVMVF9NRVNTQUdFXG4gICAgICAgICAgICA6IG1zZztcbiAgICB9XG4gICAgY29uc3QgX21vZGlmaWVyID0gKG5hbWUpID0+IG9wdGlvbnMubW9kaWZpZXJzXG4gICAgICAgID8gb3B0aW9ucy5tb2RpZmllcnNbbmFtZV1cbiAgICAgICAgOiBERUZBVUxUX01PRElGSUVSO1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5wcm9jZXNzb3IpICYmIGlzRnVuY3Rpb24ob3B0aW9ucy5wcm9jZXNzb3Iubm9ybWFsaXplKVxuICAgICAgICA/IG9wdGlvbnMucHJvY2Vzc29yLm5vcm1hbGl6ZVxuICAgICAgICA6IERFRkFVTFRfTk9STUFMSVpFO1xuICAgIGNvbnN0IGludGVycG9sYXRlID0gaXNQbGFpbk9iamVjdChvcHRpb25zLnByb2Nlc3NvcikgJiZcbiAgICAgICAgaXNGdW5jdGlvbihvcHRpb25zLnByb2Nlc3Nvci5pbnRlcnBvbGF0ZSlcbiAgICAgICAgPyBvcHRpb25zLnByb2Nlc3Nvci5pbnRlcnBvbGF0ZVxuICAgICAgICA6IERFRkFVTFRfSU5URVJQT0xBVEU7XG4gICAgY29uc3QgdHlwZSA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5wcm9jZXNzb3IpICYmIGlzU3RyaW5nKG9wdGlvbnMucHJvY2Vzc29yLnR5cGUpXG4gICAgICAgID8gb3B0aW9ucy5wcm9jZXNzb3IudHlwZVxuICAgICAgICA6IERFRkFVTFRfTUVTU0FHRV9EQVRBX1RZUEU7XG4gICAgY29uc3QgbGlua2VkID0gKGtleSwgLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBbYXJnMSwgYXJnMl0gPSBhcmdzO1xuICAgICAgICBsZXQgdHlwZSA9ICd0ZXh0JztcbiAgICAgICAgbGV0IG1vZGlmaWVyID0gJyc7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGFyZzEpKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXIgPSBhcmcxLm1vZGlmaWVyIHx8IG1vZGlmaWVyO1xuICAgICAgICAgICAgICAgIHR5cGUgPSBhcmcxLnR5cGUgfHwgdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKGFyZzEpKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXIgPSBhcmcxIHx8IG1vZGlmaWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMSkpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllciA9IGFyZzEgfHwgbW9kaWZpZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gYXJnMiB8fCB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJldCA9IG1lc3NhZ2Uoa2V5KShjdHgpO1xuICAgICAgICBjb25zdCBtc2cgPSBcbiAgICAgICAgLy8gVGhlIG1lc3NhZ2UgaW4gdm5vZGUgcmVzb2x2ZWQgd2l0aCBsaW5rZWQgYXJlIHJldHVybmVkIGFzIGFuIGFycmF5IGJ5IHByb2Nlc3Nvci5ub21hbGl6ZVxuICAgICAgICB0eXBlID09PSAndm5vZGUnICYmIGlzQXJyYXkocmV0KSAmJiBtb2RpZmllclxuICAgICAgICAgICAgPyByZXRbMF1cbiAgICAgICAgICAgIDogcmV0O1xuICAgICAgICByZXR1cm4gbW9kaWZpZXIgPyBfbW9kaWZpZXIobW9kaWZpZXIpKG1zZywgdHlwZSkgOiBtc2c7XG4gICAgfTtcbiAgICBjb25zdCBjdHggPSB7XG4gICAgICAgIFtcImxpc3RcIiAvKiBIZWxwZXJOYW1lTWFwLkxJU1QgKi9dOiBsaXN0LFxuICAgICAgICBbXCJuYW1lZFwiIC8qIEhlbHBlck5hbWVNYXAuTkFNRUQgKi9dOiBuYW1lZCxcbiAgICAgICAgW1wicGx1cmFsXCIgLyogSGVscGVyTmFtZU1hcC5QTFVSQUwgKi9dOiBwbHVyYWwsXG4gICAgICAgIFtcImxpbmtlZFwiIC8qIEhlbHBlck5hbWVNYXAuTElOS0VEICovXTogbGlua2VkLFxuICAgICAgICBbXCJtZXNzYWdlXCIgLyogSGVscGVyTmFtZU1hcC5NRVNTQUdFICovXTogbWVzc2FnZSxcbiAgICAgICAgW1widHlwZVwiIC8qIEhlbHBlck5hbWVNYXAuVFlQRSAqL106IHR5cGUsXG4gICAgICAgIFtcImludGVycG9sYXRlXCIgLyogSGVscGVyTmFtZU1hcC5JTlRFUlBPTEFURSAqL106IGludGVycG9sYXRlLFxuICAgICAgICBbXCJub3JtYWxpemVcIiAvKiBIZWxwZXJOYW1lTWFwLk5PUk1BTElaRSAqL106IG5vcm1hbGl6ZSxcbiAgICAgICAgW1widmFsdWVzXCIgLyogSGVscGVyTmFtZU1hcC5WQUxVRVMgKi9dOiBhc3NpZ24oY3JlYXRlKCksIF9saXN0LCBfbmFtZWQpXG4gICAgfTtcbiAgICByZXR1cm4gY3R4O1xufVxuXG5sZXQgZGV2dG9vbHMgPSBudWxsO1xuZnVuY3Rpb24gc2V0RGV2VG9vbHNIb29rKGhvb2spIHtcbiAgICBkZXZ0b29scyA9IGhvb2s7XG59XG5mdW5jdGlvbiBnZXREZXZUb29sc0hvb2soKSB7XG4gICAgcmV0dXJuIGRldnRvb2xzO1xufVxuZnVuY3Rpb24gaW5pdEkxOG5EZXZUb29scyhpMThuLCB2ZXJzaW9uLCBtZXRhKSB7XG4gICAgLy8gVE9ETzogcXVldWUgaWYgZGV2dG9vbHMgaXMgdW5kZWZpbmVkXG4gICAgZGV2dG9vbHMgJiZcbiAgICAgICAgZGV2dG9vbHMuZW1pdChcImkxOG46aW5pdFwiIC8qIEludGxpZnlEZXZUb29sc0hvb2tzLkkxOG5Jbml0ICovLCB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICBpMThuLFxuICAgICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICAgIG1ldGFcbiAgICAgICAgfSk7XG59XG5jb25zdCB0cmFuc2xhdGVEZXZUb29scyA9IC8qICNfX1BVUkVfXyovIGNyZWF0ZURldlRvb2xzSG9vayhcImZ1bmN0aW9uOnRyYW5zbGF0ZVwiIC8qIEludGxpZnlEZXZUb29sc0hvb2tzLkZ1bmN0aW9uVHJhbnNsYXRlICovKTtcbmZ1bmN0aW9uIGNyZWF0ZURldlRvb2xzSG9vayhob29rKSB7XG4gICAgcmV0dXJuIChwYXlsb2FkcykgPT4gZGV2dG9vbHMgJiYgZGV2dG9vbHMuZW1pdChob29rLCBwYXlsb2Fkcyk7XG59XG5cbmNvbnN0IGNvZGUkMSA9IENvbXBpbGVXYXJuQ29kZXMuX19FWFRFTkRfUE9JTlRfXztcbmNvbnN0IGluYyQxID0gaW5jcmVtZW50ZXIoY29kZSQxKTtcbmNvbnN0IENvcmVXYXJuQ29kZXMgPSB7XG4gICAgTk9UX0ZPVU5EX0tFWTogY29kZSQxLCAvLyAyXG4gICAgRkFMTEJBQ0tfVE9fVFJBTlNMQVRFOiBpbmMkMSgpLCAvLyAzXG4gICAgQ0FOTk9UX0ZPUk1BVF9OVU1CRVI6IGluYyQxKCksIC8vIDRcbiAgICBGQUxMQkFDS19UT19OVU1CRVJfRk9STUFUOiBpbmMkMSgpLCAvLyA1XG4gICAgQ0FOTk9UX0ZPUk1BVF9EQVRFOiBpbmMkMSgpLCAvLyA2XG4gICAgRkFMTEJBQ0tfVE9fREFURV9GT1JNQVQ6IGluYyQxKCksIC8vIDdcbiAgICBFWFBFUklNRU5UQUxfQ1VTVE9NX01FU1NBR0VfQ09NUElMRVI6IGluYyQxKCksIC8vIDhcbiAgICBfX0VYVEVORF9QT0lOVF9fOiBpbmMkMSgpIC8vIDlcbn07XG4vKiogQGludGVybmFsICovXG5jb25zdCB3YXJuTWVzc2FnZXMgPSB7XG4gICAgW0NvcmVXYXJuQ29kZXMuTk9UX0ZPVU5EX0tFWV06IGBOb3QgZm91bmQgJ3trZXl9JyBrZXkgaW4gJ3tsb2NhbGV9JyBsb2NhbGUgbWVzc2FnZXMuYCxcbiAgICBbQ29yZVdhcm5Db2Rlcy5GQUxMQkFDS19UT19UUkFOU0xBVEVdOiBgRmFsbCBiYWNrIHRvIHRyYW5zbGF0ZSAne2tleX0nIGtleSB3aXRoICd7dGFyZ2V0fScgbG9jYWxlLmAsXG4gICAgW0NvcmVXYXJuQ29kZXMuQ0FOTk9UX0ZPUk1BVF9OVU1CRVJdOiBgQ2Fubm90IGZvcm1hdCBhIG51bWJlciB2YWx1ZSBkdWUgdG8gbm90IHN1cHBvcnRlZCBJbnRsLk51bWJlckZvcm1hdC5gLFxuICAgIFtDb3JlV2FybkNvZGVzLkZBTExCQUNLX1RPX05VTUJFUl9GT1JNQVRdOiBgRmFsbCBiYWNrIHRvIG51bWJlciBmb3JtYXQgJ3trZXl9JyBrZXkgd2l0aCAne3RhcmdldH0nIGxvY2FsZS5gLFxuICAgIFtDb3JlV2FybkNvZGVzLkNBTk5PVF9GT1JNQVRfREFURV06IGBDYW5ub3QgZm9ybWF0IGEgZGF0ZSB2YWx1ZSBkdWUgdG8gbm90IHN1cHBvcnRlZCBJbnRsLkRhdGVUaW1lRm9ybWF0LmAsXG4gICAgW0NvcmVXYXJuQ29kZXMuRkFMTEJBQ0tfVE9fREFURV9GT1JNQVRdOiBgRmFsbCBiYWNrIHRvIGRhdGV0aW1lIGZvcm1hdCAne2tleX0nIGtleSB3aXRoICd7dGFyZ2V0fScgbG9jYWxlLmAsXG4gICAgW0NvcmVXYXJuQ29kZXMuRVhQRVJJTUVOVEFMX0NVU1RPTV9NRVNTQUdFX0NPTVBJTEVSXTogYFRoaXMgcHJvamVjdCBpcyB1c2luZyBDdXN0b20gTWVzc2FnZSBDb21waWxlciwgd2hpY2ggaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUuIEl0IG1heSByZWNlaXZlIGJyZWFraW5nIGNoYW5nZXMgb3IgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLmBcbn07XG5mdW5jdGlvbiBnZXRXYXJuTWVzc2FnZShjb2RlLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIGZvcm1hdCQxKHdhcm5NZXNzYWdlc1tjb2RlXSwgLi4uYXJncyk7XG59XG5cbmNvbnN0IGNvZGUgPSBDb21waWxlRXJyb3JDb2Rlcy5fX0VYVEVORF9QT0lOVF9fO1xuY29uc3QgaW5jID0gaW5jcmVtZW50ZXIoY29kZSk7XG5jb25zdCBDb3JlRXJyb3JDb2RlcyA9IHtcbiAgICBJTlZBTElEX0FSR1VNRU5UOiBjb2RlLCAvLyAxN1xuICAgIElOVkFMSURfREFURV9BUkdVTUVOVDogaW5jKCksIC8vIDE4XG4gICAgSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVDogaW5jKCksIC8vIDE5XG4gICAgTk9UX1NVUFBPUlRfTk9OX1NUUklOR19NRVNTQUdFOiBpbmMoKSwgLy8gMjBcbiAgICBOT1RfU1VQUE9SVF9MT0NBTEVfUFJPTUlTRV9WQUxVRTogaW5jKCksIC8vIDIxXG4gICAgTk9UX1NVUFBPUlRfTE9DQUxFX0FTWU5DX0ZVTkNUSU9OOiBpbmMoKSwgLy8gMjJcbiAgICBOT1RfU1VQUE9SVF9MT0NBTEVfVFlQRTogaW5jKCksIC8vIDIzXG4gICAgX19FWFRFTkRfUE9JTlRfXzogaW5jKCkgLy8gMjRcbn07XG5mdW5jdGlvbiBjcmVhdGVDb3JlRXJyb3IoY29kZSkge1xuICAgIHJldHVybiBjcmVhdGVDb21waWxlRXJyb3IoY29kZSwgbnVsbCwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8geyBtZXNzYWdlczogZXJyb3JNZXNzYWdlcyB9IDogdW5kZWZpbmVkKTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IGVycm9yTWVzc2FnZXMgPSB7XG4gICAgW0NvcmVFcnJvckNvZGVzLklOVkFMSURfQVJHVU1FTlRdOiAnSW52YWxpZCBhcmd1bWVudHMnLFxuICAgIFtDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0RBVEVfQVJHVU1FTlRdOiAnVGhlIGRhdGUgcHJvdmlkZWQgaXMgYW4gaW52YWxpZCBEYXRlIG9iamVjdC4nICtcbiAgICAgICAgJ01ha2Ugc3VyZSB5b3VyIERhdGUgcmVwcmVzZW50cyBhIHZhbGlkIGRhdGUuJyxcbiAgICBbQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVF06ICdUaGUgYXJndW1lbnQgcHJvdmlkZWQgaXMgbm90IGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nJyxcbiAgICBbQ29yZUVycm9yQ29kZXMuTk9UX1NVUFBPUlRfTk9OX1NUUklOR19NRVNTQUdFXTogJ05vdCBzdXBwb3J0IG5vbi1zdHJpbmcgbWVzc2FnZScsXG4gICAgW0NvcmVFcnJvckNvZGVzLk5PVF9TVVBQT1JUX0xPQ0FMRV9QUk9NSVNFX1ZBTFVFXTogJ2Nhbm5vdCBzdXBwb3J0IHByb21pc2UgdmFsdWUnLFxuICAgIFtDb3JlRXJyb3JDb2Rlcy5OT1RfU1VQUE9SVF9MT0NBTEVfQVNZTkNfRlVOQ1RJT05dOiAnY2Fubm90IHN1cHBvcnQgYXN5bmMgZnVuY3Rpb24nLFxuICAgIFtDb3JlRXJyb3JDb2Rlcy5OT1RfU1VQUE9SVF9MT0NBTEVfVFlQRV06ICdjYW5ub3Qgc3VwcG9ydCBsb2NhbGUgdHlwZSdcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGdldExvY2FsZShjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9jYWxlICE9IG51bGxcbiAgICAgICAgPyByZXNvbHZlTG9jYWxlKG9wdGlvbnMubG9jYWxlKVxuICAgICAgICA6IHJlc29sdmVMb2NhbGUoY29udGV4dC5sb2NhbGUpO1xufVxubGV0IF9yZXNvbHZlTG9jYWxlO1xuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gcmVzb2x2ZUxvY2FsZShsb2NhbGUpIHtcbiAgICBpZiAoaXNTdHJpbmcobG9jYWxlKSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obG9jYWxlKSkge1xuICAgICAgICAgICAgaWYgKGxvY2FsZS5yZXNvbHZlZE9uY2UgJiYgX3Jlc29sdmVMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVzb2x2ZUxvY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxvY2FsZS5jb25zdHJ1Y3Rvci5uYW1lID09PSAnRnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9IGxvY2FsZSgpO1xuICAgICAgICAgICAgICAgIGlmIChpc1Byb21pc2UocmVzb2x2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLk5PVF9TVVBQT1JUX0xPQ0FMRV9QUk9NSVNFX1ZBTFVFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfcmVzb2x2ZUxvY2FsZSA9IHJlc29sdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLk5PVF9TVVBQT1JUX0xPQ0FMRV9BU1lOQ19GVU5DVElPTik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuTk9UX1NVUFBPUlRfTE9DQUxFX1RZUEUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBGYWxsYmFjayB3aXRoIHNpbXBsZSBpbXBsZW1lbmF0aW9uXG4gKlxuICogQHJlbWFya3NcbiAqIEEgZmFsbGJhY2sgbG9jYWxlIGZ1bmN0aW9uIGltcGxlbWVudGVkIHdpdGggYSBzaW1wbGUgZmFsbGJhY2sgYWxnb3JpdGhtLlxuICpcbiAqIEJhc2ljYWxseSwgaXQgcmV0dXJucyB0aGUgdmFsdWUgYXMgc3BlY2lmaWVkIGluIHRoZSBgZmFsbGJhY2tMb2NhbGVgIHByb3BzLCBhbmQgaXMgcHJvY2Vzc2VkIHdpdGggdGhlIGZhbGxiYWNrIGluc2lkZSBpbnRsaWZ5LlxuICpcbiAqIEBwYXJhbSBjdHggLSBBIHtAbGluayBDb3JlQ29udGV4dCB8IGNvbnRleHR9XG4gKiBAcGFyYW0gZmFsbGJhY2sgLSBBIHtAbGluayBGYWxsYmFja0xvY2FsZSB8IGZhbGxiYWNrIGxvY2FsZX1cbiAqIEBwYXJhbSBzdGFydCAtIEEgc3RhcnRpbmcge0BsaW5rIExvY2FsZSB8IGxvY2FsZX1cbiAqXG4gKiBAcmV0dXJucyBGYWxsYmFjayBsb2NhbGVzXG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmZ1bmN0aW9uIGZhbGxiYWNrV2l0aFNpbXBsZShjdHgsIGZhbGxiYWNrLCBzdGFydCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIFsuLi5uZXcgU2V0KFtcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgLi4uKGlzQXJyYXkoZmFsbGJhY2spXG4gICAgICAgICAgICAgICAgPyBmYWxsYmFja1xuICAgICAgICAgICAgICAgIDogaXNPYmplY3QoZmFsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgID8gT2JqZWN0LmtleXMoZmFsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgIDogaXNTdHJpbmcoZmFsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtmYWxsYmFja11cbiAgICAgICAgICAgICAgICAgICAgICAgIDogW3N0YXJ0XSlcbiAgICAgICAgXSldO1xufVxuLyoqXG4gKiBGYWxsYmFjayB3aXRoIGxvY2FsZSBjaGFpblxuICpcbiAqIEByZW1hcmtzXG4gKiBBIGZhbGxiYWNrIGxvY2FsZSBmdW5jdGlvbiBpbXBsZW1lbnRlZCB3aXRoIGEgZmFsbGJhY2sgY2hhaW4gYWxnb3JpdGhtLiBJdCdzIHVzZWQgaW4gVnVlSTE4biBhcyBkZWZhdWx0LlxuICpcbiAqIEBwYXJhbSBjdHggLSBBIHtAbGluayBDb3JlQ29udGV4dCB8IGNvbnRleHR9XG4gKiBAcGFyYW0gZmFsbGJhY2sgLSBBIHtAbGluayBGYWxsYmFja0xvY2FsZSB8IGZhbGxiYWNrIGxvY2FsZX1cbiAqIEBwYXJhbSBzdGFydCAtIEEgc3RhcnRpbmcge0BsaW5rIExvY2FsZSB8IGxvY2FsZX1cbiAqXG4gKiBAcmV0dXJucyBGYWxsYmFjayBsb2NhbGVzXG4gKlxuICogQFZ1ZUkxOG5TZWUgW0ZhbGxiYWNraW5nXSguLi9ndWlkZS9lc3NlbnRpYWxzL2ZhbGxiYWNrKVxuICpcbiAqIEBWdWVJMThuR2VuZXJhbFxuICovXG5mdW5jdGlvbiBmYWxsYmFja1dpdGhMb2NhbGVDaGFpbihjdHgsIGZhbGxiYWNrLCBzdGFydCkge1xuICAgIGNvbnN0IHN0YXJ0TG9jYWxlID0gaXNTdHJpbmcoc3RhcnQpID8gc3RhcnQgOiBERUZBVUxUX0xPQ0FMRTtcbiAgICBjb25zdCBjb250ZXh0ID0gY3R4O1xuICAgIGlmICghY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUpIHtcbiAgICAgICAgY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGxldCBjaGFpbiA9IGNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlLmdldChzdGFydExvY2FsZSk7XG4gICAgaWYgKCFjaGFpbikge1xuICAgICAgICBjaGFpbiA9IFtdO1xuICAgICAgICAvLyBmaXJzdCBibG9jayBkZWZpbmVkIGJ5IHN0YXJ0XG4gICAgICAgIGxldCBibG9jayA9IFtzdGFydF07XG4gICAgICAgIC8vIHdoaWxlIGFueSBpbnRlcnZlbmluZyBibG9jayBmb3VuZFxuICAgICAgICB3aGlsZSAoaXNBcnJheShibG9jaykpIHtcbiAgICAgICAgICAgIGJsb2NrID0gYXBwZW5kQmxvY2tUb0NoYWluKGNoYWluLCBibG9jaywgZmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAvLyBsYXN0IGJsb2NrIGRlZmluZWQgYnkgZGVmYXVsdFxuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IGlzQXJyYXkoZmFsbGJhY2spIHx8ICFpc1BsYWluT2JqZWN0KGZhbGxiYWNrKVxuICAgICAgICAgICAgPyBmYWxsYmFja1xuICAgICAgICAgICAgOiBmYWxsYmFja1snZGVmYXVsdCddXG4gICAgICAgICAgICAgICAgPyBmYWxsYmFja1snZGVmYXVsdCddXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAvLyBjb252ZXJ0IGRlZmF1bHRzIHRvIGFycmF5XG4gICAgICAgIGJsb2NrID0gaXNTdHJpbmcoZGVmYXVsdHMpID8gW2RlZmF1bHRzXSA6IGRlZmF1bHRzO1xuICAgICAgICBpZiAoaXNBcnJheShibG9jaykpIHtcbiAgICAgICAgICAgIGFwcGVuZEJsb2NrVG9DaGFpbihjaGFpbiwgYmxvY2ssIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0Ll9fbG9jYWxlQ2hhaW5DYWNoZS5zZXQoc3RhcnRMb2NhbGUsIGNoYWluKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYWluO1xufVxuZnVuY3Rpb24gYXBwZW5kQmxvY2tUb0NoYWluKGNoYWluLCBibG9jaywgYmxvY2tzKSB7XG4gICAgbGV0IGZvbGxvdyA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9jay5sZW5ndGggJiYgaXNCb29sZWFuKGZvbGxvdyk7IGkrKykge1xuICAgICAgICBjb25zdCBsb2NhbGUgPSBibG9ja1tpXTtcbiAgICAgICAgaWYgKGlzU3RyaW5nKGxvY2FsZSkpIHtcbiAgICAgICAgICAgIGZvbGxvdyA9IGFwcGVuZExvY2FsZVRvQ2hhaW4oY2hhaW4sIGJsb2NrW2ldLCBibG9ja3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb2xsb3c7XG59XG5mdW5jdGlvbiBhcHBlbmRMb2NhbGVUb0NoYWluKGNoYWluLCBsb2NhbGUsIGJsb2Nrcykge1xuICAgIGxldCBmb2xsb3c7XG4gICAgY29uc3QgdG9rZW5zID0gbG9jYWxlLnNwbGl0KCctJyk7XG4gICAgZG8ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0b2tlbnMuam9pbignLScpO1xuICAgICAgICBmb2xsb3cgPSBhcHBlbmRJdGVtVG9DaGFpbihjaGFpbiwgdGFyZ2V0LCBibG9ja3MpO1xuICAgICAgICB0b2tlbnMuc3BsaWNlKC0xLCAxKTtcbiAgICB9IHdoaWxlICh0b2tlbnMubGVuZ3RoICYmIGZvbGxvdyA9PT0gdHJ1ZSk7XG4gICAgcmV0dXJuIGZvbGxvdztcbn1cbmZ1bmN0aW9uIGFwcGVuZEl0ZW1Ub0NoYWluKGNoYWluLCB0YXJnZXQsIGJsb2Nrcykge1xuICAgIGxldCBmb2xsb3cgPSBmYWxzZTtcbiAgICBpZiAoIWNoYWluLmluY2x1ZGVzKHRhcmdldCkpIHtcbiAgICAgICAgZm9sbG93ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgZm9sbG93ID0gdGFyZ2V0W3RhcmdldC5sZW5ndGggLSAxXSAhPT0gJyEnO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxlID0gdGFyZ2V0LnJlcGxhY2UoLyEvZywgJycpO1xuICAgICAgICAgICAgY2hhaW4ucHVzaChsb2NhbGUpO1xuICAgICAgICAgICAgaWYgKChpc0FycmF5KGJsb2NrcykgfHwgaXNQbGFpbk9iamVjdChibG9ja3MpKSAmJlxuICAgICAgICAgICAgICAgIGJsb2Nrc1tsb2NhbGVdIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBmb2xsb3cgPSBibG9ja3NbbG9jYWxlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm9sbG93O1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKipcbiAqIEludGxpZnkgY29yZS1iYXNlIHZlcnNpb25cbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBWRVJTSU9OID0gJzkuMTQuNCc7XG5jb25zdCBOT1RfUkVPU0xWRUQgPSAtMTtcbmNvbnN0IERFRkFVTFRfTE9DQUxFID0gJ2VuLVVTJztcbmNvbnN0IE1JU1NJTkdfUkVTT0xWRV9WQUxVRSA9ICcnO1xuY29uc3QgY2FwaXRhbGl6ZSA9IChzdHIpID0+IGAke3N0ci5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKX0ke3N0ci5zdWJzdHIoMSl9YDtcbmZ1bmN0aW9uIGdldERlZmF1bHRMaW5rZWRNb2RpZmllcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBwZXI6ICh2YWwsIHR5cGUpID0+IHtcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09ICd0ZXh0JyAmJiBpc1N0cmluZyh2YWwpXG4gICAgICAgICAgICAgICAgPyB2YWwudG9VcHBlckNhc2UoKVxuICAgICAgICAgICAgICAgIDogdHlwZSA9PT0gJ3Zub2RlJyAmJiBpc09iamVjdCh2YWwpICYmICdfX3ZfaXNWTm9kZScgaW4gdmFsXG4gICAgICAgICAgICAgICAgICAgID8gdmFsLmNoaWxkcmVuLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgOiB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGxvd2VyOiAodmFsLCB0eXBlKSA9PiB7XG4gICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiB0eXBlID09PSAndGV4dCcgJiYgaXNTdHJpbmcodmFsKVxuICAgICAgICAgICAgICAgID8gdmFsLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICA6IHR5cGUgPT09ICd2bm9kZScgJiYgaXNPYmplY3QodmFsKSAmJiAnX192X2lzVk5vZGUnIGluIHZhbFxuICAgICAgICAgICAgICAgICAgICA/IHZhbC5jaGlsZHJlbi50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgIDogdmFsO1xuICAgICAgICB9LFxuICAgICAgICBjYXBpdGFsaXplOiAodmFsLCB0eXBlKSA9PiB7XG4gICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiAodHlwZSA9PT0gJ3RleHQnICYmIGlzU3RyaW5nKHZhbClcbiAgICAgICAgICAgICAgICA/IGNhcGl0YWxpemUodmFsKVxuICAgICAgICAgICAgICAgIDogdHlwZSA9PT0gJ3Zub2RlJyAmJiBpc09iamVjdCh2YWwpICYmICdfX3ZfaXNWTm9kZScgaW4gdmFsXG4gICAgICAgICAgICAgICAgICAgID8gY2FwaXRhbGl6ZSh2YWwuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgIDogdmFsKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5sZXQgX2NvbXBpbGVyO1xuZnVuY3Rpb24gcmVnaXN0ZXJNZXNzYWdlQ29tcGlsZXIoY29tcGlsZXIpIHtcbiAgICBfY29tcGlsZXIgPSBjb21waWxlcjtcbn1cbmxldCBfcmVzb2x2ZXI7XG4vKipcbiAqIFJlZ2lzdGVyIHRoZSBtZXNzYWdlIHJlc29sdmVyXG4gKlxuICogQHBhcmFtIHJlc29sdmVyIC0gQSB7QGxpbmsgTWVzc2FnZVJlc29sdmVyfSBmdW5jdGlvblxuICpcbiAqIEBWdWVJMThuR2VuZXJhbFxuICovXG5mdW5jdGlvbiByZWdpc3Rlck1lc3NhZ2VSZXNvbHZlcihyZXNvbHZlcikge1xuICAgIF9yZXNvbHZlciA9IHJlc29sdmVyO1xufVxubGV0IF9mYWxsYmFja2VyO1xuLyoqXG4gKiBSZWdpc3RlciB0aGUgbG9jYWxlIGZhbGxiYWNrZXJcbiAqXG4gKiBAcGFyYW0gZmFsbGJhY2tlciAtIEEge0BsaW5rIExvY2FsZUZhbGxiYWNrZXJ9IGZ1bmN0aW9uXG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTG9jYWxlRmFsbGJhY2tlcihmYWxsYmFja2VyKSB7XG4gICAgX2ZhbGxiYWNrZXIgPSBmYWxsYmFja2VyO1xufVxuLy8gQWRkaXRpb25hbCBNZXRhIGZvciBJbnRsaWZ5IERldlRvb2xzXG5sZXQgX2FkZGl0aW9uYWxNZXRhID0gIG51bGw7XG4vKiAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuY29uc3Qgc2V0QWRkaXRpb25hbE1ldGEgPSAobWV0YSkgPT4ge1xuICAgIF9hZGRpdGlvbmFsTWV0YSA9IG1ldGE7XG59O1xuLyogI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmNvbnN0IGdldEFkZGl0aW9uYWxNZXRhID0gKCkgPT4gX2FkZGl0aW9uYWxNZXRhO1xubGV0IF9mYWxsYmFja0NvbnRleHQgPSBudWxsO1xuY29uc3Qgc2V0RmFsbGJhY2tDb250ZXh0ID0gKGNvbnRleHQpID0+IHtcbiAgICBfZmFsbGJhY2tDb250ZXh0ID0gY29udGV4dDtcbn07XG5jb25zdCBnZXRGYWxsYmFja0NvbnRleHQgPSAoKSA9PiBfZmFsbGJhY2tDb250ZXh0O1xuLy8gSUQgZm9yIENvcmVDb250ZXh0XG5sZXQgX2NpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb3JlQ29udGV4dChvcHRpb25zID0ge30pIHtcbiAgICAvLyBzZXR1cCBvcHRpb25zXG4gICAgY29uc3Qgb25XYXJuID0gaXNGdW5jdGlvbihvcHRpb25zLm9uV2FybikgPyBvcHRpb25zLm9uV2FybiA6IHdhcm47XG4gICAgY29uc3QgdmVyc2lvbiA9IGlzU3RyaW5nKG9wdGlvbnMudmVyc2lvbikgPyBvcHRpb25zLnZlcnNpb24gOiBWRVJTSU9OO1xuICAgIGNvbnN0IGxvY2FsZSA9IGlzU3RyaW5nKG9wdGlvbnMubG9jYWxlKSB8fCBpc0Z1bmN0aW9uKG9wdGlvbnMubG9jYWxlKVxuICAgICAgICA/IG9wdGlvbnMubG9jYWxlXG4gICAgICAgIDogREVGQVVMVF9MT0NBTEU7XG4gICAgY29uc3QgX2xvY2FsZSA9IGlzRnVuY3Rpb24obG9jYWxlKSA/IERFRkFVTFRfTE9DQUxFIDogbG9jYWxlO1xuICAgIGNvbnN0IGZhbGxiYWNrTG9jYWxlID0gaXNBcnJheShvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgIGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgIG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUgPT09IGZhbHNlXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja0xvY2FsZVxuICAgICAgICA6IF9sb2NhbGU7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMubWVzc2FnZXMpXG4gICAgICAgID8gb3B0aW9ucy5tZXNzYWdlc1xuICAgICAgICA6IGNyZWF0ZVJlc291cmNlcyhfbG9jYWxlKTtcbiAgICBjb25zdCBkYXRldGltZUZvcm1hdHMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKVxuICAgICAgICAgICAgPyBvcHRpb25zLmRhdGV0aW1lRm9ybWF0c1xuICAgICAgICAgICAgOiBjcmVhdGVSZXNvdXJjZXMoX2xvY2FsZSlcbiAgICAgICAgO1xuICAgIGNvbnN0IG51bWJlckZvcm1hdHMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMubnVtYmVyRm9ybWF0cylcbiAgICAgICAgICAgID8gb3B0aW9ucy5udW1iZXJGb3JtYXRzXG4gICAgICAgICAgICA6IGNyZWF0ZVJlc291cmNlcyhfbG9jYWxlKVxuICAgICAgICA7XG4gICAgY29uc3QgbW9kaWZpZXJzID0gYXNzaWduKGNyZWF0ZSgpLCBvcHRpb25zLm1vZGlmaWVycywgZ2V0RGVmYXVsdExpbmtlZE1vZGlmaWVycygpKTtcbiAgICBjb25zdCBwbHVyYWxSdWxlcyA9IG9wdGlvbnMucGx1cmFsUnVsZXMgfHwgY3JlYXRlKCk7XG4gICAgY29uc3QgbWlzc2luZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5taXNzaW5nKSA/IG9wdGlvbnMubWlzc2luZyA6IG51bGw7XG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybikgfHwgaXNSZWdFeHAob3B0aW9ucy5taXNzaW5nV2FybilcbiAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXG4gICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMuZmFsbGJhY2tXYXJuKVxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXG4gICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBmYWxsYmFja0Zvcm1hdCA9ICEhb3B0aW9ucy5mYWxsYmFja0Zvcm1hdDtcbiAgICBjb25zdCB1bnJlc29sdmluZyA9ICEhb3B0aW9ucy51bnJlc29sdmluZztcbiAgICBjb25zdCBwb3N0VHJhbnNsYXRpb24gPSBpc0Z1bmN0aW9uKG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uKVxuICAgICAgICA/IG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uXG4gICAgICAgIDogbnVsbDtcbiAgICBjb25zdCBwcm9jZXNzb3IgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMucHJvY2Vzc29yKSA/IG9wdGlvbnMucHJvY2Vzc29yIDogbnVsbDtcbiAgICBjb25zdCB3YXJuSHRtbE1lc3NhZ2UgPSBpc0Jvb2xlYW4ob3B0aW9ucy53YXJuSHRtbE1lc3NhZ2UpXG4gICAgICAgID8gb3B0aW9ucy53YXJuSHRtbE1lc3NhZ2VcbiAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IGVzY2FwZVBhcmFtZXRlciA9ICEhb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXI7XG4gICAgY29uc3QgbWVzc2FnZUNvbXBpbGVyID0gaXNGdW5jdGlvbihvcHRpb25zLm1lc3NhZ2VDb21waWxlcilcbiAgICAgICAgPyBvcHRpb25zLm1lc3NhZ2VDb21waWxlclxuICAgICAgICA6IF9jb21waWxlcjtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICFmYWxzZSAmJlxuICAgICAgICAhZmFsc2UgJiZcbiAgICAgICAgaXNGdW5jdGlvbihvcHRpb25zLm1lc3NhZ2VDb21waWxlcikpIHtcbiAgICAgICAgd2Fybk9uY2UoZ2V0V2Fybk1lc3NhZ2UoQ29yZVdhcm5Db2Rlcy5FWFBFUklNRU5UQUxfQ1VTVE9NX01FU1NBR0VfQ09NUElMRVIpKTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZVJlc29sdmVyID0gaXNGdW5jdGlvbihvcHRpb25zLm1lc3NhZ2VSZXNvbHZlcilcbiAgICAgICAgPyBvcHRpb25zLm1lc3NhZ2VSZXNvbHZlclxuICAgICAgICA6IF9yZXNvbHZlciB8fCByZXNvbHZlV2l0aEtleVZhbHVlO1xuICAgIGNvbnN0IGxvY2FsZUZhbGxiYWNrZXIgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubG9jYWxlRmFsbGJhY2tlcilcbiAgICAgICAgPyBvcHRpb25zLmxvY2FsZUZhbGxiYWNrZXJcbiAgICAgICAgOiBfZmFsbGJhY2tlciB8fCBmYWxsYmFja1dpdGhTaW1wbGU7XG4gICAgY29uc3QgZmFsbGJhY2tDb250ZXh0ID0gaXNPYmplY3Qob3B0aW9ucy5mYWxsYmFja0NvbnRleHQpXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja0NvbnRleHRcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgLy8gc2V0dXAgaW50ZXJuYWwgb3B0aW9uc1xuICAgIGNvbnN0IGludGVybmFsT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgY29uc3QgX19kYXRldGltZUZvcm1hdHRlcnMgPSBpc09iamVjdChpbnRlcm5hbE9wdGlvbnMuX19kYXRldGltZUZvcm1hdHRlcnMpXG4gICAgICAgICAgICA/IGludGVybmFsT3B0aW9ucy5fX2RhdGV0aW1lRm9ybWF0dGVyc1xuICAgICAgICAgICAgOiBuZXcgTWFwKClcbiAgICAgICAgO1xuICAgIGNvbnN0IF9fbnVtYmVyRm9ybWF0dGVycyA9IGlzT2JqZWN0KGludGVybmFsT3B0aW9ucy5fX251bWJlckZvcm1hdHRlcnMpXG4gICAgICAgICAgICA/IGludGVybmFsT3B0aW9ucy5fX251bWJlckZvcm1hdHRlcnNcbiAgICAgICAgICAgIDogbmV3IE1hcCgpXG4gICAgICAgIDtcbiAgICBjb25zdCBfX21ldGEgPSBpc09iamVjdChpbnRlcm5hbE9wdGlvbnMuX19tZXRhKSA/IGludGVybmFsT3B0aW9ucy5fX21ldGEgOiB7fTtcbiAgICBfY2lkKys7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgY2lkOiBfY2lkLFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICBwbHVyYWxSdWxlcyxcbiAgICAgICAgbWlzc2luZyxcbiAgICAgICAgbWlzc2luZ1dhcm4sXG4gICAgICAgIGZhbGxiYWNrV2FybixcbiAgICAgICAgZmFsbGJhY2tGb3JtYXQsXG4gICAgICAgIHVucmVzb2x2aW5nLFxuICAgICAgICBwb3N0VHJhbnNsYXRpb24sXG4gICAgICAgIHByb2Nlc3NvcixcbiAgICAgICAgd2Fybkh0bWxNZXNzYWdlLFxuICAgICAgICBlc2NhcGVQYXJhbWV0ZXIsXG4gICAgICAgIG1lc3NhZ2VDb21waWxlcixcbiAgICAgICAgbWVzc2FnZVJlc29sdmVyLFxuICAgICAgICBsb2NhbGVGYWxsYmFja2VyLFxuICAgICAgICBmYWxsYmFja0NvbnRleHQsXG4gICAgICAgIG9uV2FybixcbiAgICAgICAgX19tZXRhXG4gICAgfTtcbiAgICB7XG4gICAgICAgIGNvbnRleHQuZGF0ZXRpbWVGb3JtYXRzID0gZGF0ZXRpbWVGb3JtYXRzO1xuICAgICAgICBjb250ZXh0Lm51bWJlckZvcm1hdHMgPSBudW1iZXJGb3JtYXRzO1xuICAgICAgICBjb250ZXh0Ll9fZGF0ZXRpbWVGb3JtYXR0ZXJzID0gX19kYXRldGltZUZvcm1hdHRlcnM7XG4gICAgICAgIGNvbnRleHQuX19udW1iZXJGb3JtYXR0ZXJzID0gX19udW1iZXJGb3JtYXR0ZXJzO1xuICAgIH1cbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb250ZXh0Ll9fdl9lbWl0dGVyID1cbiAgICAgICAgICAgIGludGVybmFsT3B0aW9ucy5fX3ZfZW1pdHRlciAhPSBudWxsXG4gICAgICAgICAgICAgICAgPyBpbnRlcm5hbE9wdGlvbnMuX192X2VtaXR0ZXJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gTk9URTogZXhwZXJpbWVudGFsICEhXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGluaXRJMThuRGV2VG9vbHMoY29udGV4dCwgdmVyc2lvbiwgX19tZXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5jb25zdCBjcmVhdGVSZXNvdXJjZXMgPSAobG9jYWxlKSA9PiAoeyBbbG9jYWxlXTogY3JlYXRlKCkgfSk7XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybihmYWxsYmFjaywga2V5KSB7XG4gICAgcmV0dXJuIGZhbGxiYWNrIGluc3RhbmNlb2YgUmVnRXhwID8gZmFsbGJhY2sudGVzdChrZXkpIDogZmFsbGJhY2s7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBpc1RyYW5zbGF0ZU1pc3NpbmdXYXJuKG1pc3NpbmcsIGtleSkge1xuICAgIHJldHVybiBtaXNzaW5nIGluc3RhbmNlb2YgUmVnRXhwID8gbWlzc2luZy50ZXN0KGtleSkgOiBtaXNzaW5nO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gaGFuZGxlTWlzc2luZyhjb250ZXh0LCBrZXksIGxvY2FsZSwgbWlzc2luZ1dhcm4sIHR5cGUpIHtcbiAgICBjb25zdCB7IG1pc3NpbmcsIG9uV2FybiB9ID0gY29udGV4dDtcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgaWYgKGVtaXR0ZXIpIHtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcIm1pc3NpbmdcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1JU1NJTkcgKi8sIHtcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7dHlwZX06JHtrZXl9YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1pc3NpbmcgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gbWlzc2luZyhjb250ZXh0LCBsb2NhbGUsIGtleSwgdHlwZSk7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhyZXQpID8gcmV0IDoga2V5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1RyYW5zbGF0ZU1pc3NpbmdXYXJuKG1pc3NpbmdXYXJuLCBrZXkpKSB7XG4gICAgICAgICAgICBvbldhcm4oZ2V0V2Fybk1lc3NhZ2UoQ29yZVdhcm5Db2Rlcy5OT1RfRk9VTkRfS0VZLCB7IGtleSwgbG9jYWxlIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKGN0eCwgbG9jYWxlLCBmYWxsYmFjaykge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjdHg7XG4gICAgY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgY3R4LmxvY2FsZUZhbGxiYWNrZXIoY3R4LCBmYWxsYmFjaywgbG9jYWxlKTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGlzQWxtb3N0U2FtZUxvY2FsZShsb2NhbGUsIGNvbXBhcmVMb2NhbGUpIHtcbiAgICBpZiAobG9jYWxlID09PSBjb21wYXJlTG9jYWxlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGxvY2FsZS5zcGxpdCgnLScpWzBdID09PSBjb21wYXJlTG9jYWxlLnNwbGl0KCctJylbMF07XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBpc0ltcGxpY2l0RmFsbGJhY2sodGFyZ2V0TG9jYWxlLCBsb2NhbGVzKSB7XG4gICAgY29uc3QgaW5kZXggPSBsb2NhbGVzLmluZGV4T2YodGFyZ2V0TG9jYWxlKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGluZGV4ICsgMTsgaSA8IGxvY2FsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzQWxtb3N0U2FtZUxvY2FsZSh0YXJnZXRMb2NhbGUsIGxvY2FsZXNbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cblxuZnVuY3Rpb24gZm9ybWF0KGFzdCkge1xuICAgIGNvbnN0IG1zZyA9IChjdHgpID0+IGZvcm1hdFBhcnRzKGN0eCwgYXN0KTtcbiAgICByZXR1cm4gbXNnO1xufVxuZnVuY3Rpb24gZm9ybWF0UGFydHMoY3R4LCBhc3QpIHtcbiAgICBjb25zdCBib2R5ID0gcmVzb2x2ZUJvZHkoYXN0KTtcbiAgICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZVVuaGFuZGxlTm9kZUVycm9yKDAgLyogTm9kZVR5cGVzLlJlc291cmNlICovKTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IHJlc29sdmVUeXBlKGJvZHkpO1xuICAgIGlmICh0eXBlID09PSAxIC8qIE5vZGVUeXBlcy5QbHVyYWwgKi8pIHtcbiAgICAgICAgY29uc3QgcGx1cmFsID0gYm9keTtcbiAgICAgICAgY29uc3QgY2FzZXMgPSByZXNvbHZlQ2FzZXMocGx1cmFsKTtcbiAgICAgICAgcmV0dXJuIGN0eC5wbHVyYWwoY2FzZXMucmVkdWNlKChtZXNzYWdlcywgYykgPT4gW1xuICAgICAgICAgICAgLi4ubWVzc2FnZXMsXG4gICAgICAgICAgICBmb3JtYXRNZXNzYWdlUGFydHMoY3R4LCBjKVxuICAgICAgICBdLCBbXSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE1lc3NhZ2VQYXJ0cyhjdHgsIGJvZHkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2VQYXJ0cyhjdHgsIG5vZGUpIHtcbiAgICBjb25zdCBzdGF0aWNfID0gcmVzb2x2ZVN0YXRpYyhub2RlKTtcbiAgICBpZiAoc3RhdGljXyAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBjdHgudHlwZSA9PT0gJ3RleHQnXG4gICAgICAgICAgICA/IHN0YXRpY19cbiAgICAgICAgICAgIDogY3R4Lm5vcm1hbGl6ZShbc3RhdGljX10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSByZXNvbHZlSXRlbXMobm9kZSkucmVkdWNlKChhY20sIGMpID0+IFsuLi5hY20sIGZvcm1hdE1lc3NhZ2VQYXJ0KGN0eCwgYyldLCBbXSk7XG4gICAgICAgIHJldHVybiBjdHgubm9ybWFsaXplKG1lc3NhZ2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRNZXNzYWdlUGFydChjdHgsIG5vZGUpIHtcbiAgICBjb25zdCB0eXBlID0gcmVzb2x2ZVR5cGUobm9kZSk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgMyAvKiBOb2RlVHlwZXMuVGV4dCAqLzoge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVWYWx1ZSQxKG5vZGUsIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgOSAvKiBOb2RlVHlwZXMuTGl0ZXJhbCAqLzoge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVWYWx1ZSQxKG5vZGUsIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNCAvKiBOb2RlVHlwZXMuTmFtZWQgKi86IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVkID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChoYXNPd24obmFtZWQsICdrJykgJiYgbmFtZWQuaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHguaW50ZXJwb2xhdGUoY3R4Lm5hbWVkKG5hbWVkLmspKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNPd24obmFtZWQsICdrZXknKSAmJiBuYW1lZC5rZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4LmludGVycG9sYXRlKGN0eC5uYW1lZChuYW1lZC5rZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVVuaGFuZGxlTm9kZUVycm9yKHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNSAvKiBOb2RlVHlwZXMuTGlzdCAqLzoge1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IG5vZGU7XG4gICAgICAgICAgICBpZiAoaGFzT3duKGxpc3QsICdpJykgJiYgaXNOdW1iZXIobGlzdC5pKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHguaW50ZXJwb2xhdGUoY3R4Lmxpc3QobGlzdC5pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzT3duKGxpc3QsICdpbmRleCcpICYmIGlzTnVtYmVyKGxpc3QuaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5pbnRlcnBvbGF0ZShjdHgubGlzdChsaXN0LmluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVVbmhhbmRsZU5vZGVFcnJvcih0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDYgLyogTm9kZVR5cGVzLkxpbmtlZCAqLzoge1xuICAgICAgICAgICAgY29uc3QgbGlua2VkID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVyID0gcmVzb2x2ZUxpbmtlZE1vZGlmaWVyKGxpbmtlZCk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSByZXNvbHZlTGlua2VkS2V5KGxpbmtlZCk7XG4gICAgICAgICAgICByZXR1cm4gY3R4LmxpbmtlZChmb3JtYXRNZXNzYWdlUGFydChjdHgsIGtleSksIG1vZGlmaWVyID8gZm9ybWF0TWVzc2FnZVBhcnQoY3R4LCBtb2RpZmllcikgOiB1bmRlZmluZWQsIGN0eC50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDcgLyogTm9kZVR5cGVzLkxpbmtlZEtleSAqLzoge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVWYWx1ZSQxKG5vZGUsIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgOCAvKiBOb2RlVHlwZXMuTGlua2VkTW9kaWZpZXIgKi86IHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlVmFsdWUkMShub2RlLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmhhbmRsZWQgbm9kZSBvbiBmb3JtYXQgbWVzc2FnZSBwYXJ0OiAke3R5cGV9YCk7XG4gICAgfVxufVxuXG5jb25zdCBXQVJOX01FU1NBR0UgPSBgRGV0ZWN0ZWQgSFRNTCBpbiAne3NvdXJjZX0nIG1lc3NhZ2UuIFJlY29tbWVuZCBub3QgdXNpbmcgSFRNTCBtZXNzYWdlcyB0byBhdm9pZCBYU1MuYDtcbmZ1bmN0aW9uIGNoZWNrSHRtbE1lc3NhZ2Uoc291cmNlLCB3YXJuSHRtbE1lc3NhZ2UpIHtcbiAgICBpZiAod2Fybkh0bWxNZXNzYWdlICYmIGRldGVjdEh0bWxUYWcoc291cmNlKSkge1xuICAgICAgICB3YXJuKGZvcm1hdCQxKFdBUk5fTUVTU0FHRSwgeyBzb3VyY2UgfSkpO1xuICAgIH1cbn1cbmNvbnN0IGRlZmF1bHRPbkNhY2hlS2V5ID0gKG1lc3NhZ2UpID0+IG1lc3NhZ2U7XG5sZXQgY29tcGlsZUNhY2hlID0gY3JlYXRlKCk7XG5mdW5jdGlvbiBvbkNvbXBpbGVXYXJuKF93YXJuKSB7XG4gICAgaWYgKF93YXJuLmNvZGUgPT09IENvbXBpbGVXYXJuQ29kZXMuVVNFX01PRFVMT19TWU5UQVgpIHtcbiAgICAgICAgd2FybihgVGhlIHVzZSBvZiBuYW1lZCBpbnRlcnBvbGF0aW9uIHdpdGggbW9kdWxvIHN5bnRheCBpcyBkZXByZWNhdGVkLiBgICtcbiAgICAgICAgICAgIGBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdjEwLlxcbmAgK1xuICAgICAgICAgICAgYHJlZmVyZW5jZTogaHR0cHM6Ly92dWUtaTE4bi5pbnRsaWZ5LmRldi9ndWlkZS9lc3NlbnRpYWxzL3N5bnRheCNyYWlscy1pMThuLWZvcm1hdCBcXG5gICtcbiAgICAgICAgICAgIGAobWVzc2FnZSBjb21waWxlciB3YXJuaW5nIG1lc3NhZ2U6ICR7X3dhcm4ubWVzc2FnZX0pYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYXJDb21waWxlQ2FjaGUoKSB7XG4gICAgY29tcGlsZUNhY2hlID0gY3JlYXRlKCk7XG59XG5mdW5jdGlvbiBiYXNlQ29tcGlsZShtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICAvLyBlcnJvciBkZXRlY3Rpbmcgb24gY29tcGlsZVxuICAgIGxldCBkZXRlY3RFcnJvciA9IGZhbHNlO1xuICAgIGNvbnN0IG9uRXJyb3IgPSBvcHRpb25zLm9uRXJyb3IgfHwgZGVmYXVsdE9uRXJyb3I7XG4gICAgb3B0aW9ucy5vbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICBkZXRlY3RFcnJvciA9IHRydWU7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICB9O1xuICAgIC8vIGNvbXBpbGUgd2l0aCBtZXNhc2dlLWNvbXBpbGVyXG4gICAgcmV0dXJuIHsgLi4uYmFzZUNvbXBpbGUkMShtZXNzYWdlLCBvcHRpb25zKSwgZGV0ZWN0RXJyb3IgfTtcbn1cbi8qICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBjb21waWxlVG9GdW5jdGlvbiA9IChtZXNzYWdlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKCFpc1N0cmluZyhtZXNzYWdlKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuTk9UX1NVUFBPUlRfTk9OX1NUUklOR19NRVNTQUdFKTtcbiAgICB9XG4gICAgLy8gc2V0IG9uV2FyblxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29udGV4dC5vbldhcm4gPSBvbkNvbXBpbGVXYXJuO1xuICAgIH1cbiAgICB7XG4gICAgICAgIC8vIGNoZWNrIEhUTUwgbWVzc2FnZVxuICAgICAgICBjb25zdCB3YXJuSHRtbE1lc3NhZ2UgPSBpc0Jvb2xlYW4oY29udGV4dC53YXJuSHRtbE1lc3NhZ2UpXG4gICAgICAgICAgICA/IGNvbnRleHQud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja0h0bWxNZXNzYWdlKG1lc3NhZ2UsIHdhcm5IdG1sTWVzc2FnZSk7XG4gICAgICAgIC8vIGNoZWNrIGNhY2hlc1xuICAgICAgICBjb25zdCBvbkNhY2hlS2V5ID0gY29udGV4dC5vbkNhY2hlS2V5IHx8IGRlZmF1bHRPbkNhY2hlS2V5O1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IG9uQ2FjaGVLZXkobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IGNvbXBpbGVDYWNoZVtjYWNoZUtleV07XG4gICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tcGlsZVxuICAgICAgICBjb25zdCB7IGNvZGUsIGRldGVjdEVycm9yIH0gPSBiYXNlQ29tcGlsZShtZXNzYWdlLCBjb250ZXh0KTtcbiAgICAgICAgLy8gZXZhbHVhdGUgZnVuY3Rpb25cbiAgICAgICAgY29uc3QgbXNnID0gbmV3IEZ1bmN0aW9uKGByZXR1cm4gJHtjb2RlfWApKCk7XG4gICAgICAgIC8vIGlmIG9jY3VycmVkIGNvbXBpbGUgZXJyb3IsIGRvbid0IGNhY2hlXG4gICAgICAgIHJldHVybiAhZGV0ZWN0RXJyb3JcbiAgICAgICAgICAgID8gKGNvbXBpbGVDYWNoZVtjYWNoZUtleV0gPSBtc2cpXG4gICAgICAgICAgICA6IG1zZztcbiAgICB9XG59O1xuZnVuY3Rpb24gY29tcGlsZShtZXNzYWdlLCBjb250ZXh0KSB7XG4gICAgLy8gc2V0IG9uV2FyblxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29udGV4dC5vbldhcm4gPSBvbkNvbXBpbGVXYXJuO1xuICAgIH1cbiAgICBpZiAoKChfX0lOVExJRllfSklUX0NPTVBJTEFUSU9OX18gJiYgIV9fSU5UTElGWV9EUk9QX01FU1NBR0VfQ09NUElMRVJfXykpICYmXG4gICAgICAgIGlzU3RyaW5nKG1lc3NhZ2UpKSB7XG4gICAgICAgIC8vIGNoZWNrIEhUTUwgbWVzc2FnZVxuICAgICAgICBjb25zdCB3YXJuSHRtbE1lc3NhZ2UgPSBpc0Jvb2xlYW4oY29udGV4dC53YXJuSHRtbE1lc3NhZ2UpXG4gICAgICAgICAgICA/IGNvbnRleHQud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja0h0bWxNZXNzYWdlKG1lc3NhZ2UsIHdhcm5IdG1sTWVzc2FnZSk7XG4gICAgICAgIC8vIGNoZWNrIGNhY2hlc1xuICAgICAgICBjb25zdCBvbkNhY2hlS2V5ID0gY29udGV4dC5vbkNhY2hlS2V5IHx8IGRlZmF1bHRPbkNhY2hlS2V5O1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IG9uQ2FjaGVLZXkobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IGNvbXBpbGVDYWNoZVtjYWNoZUtleV07XG4gICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tcGlsZSB3aXRoIEpJVCBtb2RlXG4gICAgICAgIGNvbnN0IHsgYXN0LCBkZXRlY3RFcnJvciB9ID0gYmFzZUNvbXBpbGUobWVzc2FnZSwge1xuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyksXG4gICAgICAgICAgICBqaXQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbXBvc2UgbWVzc2FnZSBmdW5jdGlvbiBmcm9tIEFTVFxuICAgICAgICBjb25zdCBtc2cgPSBmb3JtYXQoYXN0KTtcbiAgICAgICAgLy8gaWYgb2NjdXJyZWQgY29tcGlsZSBlcnJvciwgZG9uJ3QgY2FjaGVcbiAgICAgICAgcmV0dXJuICFkZXRlY3RFcnJvclxuICAgICAgICAgICAgPyAoY29tcGlsZUNhY2hlW2NhY2hlS2V5XSA9IG1zZylcbiAgICAgICAgICAgIDogbXNnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNNZXNzYWdlQVNUKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICB3YXJuKGB0aGUgbWVzc2FnZSB0aGF0IGlzIHJlc29sdmUgd2l0aCBrZXkgJyR7Y29udGV4dC5rZXl9JyBpcyBub3Qgc3VwcG9ydGVkIGZvciBqaXQgY29tcGlsYXRpb25gKTtcbiAgICAgICAgICAgIHJldHVybiAoKCkgPT4gbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVNUIGNhc2UgKHBhc3NlZCBmcm9tIGJ1bmRsZXIpXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gbWVzc2FnZS5jYWNoZUtleTtcbiAgICAgICAgaWYgKGNhY2hlS2V5KSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWQgPSBjb21waWxlQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb21wb3NlIG1lc3NhZ2UgZnVuY3Rpb24gZnJvbSBtZXNzYWdlIChBU1QpXG4gICAgICAgICAgICByZXR1cm4gKGNvbXBpbGVDYWNoZVtjYWNoZUtleV0gPVxuICAgICAgICAgICAgICAgIGZvcm1hdChtZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBOT09QX01FU1NBR0VfRlVOQ1RJT04gPSAoKSA9PiAnJztcbmNvbnN0IGlzTWVzc2FnZUZ1bmN0aW9uID0gKHZhbCkgPT4gaXNGdW5jdGlvbih2YWwpO1xuLy8gaW1wbGVtZW50YXRpb24gb2YgYHRyYW5zbGF0ZWAgZnVuY3Rpb25cbmZ1bmN0aW9uIHRyYW5zbGF0ZShjb250ZXh0LCAuLi5hcmdzKSB7XG4gICAgY29uc3QgeyBmYWxsYmFja0Zvcm1hdCwgcG9zdFRyYW5zbGF0aW9uLCB1bnJlc29sdmluZywgbWVzc2FnZUNvbXBpbGVyLCBmYWxsYmFja0xvY2FsZSwgbWVzc2FnZXMgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgW2tleSwgb3B0aW9uc10gPSBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncyk7XG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybilcbiAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXG4gICAgICAgIDogY29udGV4dC5taXNzaW5nV2FybjtcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1dhcm5cbiAgICAgICAgOiBjb250ZXh0LmZhbGxiYWNrV2FybjtcbiAgICBjb25zdCBlc2NhcGVQYXJhbWV0ZXIgPSBpc0Jvb2xlYW4ob3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXIpXG4gICAgICAgID8gb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXJcbiAgICAgICAgOiBjb250ZXh0LmVzY2FwZVBhcmFtZXRlcjtcbiAgICBjb25zdCByZXNvbHZlZE1lc3NhZ2UgPSAhIW9wdGlvbnMucmVzb2x2ZWRNZXNzYWdlO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGRlZmF1bHRNc2dPcktleSA9IGlzU3RyaW5nKG9wdGlvbnMuZGVmYXVsdCkgfHwgaXNCb29sZWFuKG9wdGlvbnMuZGVmYXVsdCkgLy8gZGVmYXVsdCBieSBmdW5jdGlvbiBvcHRpb25cbiAgICAgICAgPyAhaXNCb29sZWFuKG9wdGlvbnMuZGVmYXVsdClcbiAgICAgICAgICAgID8gb3B0aW9ucy5kZWZhdWx0XG4gICAgICAgICAgICA6ICghbWVzc2FnZUNvbXBpbGVyID8gKCkgPT4ga2V5IDoga2V5KVxuICAgICAgICA6IGZhbGxiYWNrRm9ybWF0IC8vIGRlZmF1bHQgYnkgYGZhbGxiYWNrRm9ybWF0YCBvcHRpb25cbiAgICAgICAgICAgID8gKCFtZXNzYWdlQ29tcGlsZXIgPyAoKSA9PiBrZXkgOiBrZXkpXG4gICAgICAgICAgICA6ICcnO1xuICAgIGNvbnN0IGVuYWJsZURlZmF1bHRNc2cgPSBmYWxsYmFja0Zvcm1hdCB8fCBkZWZhdWx0TXNnT3JLZXkgIT09ICcnO1xuICAgIGNvbnN0IGxvY2FsZSA9IGdldExvY2FsZShjb250ZXh0LCBvcHRpb25zKTtcbiAgICAvLyBlc2NhcGUgcGFyYW1zXG4gICAgZXNjYXBlUGFyYW1ldGVyICYmIGVzY2FwZVBhcmFtcyhvcHRpb25zKTtcbiAgICAvLyByZXNvbHZlIG1lc3NhZ2UgZm9ybWF0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgIGxldCBbZm9ybWF0U2NvcGUsIHRhcmdldExvY2FsZSwgbWVzc2FnZV0gPSAhcmVzb2x2ZWRNZXNzYWdlXG4gICAgICAgID8gcmVzb2x2ZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIGZhbGxiYWNrTG9jYWxlLCBmYWxsYmFja1dhcm4sIG1pc3NpbmdXYXJuKVxuICAgICAgICA6IFtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIG1lc3NhZ2VzW2xvY2FsZV0gfHwgY3JlYXRlKClcbiAgICAgICAgXTtcbiAgICAvLyBOT1RFOlxuICAgIC8vICBGaXggdG8gd29yayBhcm91bmQgYHNzclRyYW5zZnJvbWAgYnVnIGluIFZpdGUuXG4gICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS9pc3N1ZXMvNDMwNlxuICAgIC8vICBUbyBnZXQgYXJvdW5kIHRoaXMsIHVzZSB0ZW1wb3JhcnkgdmFyaWFibGVzLlxuICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vbnV4dC9mcmFtZXdvcmsvaXNzdWVzLzE0NjEjaXNzdWVjb21tZW50LTk1NDYwNjI0M1xuICAgIGxldCBmb3JtYXQgPSBmb3JtYXRTY29wZTtcbiAgICAvLyBpZiB5b3UgdXNlIGRlZmF1bHQgbWVzc2FnZSwgc2V0IGl0IGFzIG1lc3NhZ2UgZm9ybWF0IVxuICAgIGxldCBjYWNoZUJhc2VLZXkgPSBrZXk7XG4gICAgaWYgKCFyZXNvbHZlZE1lc3NhZ2UgJiZcbiAgICAgICAgIShpc1N0cmluZyhmb3JtYXQpIHx8XG4gICAgICAgICAgICBpc01lc3NhZ2VBU1QoZm9ybWF0KSB8fFxuICAgICAgICAgICAgaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KSkpIHtcbiAgICAgICAgaWYgKGVuYWJsZURlZmF1bHRNc2cpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGRlZmF1bHRNc2dPcktleTtcbiAgICAgICAgICAgIGNhY2hlQmFzZUtleSA9IGZvcm1hdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjaGVja2luZyBtZXNzYWdlIGZvcm1hdCBhbmQgdGFyZ2V0IGxvY2FsZVxuICAgIGlmICghcmVzb2x2ZWRNZXNzYWdlICYmXG4gICAgICAgICghKGlzU3RyaW5nKGZvcm1hdCkgfHxcbiAgICAgICAgICAgIGlzTWVzc2FnZUFTVChmb3JtYXQpIHx8XG4gICAgICAgICAgICBpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpKSB8fFxuICAgICAgICAgICAgIWlzU3RyaW5nKHRhcmdldExvY2FsZSkpKSB7XG4gICAgICAgIHJldHVybiB1bnJlc29sdmluZyA/IE5PVF9SRU9TTFZFRCA6IGtleTtcbiAgICB9XG4gICAgLy8gVE9ETzogcmVmYWN0b3JcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzU3RyaW5nKGZvcm1hdCkgJiYgY29udGV4dC5tZXNzYWdlQ29tcGlsZXIgPT0gbnVsbCkge1xuICAgICAgICB3YXJuKGBUaGUgbWVzc2FnZSBmb3JtYXQgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkLiBgICtcbiAgICAgICAgICAgIGBCZWNhdXNlIG1lc3NhZ2UgY29tcGlsZXIgaXNuJ3QgaW5jbHVkZWQuIGAgK1xuICAgICAgICAgICAgYFlvdSBuZWVkIHRvIHByZS1jb21waWxhdGlvbiBhbGwgbWVzc2FnZSBmb3JtYXQuIGAgK1xuICAgICAgICAgICAgYFNvIHRyYW5zbGF0ZSBmdW5jdGlvbiByZXR1cm4gJyR7a2V5fScuYCk7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICAgIC8vIHNldHVwIGNvbXBpbGUgZXJyb3IgZGV0ZWN0aW5nXG4gICAgbGV0IG9jY3VycmVkID0gZmFsc2U7XG4gICAgY29uc3Qgb25FcnJvciA9ICgpID0+IHtcbiAgICAgICAgb2NjdXJyZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLy8gY29tcGlsZSBtZXNzYWdlIGZvcm1hdFxuICAgIGNvbnN0IG1zZyA9ICFpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpXG4gICAgICAgID8gY29tcGlsZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCB0YXJnZXRMb2NhbGUsIGZvcm1hdCwgY2FjaGVCYXNlS2V5LCBvbkVycm9yKVxuICAgICAgICA6IGZvcm1hdDtcbiAgICAvLyBpZiBvY2N1cnJlZCBjb21waWxlIGVycm9yLCByZXR1cm4gdGhlIG1lc3NhZ2UgZm9ybWF0XG4gICAgaWYgKG9jY3VycmVkKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuICAgIC8vIGV2YWx1YXRlIG1lc3NhZ2Ugd2l0aCBjb250ZXh0XG4gICAgY29uc3QgY3R4T3B0aW9ucyA9IGdldE1lc3NhZ2VDb250ZXh0T3B0aW9ucyhjb250ZXh0LCB0YXJnZXRMb2NhbGUsIG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgIGNvbnN0IG1zZ0NvbnRleHQgPSBjcmVhdGVNZXNzYWdlQ29udGV4dChjdHhPcHRpb25zKTtcbiAgICBjb25zdCBtZXNzYWdlZCA9IGV2YWx1YXRlTWVzc2FnZShjb250ZXh0LCBtc2csIG1zZ0NvbnRleHQpO1xuICAgIC8vIGlmIHVzZSBwb3N0IHRyYW5zbGF0aW9uIG9wdGlvbiwgcHJvY2VlZCBpdCB3aXRoIGhhbmRsZXJcbiAgICBjb25zdCByZXQgPSBwb3N0VHJhbnNsYXRpb25cbiAgICAgICAgPyBwb3N0VHJhbnNsYXRpb24obWVzc2FnZWQsIGtleSlcbiAgICAgICAgOiBtZXNzYWdlZDtcbiAgICAvLyBOT1RFOiBleHBlcmltZW50YWwgISFcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIGNvbnN0IHBheWxvYWRzID0ge1xuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAga2V5OiBpc1N0cmluZyhrZXkpXG4gICAgICAgICAgICAgICAgPyBrZXlcbiAgICAgICAgICAgICAgICA6IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdClcbiAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXQua2V5XG4gICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBsb2NhbGU6IHRhcmdldExvY2FsZSB8fCAoaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KVxuICAgICAgICAgICAgICAgID8gZm9ybWF0LmxvY2FsZVxuICAgICAgICAgICAgICAgIDogJycpLFxuICAgICAgICAgICAgZm9ybWF0OiBpc1N0cmluZyhmb3JtYXQpXG4gICAgICAgICAgICAgICAgPyBmb3JtYXRcbiAgICAgICAgICAgICAgICA6IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdClcbiAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXQuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBtZXNzYWdlOiByZXRcbiAgICAgICAgfTtcbiAgICAgICAgcGF5bG9hZHMubWV0YSA9IGFzc2lnbih7fSwgY29udGV4dC5fX21ldGEsIGdldEFkZGl0aW9uYWxNZXRhKCkgfHwge30pO1xuICAgICAgICB0cmFuc2xhdGVEZXZUb29scyhwYXlsb2Fkcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBlc2NhcGVQYXJhbXMob3B0aW9ucykge1xuICAgIGlmIChpc0FycmF5KG9wdGlvbnMubGlzdCkpIHtcbiAgICAgICAgb3B0aW9ucy5saXN0ID0gb3B0aW9ucy5saXN0Lm1hcChpdGVtID0+IGlzU3RyaW5nKGl0ZW0pID8gZXNjYXBlSHRtbChpdGVtKSA6IGl0ZW0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChvcHRpb25zLm5hbWVkKSkge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLm5hbWVkKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcob3B0aW9ucy5uYW1lZFtrZXldKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubmFtZWRba2V5XSA9IGVzY2FwZUh0bWwob3B0aW9ucy5uYW1lZFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIGZhbGxiYWNrTG9jYWxlLCBmYWxsYmFja1dhcm4sIG1pc3NpbmdXYXJuKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlcywgb25XYXJuLCBtZXNzYWdlUmVzb2x2ZXI6IHJlc29sdmVWYWx1ZSwgbG9jYWxlRmFsbGJhY2tlciB9ID0gY29udGV4dDtcbiAgICBjb25zdCBsb2NhbGVzID0gbG9jYWxlRmFsbGJhY2tlcihjb250ZXh0LCBmYWxsYmFja0xvY2FsZSwgbG9jYWxlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IG1lc3NhZ2UgPSBjcmVhdGUoKTtcbiAgICBsZXQgdGFyZ2V0TG9jYWxlO1xuICAgIGxldCBmb3JtYXQgPSBudWxsO1xuICAgIGxldCBmcm9tID0gbG9jYWxlO1xuICAgIGxldCB0byA9IG51bGw7XG4gICAgY29uc3QgdHlwZSA9ICd0cmFuc2xhdGUnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRMb2NhbGUgPSB0byA9IGxvY2FsZXNbaV07XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlICYmXG4gICAgICAgICAgICAhaXNBbG1vc3RTYW1lTG9jYWxlKGxvY2FsZSwgdGFyZ2V0TG9jYWxlKSAmJlxuICAgICAgICAgICAgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2tXYXJuLCBrZXkpKSB7XG4gICAgICAgICAgICBvbldhcm4oZ2V0V2Fybk1lc3NhZ2UoQ29yZVdhcm5Db2Rlcy5GQUxMQkFDS19UT19UUkFOU0xBVEUsIHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRMb2NhbGVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xuICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJmYWxsYmFja1wiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuRkFMQkFDSyAqLywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICBtZXNzYWdlc1t0YXJnZXRMb2NhbGVdIHx8IGNyZWF0ZSgpO1xuICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgICAgIGxldCBzdGFydFRhZztcbiAgICAgICAgbGV0IGVuZFRhZztcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgc3RhcnRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLXJlc29sdmUtc3RhcnQnO1xuICAgICAgICAgICAgZW5kVGFnID0gJ2ludGxpZnktbWVzc2FnZS1yZXNvbHZlLWVuZCc7XG4gICAgICAgICAgICBtYXJrICYmIG1hcmsoc3RhcnRUYWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZm9ybWF0ID0gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSkpID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiBudWxsLCByZXNvbHZlIHdpdGggb2JqZWN0IGtleSBwYXRoXG4gICAgICAgICAgICBmb3JtYXQgPSBtZXNzYWdlW2tleV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB9XG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xuICAgICAgICAgICAgaWYgKGVtaXR0ZXIgJiYgc3RhcnQgJiYgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwibWVzc2FnZS1yZXNvbHZlXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NRVNTQUdFX1JFU09MVkUgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlLXJlc29sdmVcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1FU1NBR0VfUkVTT0xWRSAqLyxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBmb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhcnRUYWcgJiYgZW5kVGFnICYmIG1hcmsgJiYgbWVhc3VyZSkge1xuICAgICAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcbiAgICAgICAgICAgICAgICBtZWFzdXJlKCdpbnRsaWZ5IG1lc3NhZ2UgcmVzb2x2ZScsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmluZyhmb3JtYXQpIHx8IGlzTWVzc2FnZUFTVChmb3JtYXQpIHx8IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNJbXBsaWNpdEZhbGxiYWNrKHRhcmdldExvY2FsZSwgbG9jYWxlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdSZXQgPSBoYW5kbGVNaXNzaW5nKGNvbnRleHQsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAga2V5LCB0YXJnZXRMb2NhbGUsIG1pc3NpbmdXYXJuLCB0eXBlKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nUmV0ICE9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBtaXNzaW5nUmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZyb20gPSB0bztcbiAgICB9XG4gICAgcmV0dXJuIFtmb3JtYXQsIHRhcmdldExvY2FsZSwgbWVzc2FnZV07XG59XG5mdW5jdGlvbiBjb21waWxlTWVzc2FnZUZvcm1hdChjb250ZXh0LCBrZXksIHRhcmdldExvY2FsZSwgZm9ybWF0LCBjYWNoZUJhc2VLZXksIG9uRXJyb3IpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VDb21waWxlciwgd2Fybkh0bWxNZXNzYWdlIH0gPSBjb250ZXh0O1xuICAgIGlmIChpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGZvcm1hdDtcbiAgICAgICAgbXNnLmxvY2FsZSA9IG1zZy5sb2NhbGUgfHwgdGFyZ2V0TG9jYWxlO1xuICAgICAgICBtc2cua2V5ID0gbXNnLmtleSB8fCBrZXk7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlQ29tcGlsZXIgPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtc2cgPSAoKCkgPT4gZm9ybWF0KTtcbiAgICAgICAgbXNnLmxvY2FsZSA9IHRhcmdldExvY2FsZTtcbiAgICAgICAgbXNnLmtleSA9IGtleTtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgbGV0IHN0YXJ0VGFnO1xuICAgIGxldCBlbmRUYWc7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgc3RhcnQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHN0YXJ0VGFnID0gJ2ludGxpZnktbWVzc2FnZS1jb21waWxhdGlvbi1zdGFydCc7XG4gICAgICAgIGVuZFRhZyA9ICdpbnRsaWZ5LW1lc3NhZ2UtY29tcGlsYXRpb24tZW5kJztcbiAgICAgICAgbWFyayAmJiBtYXJrKHN0YXJ0VGFnKTtcbiAgICB9XG4gICAgY29uc3QgbXNnID0gbWVzc2FnZUNvbXBpbGVyKGZvcm1hdCwgZ2V0Q29tcGlsZUNvbnRleHQoY29udGV4dCwgdGFyZ2V0TG9jYWxlLCBjYWNoZUJhc2VLZXksIGZvcm1hdCwgd2Fybkh0bWxNZXNzYWdlLCBvbkVycm9yKSk7XG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XG4gICAgICAgIGlmIChlbWl0dGVyICYmIHN0YXJ0KSB7XG4gICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJtZXNzYWdlLWNvbXBpbGF0aW9uXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NRVNTQUdFX0NPTVBJTEFUSU9OICovLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlLWNvbXBpbGF0aW9uXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NRVNTQUdFX0NPTVBJTEFUSU9OICovLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZvcm1hdCxcbiAgICAgICAgICAgICAgICB0aW1lOiBlbmQgLSBzdGFydCxcbiAgICAgICAgICAgICAgICBncm91cElkOiBgJHsndHJhbnNsYXRlJ306JHtrZXl9YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0VGFnICYmIGVuZFRhZyAmJiBtYXJrICYmIG1lYXN1cmUpIHtcbiAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcbiAgICAgICAgICAgIG1lYXN1cmUoJ2ludGxpZnkgbWVzc2FnZSBjb21waWxhdGlvbicsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1zZy5sb2NhbGUgPSB0YXJnZXRMb2NhbGU7XG4gICAgbXNnLmtleSA9IGtleTtcbiAgICBtc2cuc291cmNlID0gZm9ybWF0O1xuICAgIHJldHVybiBtc2c7XG59XG5mdW5jdGlvbiBldmFsdWF0ZU1lc3NhZ2UoY29udGV4dCwgbXNnLCBtc2dDdHgpIHtcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgbGV0IHN0YXJ0ID0gbnVsbDtcbiAgICBsZXQgc3RhcnRUYWc7XG4gICAgbGV0IGVuZFRhZztcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xuICAgICAgICBzdGFydCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgc3RhcnRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWV2YWx1YXRpb24tc3RhcnQnO1xuICAgICAgICBlbmRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWV2YWx1YXRpb24tZW5kJztcbiAgICAgICAgbWFyayAmJiBtYXJrKHN0YXJ0VGFnKTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZWQgPSBtc2cobXNnQ3R4KTtcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbkJyb3dzZXIpIHtcbiAgICAgICAgY29uc3QgZW5kID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgaWYgKGVtaXR0ZXIgJiYgc3RhcnQpIHtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcIm1lc3NhZ2UtZXZhbHVhdGlvblwiIC8qIFZ1ZURldlRvb2xzVGltZWxpbmVFdmVudHMuTUVTU0FHRV9FVkFMVUFUSU9OICovLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlLWV2YWx1YXRpb25cIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLk1FU1NBR0VfRVZBTFVBVElPTiAqLyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWVzc2FnZWQsXG4gICAgICAgICAgICAgICAgdGltZTogZW5kIC0gc3RhcnQsXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7J3RyYW5zbGF0ZSd9OiR7bXNnLmtleX1gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRUYWcgJiYgZW5kVGFnICYmIG1hcmsgJiYgbWVhc3VyZSkge1xuICAgICAgICAgICAgbWFyayhlbmRUYWcpO1xuICAgICAgICAgICAgbWVhc3VyZSgnaW50bGlmeSBtZXNzYWdlIGV2YWx1YXRpb24nLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZWQ7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncykge1xuICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNyZWF0ZSgpO1xuICAgIGlmICghaXNTdHJpbmcoYXJnMSkgJiZcbiAgICAgICAgIWlzTnVtYmVyKGFyZzEpICYmXG4gICAgICAgICFpc01lc3NhZ2VGdW5jdGlvbihhcmcxKSAmJlxuICAgICAgICAhaXNNZXNzYWdlQVNUKGFyZzEpKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0FSR1VNRU5UKTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3Qga2V5ID0gaXNOdW1iZXIoYXJnMSlcbiAgICAgICAgPyBTdHJpbmcoYXJnMSlcbiAgICAgICAgOiBpc01lc3NhZ2VGdW5jdGlvbihhcmcxKVxuICAgICAgICAgICAgPyBhcmcxXG4gICAgICAgICAgICA6IGFyZzE7XG4gICAgaWYgKGlzTnVtYmVyKGFyZzIpKSB7XG4gICAgICAgIG9wdGlvbnMucGx1cmFsID0gYXJnMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0ID0gYXJnMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmcyKSAmJiAhaXNFbXB0eU9iamVjdChhcmcyKSkge1xuICAgICAgICBvcHRpb25zLm5hbWVkID0gYXJnMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheShhcmcyKSkge1xuICAgICAgICBvcHRpb25zLmxpc3QgPSBhcmcyO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoYXJnMykpIHtcbiAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBhcmczO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N0cmluZyhhcmczKSkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHQgPSBhcmczO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XG4gICAgICAgIGFzc2lnbihvcHRpb25zLCBhcmczKTtcbiAgICB9XG4gICAgcmV0dXJuIFtrZXksIG9wdGlvbnNdO1xufVxuZnVuY3Rpb24gZ2V0Q29tcGlsZUNvbnRleHQoY29udGV4dCwgbG9jYWxlLCBrZXksIHNvdXJjZSwgd2Fybkh0bWxNZXNzYWdlLCBvbkVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBrZXksXG4gICAgICAgIHdhcm5IdG1sTWVzc2FnZSxcbiAgICAgICAgb25FcnJvcjogKGVycikgPT4ge1xuICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKGVycik7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX3NvdXJjZSA9IGdldFNvdXJjZUZvckNvZGVGcmFtZShzb3VyY2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgTWVzc2FnZSBjb21waWxhdGlvbiBlcnJvcjogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVGcmFtZSA9IGVyci5sb2NhdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBfc291cmNlICYmXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29kZUZyYW1lKF9zb3VyY2UsIGVyci5sb2NhdGlvbi5zdGFydC5vZmZzZXQsIGVyci5sb2NhdGlvbi5lbmQub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgICAgICAgICBpZiAoZW1pdHRlciAmJiBfc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImNvbXBpbGUtZXJyb3JcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLkNPTVBJTEVfRVJST1IgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogZXJyLmxvY2F0aW9uICYmIGVyci5sb2NhdGlvbi5zdGFydC5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGVyci5sb2NhdGlvbiAmJiBlcnIubG9jYXRpb24uZW5kLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAkeyd0cmFuc2xhdGUnfToke2tleX1gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNvZGVGcmFtZSA/IGAke21lc3NhZ2V9XFxuJHtjb2RlRnJhbWV9YCA6IG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNhY2hlS2V5OiAoc291cmNlKSA9PiBnZW5lcmF0ZUZvcm1hdENhY2hlS2V5KGxvY2FsZSwga2V5LCBzb3VyY2UpXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFNvdXJjZUZvckNvZGVGcmFtZShzb3VyY2UpIHtcbiAgICBpZiAoaXNTdHJpbmcoc291cmNlKSkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHNvdXJjZS5sb2MgJiYgc291cmNlLmxvYy5zb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubG9jLnNvdXJjZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldE1lc3NhZ2VDb250ZXh0T3B0aW9ucyhjb250ZXh0LCBsb2NhbGUsIG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IG1vZGlmaWVycywgcGx1cmFsUnVsZXMsIG1lc3NhZ2VSZXNvbHZlcjogcmVzb2x2ZVZhbHVlLCBmYWxsYmFja0xvY2FsZSwgZmFsbGJhY2tXYXJuLCBtaXNzaW5nV2FybiwgZmFsbGJhY2tDb250ZXh0IH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHJlc29sdmVNZXNzYWdlID0gKGtleSkgPT4ge1xuICAgICAgICBsZXQgdmFsID0gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSk7XG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIHJvb3QgY29udGV4dFxuICAgICAgICBpZiAodmFsID09IG51bGwgJiYgZmFsbGJhY2tDb250ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBbLCAsIG1lc3NhZ2VdID0gcmVzb2x2ZU1lc3NhZ2VGb3JtYXQoZmFsbGJhY2tDb250ZXh0LCBrZXksIGxvY2FsZSwgZmFsbGJhY2tMb2NhbGUsIGZhbGxiYWNrV2FybiwgbWlzc2luZ1dhcm4pO1xuICAgICAgICAgICAgdmFsID0gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbCkgfHwgaXNNZXNzYWdlQVNUKHZhbCkpIHtcbiAgICAgICAgICAgIGxldCBvY2N1cnJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBvY2N1cnJlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbXNnID0gY29tcGlsZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIHZhbCwga2V5LCBvbkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiAhb2NjdXJyZWRcbiAgICAgICAgICAgICAgICA/IG1zZ1xuICAgICAgICAgICAgICAgIDogTk9PUF9NRVNTQUdFX0ZVTkNUSU9OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTWVzc2FnZUZ1bmN0aW9uKHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgYmUgaW1wbGVtZW50ZWQgd2FybmluZyBtZXNzYWdlXG4gICAgICAgICAgICByZXR1cm4gTk9PUF9NRVNTQUdFX0ZVTkNUSU9OO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjdHhPcHRpb25zID0ge1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIG1vZGlmaWVycyxcbiAgICAgICAgcGx1cmFsUnVsZXMsXG4gICAgICAgIG1lc3NhZ2VzOiByZXNvbHZlTWVzc2FnZVxuICAgIH07XG4gICAgaWYgKGNvbnRleHQucHJvY2Vzc29yKSB7XG4gICAgICAgIGN0eE9wdGlvbnMucHJvY2Vzc29yID0gY29udGV4dC5wcm9jZXNzb3I7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmxpc3QpIHtcbiAgICAgICAgY3R4T3B0aW9ucy5saXN0ID0gb3B0aW9ucy5saXN0O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5uYW1lZCkge1xuICAgICAgICBjdHhPcHRpb25zLm5hbWVkID0gb3B0aW9ucy5uYW1lZDtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMucGx1cmFsKSkge1xuICAgICAgICBjdHhPcHRpb25zLnBsdXJhbEluZGV4ID0gb3B0aW9ucy5wbHVyYWw7XG4gICAgfVxuICAgIHJldHVybiBjdHhPcHRpb25zO1xufVxuXG5jb25zdCBpbnRsRGVmaW5lZCA9IHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJztcbmNvbnN0IEF2YWlsYWJpbGl0aWVzID0ge1xuICAgIGRhdGVUaW1lRm9ybWF0OiBpbnRsRGVmaW5lZCAmJiB0eXBlb2YgSW50bC5EYXRlVGltZUZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgbnVtYmVyRm9ybWF0OiBpbnRsRGVmaW5lZCAmJiB0eXBlb2YgSW50bC5OdW1iZXJGb3JtYXQgIT09ICd1bmRlZmluZWQnXG59O1xuXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBgZGF0ZXRpbWVgIGZ1bmN0aW9uXG5mdW5jdGlvbiBkYXRldGltZShjb250ZXh0LCAuLi5hcmdzKSB7XG4gICAgY29uc3QgeyBkYXRldGltZUZvcm1hdHMsIHVucmVzb2x2aW5nLCBmYWxsYmFja0xvY2FsZSwgb25XYXJuLCBsb2NhbGVGYWxsYmFja2VyIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHsgX19kYXRldGltZUZvcm1hdHRlcnMgfSA9IGNvbnRleHQ7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQXZhaWxhYmlsaXRpZXMuZGF0ZVRpbWVGb3JtYXQpIHtcbiAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKENvcmVXYXJuQ29kZXMuQ0FOTk9UX0ZPUk1BVF9EQVRFKSk7XG4gICAgICAgIHJldHVybiBNSVNTSU5HX1JFU09MVkVfVkFMVUU7XG4gICAgfVxuICAgIGNvbnN0IFtrZXksIHZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdID0gcGFyc2VEYXRlVGltZUFyZ3MoLi4uYXJncyk7XG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybilcbiAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXG4gICAgICAgIDogY29udGV4dC5taXNzaW5nV2FybjtcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1dhcm5cbiAgICAgICAgOiBjb250ZXh0LmZhbGxiYWNrV2FybjtcbiAgICBjb25zdCBwYXJ0ID0gISFvcHRpb25zLnBhcnQ7XG4gICAgY29uc3QgbG9jYWxlID0gZ2V0TG9jYWxlKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGxvY2FsZXMgPSBsb2NhbGVGYWxsYmFja2VyKGNvbnRleHQsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUpO1xuICAgIGlmICghaXNTdHJpbmcoa2V5KSB8fCBrZXkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUsIG92ZXJyaWRlcykuZm9ybWF0KHZhbHVlKTtcbiAgICB9XG4gICAgLy8gcmVzb2x2ZSBmb3JtYXRcbiAgICBsZXQgZGF0ZXRpbWVGb3JtYXQgPSB7fTtcbiAgICBsZXQgdGFyZ2V0TG9jYWxlO1xuICAgIGxldCBmb3JtYXQgPSBudWxsO1xuICAgIGxldCBmcm9tID0gbG9jYWxlO1xuICAgIGxldCB0byA9IG51bGw7XG4gICAgY29uc3QgdHlwZSA9ICdkYXRldGltZSBmb3JtYXQnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRMb2NhbGUgPSB0byA9IGxvY2FsZXNbaV07XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlICYmXG4gICAgICAgICAgICBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybihmYWxsYmFja1dhcm4sIGtleSkpIHtcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZShDb3JlV2FybkNvZGVzLkZBTExCQUNLX1RPX0RBVEVfRk9STUFULCB7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0TG9jYWxlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlKSB7XG4gICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gY29udGV4dC5fX3ZfZW1pdHRlcjtcbiAgICAgICAgICAgIGlmIChlbWl0dGVyKSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwiZmFsbGJhY2tcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLkZBTEJBQ0sgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7dHlwZX06JHtrZXl9YFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRhdGV0aW1lRm9ybWF0ID1cbiAgICAgICAgICAgIGRhdGV0aW1lRm9ybWF0c1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xuICAgICAgICBmb3JtYXQgPSBkYXRldGltZUZvcm1hdFtrZXldO1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChmb3JtYXQpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGhhbmRsZU1pc3NpbmcoY29udGV4dCwga2V5LCB0YXJnZXRMb2NhbGUsIG1pc3NpbmdXYXJuLCB0eXBlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGZyb20gPSB0bztcbiAgICB9XG4gICAgLy8gY2hlY2tpbmcgZm9ybWF0IGFuZCB0YXJnZXQgbG9jYWxlXG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGZvcm1hdCkgfHwgIWlzU3RyaW5nKHRhcmdldExvY2FsZSkpIHtcbiAgICAgICAgcmV0dXJuIHVucmVzb2x2aW5nID8gTk9UX1JFT1NMVkVEIDoga2V5O1xuICAgIH1cbiAgICBsZXQgaWQgPSBgJHt0YXJnZXRMb2NhbGV9X18ke2tleX1gO1xuICAgIGlmICghaXNFbXB0eU9iamVjdChvdmVycmlkZXMpKSB7XG4gICAgICAgIGlkID0gYCR7aWR9X18ke0pTT04uc3RyaW5naWZ5KG92ZXJyaWRlcyl9YDtcbiAgICB9XG4gICAgbGV0IGZvcm1hdHRlciA9IF9fZGF0ZXRpbWVGb3JtYXR0ZXJzLmdldChpZCk7XG4gICAgaWYgKCFmb3JtYXR0ZXIpIHtcbiAgICAgICAgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodGFyZ2V0TG9jYWxlLCBhc3NpZ24oe30sIGZvcm1hdCwgb3ZlcnJpZGVzKSk7XG4gICAgICAgIF9fZGF0ZXRpbWVGb3JtYXR0ZXJzLnNldChpZCwgZm9ybWF0dGVyKTtcbiAgICB9XG4gICAgcmV0dXJuICFwYXJ0ID8gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSkgOiBmb3JtYXR0ZXIuZm9ybWF0VG9QYXJ0cyh2YWx1ZSk7XG59XG4vKiogQGludGVybmFsICovXG5jb25zdCBEQVRFVElNRV9GT1JNQVRfT1BUSU9OU19LRVlTID0gW1xuICAgICdsb2NhbGVNYXRjaGVyJyxcbiAgICAnd2Vla2RheScsXG4gICAgJ2VyYScsXG4gICAgJ3llYXInLFxuICAgICdtb250aCcsXG4gICAgJ2RheScsXG4gICAgJ2hvdXInLFxuICAgICdtaW51dGUnLFxuICAgICdzZWNvbmQnLFxuICAgICd0aW1lWm9uZU5hbWUnLFxuICAgICdmb3JtYXRNYXRjaGVyJyxcbiAgICAnaG91cjEyJyxcbiAgICAndGltZVpvbmUnLFxuICAgICdkYXRlU3R5bGUnLFxuICAgICd0aW1lU3R5bGUnLFxuICAgICdjYWxlbmRhcicsXG4gICAgJ2RheVBlcmlvZCcsXG4gICAgJ251bWJlcmluZ1N5c3RlbScsXG4gICAgJ2hvdXJDeWNsZScsXG4gICAgJ2ZyYWN0aW9uYWxTZWNvbmREaWdpdHMnXG5dO1xuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gcGFyc2VEYXRlVGltZUFyZ3MoLi4uYXJncykge1xuICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczLCBhcmc0XSA9IGFyZ3M7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNyZWF0ZSgpO1xuICAgIGxldCBvdmVycmlkZXMgPSBjcmVhdGUoKTtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKGlzU3RyaW5nKGFyZzEpKSB7XG4gICAgICAgIC8vIE9ubHkgYWxsb3cgSVNPIHN0cmluZ3MgLSBvdGhlciBkYXRlIGZvcm1hdHMgYXJlIG9mdGVuIHN1cHBvcnRlZCxcbiAgICAgICAgLy8gYnV0IG1heSBjYXVzZSBkaWZmZXJlbnQgcmVzdWx0cyBpbiBkaWZmZXJlbnQgYnJvd3NlcnMuXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBhcmcxLm1hdGNoKC8oXFxkezR9LVxcZHsyfS1cXGR7Mn0pKFR8XFxzKT8oLiopLyk7XG4gICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLklOVkFMSURfSVNPX0RBVEVfQVJHVU1FTlQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgY2FuIG5vdCBwYXJzZSB0aGUgaXNvIGRhdGV0aW1lIHNlcGFyYXRlZCBieSBzcGFjZSxcbiAgICAgICAgLy8gdGhpcyBpcyBhIGNvbXByb21pc2Ugc29sdXRpb24gYnkgcmVwbGFjZSB0aGUgJ1QnLycgJyB3aXRoICdUJ1xuICAgICAgICBjb25zdCBkYXRlVGltZSA9IG1hdGNoZXNbM11cbiAgICAgICAgICAgID8gbWF0Y2hlc1szXS50cmltKCkuc3RhcnRzV2l0aCgnVCcpXG4gICAgICAgICAgICAgICAgPyBgJHttYXRjaGVzWzFdLnRyaW0oKX0ke21hdGNoZXNbM10udHJpbSgpfWBcbiAgICAgICAgICAgICAgICA6IGAke21hdGNoZXNbMV0udHJpbSgpfVQke21hdGNoZXNbM10udHJpbSgpfWBcbiAgICAgICAgICAgIDogbWF0Y2hlc1sxXS50cmltKCk7XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUoZGF0ZVRpbWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGZhaWwgaWYgdGhlIGRhdGUgaXMgbm90IHZhbGlkXG4gICAgICAgICAgICB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNEYXRlKGFyZzEpKSB7XG4gICAgICAgIGlmIChpc05hTihhcmcxLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcihDb3JlRXJyb3JDb2Rlcy5JTlZBTElEX0RBVEVfQVJHVU1FTlQpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gYXJnMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOdW1iZXIoYXJnMSkpIHtcbiAgICAgICAgdmFsdWUgPSBhcmcxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKENvcmVFcnJvckNvZGVzLklOVkFMSURfQVJHVU1FTlQpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgb3B0aW9ucy5rZXkgPSBhcmcyO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGFyZzIpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChEQVRFVElNRV9GT1JNQVRfT1BUSU9OU19LRVlTLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBvdmVycmlkZXNba2V5XSA9IGFyZzJba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNba2V5XSA9IGFyZzJba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhhcmczKSkge1xuICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcbiAgICAgICAgb3ZlcnJpZGVzID0gYXJnMztcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmplY3QoYXJnNCkpIHtcbiAgICAgICAgb3ZlcnJpZGVzID0gYXJnNDtcbiAgICB9XG4gICAgcmV0dXJuIFtvcHRpb25zLmtleSB8fCAnJywgdmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc107XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBjbGVhckRhdGVUaW1lRm9ybWF0KGN0eCwgbG9jYWxlLCBmb3JtYXQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gY3R4O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZvcm1hdCkge1xuICAgICAgICBjb25zdCBpZCA9IGAke2xvY2FsZX1fXyR7a2V5fWA7XG4gICAgICAgIGlmICghY29udGV4dC5fX2RhdGV0aW1lRm9ybWF0dGVycy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0Ll9fZGF0ZXRpbWVGb3JtYXR0ZXJzLmRlbGV0ZShpZCk7XG4gICAgfVxufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBgbnVtYmVyYCBmdW5jdGlvblxuZnVuY3Rpb24gbnVtYmVyKGNvbnRleHQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7IG51bWJlckZvcm1hdHMsIHVucmVzb2x2aW5nLCBmYWxsYmFja0xvY2FsZSwgb25XYXJuLCBsb2NhbGVGYWxsYmFja2VyIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHsgX19udW1iZXJGb3JtYXR0ZXJzIH0gPSBjb250ZXh0O1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIUF2YWlsYWJpbGl0aWVzLm51bWJlckZvcm1hdCkge1xuICAgICAgICBvbldhcm4oZ2V0V2Fybk1lc3NhZ2UoQ29yZVdhcm5Db2Rlcy5DQU5OT1RfRk9STUFUX05VTUJFUikpO1xuICAgICAgICByZXR1cm4gTUlTU0lOR19SRVNPTFZFX1ZBTFVFO1xuICAgIH1cbiAgICBjb25zdCBba2V5LCB2YWx1ZSwgb3B0aW9ucywgb3ZlcnJpZGVzXSA9IHBhcnNlTnVtYmVyQXJncyguLi5hcmdzKTtcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKVxuICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cbiAgICAgICAgOiBjb250ZXh0Lm1pc3NpbmdXYXJuO1xuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybilcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxuICAgICAgICA6IGNvbnRleHQuZmFsbGJhY2tXYXJuO1xuICAgIGNvbnN0IHBhcnQgPSAhIW9wdGlvbnMucGFydDtcbiAgICBjb25zdCBsb2NhbGUgPSBnZXRMb2NhbGUoY29udGV4dCwgb3B0aW9ucyk7XG4gICAgY29uc3QgbG9jYWxlcyA9IGxvY2FsZUZhbGxiYWNrZXIoY29udGV4dCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZmFsbGJhY2tMb2NhbGUsIGxvY2FsZSk7XG4gICAgaWYgKCFpc1N0cmluZyhrZXkpIHx8IGtleSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGUsIG92ZXJyaWRlcykuZm9ybWF0KHZhbHVlKTtcbiAgICB9XG4gICAgLy8gcmVzb2x2ZSBmb3JtYXRcbiAgICBsZXQgbnVtYmVyRm9ybWF0ID0ge307XG4gICAgbGV0IHRhcmdldExvY2FsZTtcbiAgICBsZXQgZm9ybWF0ID0gbnVsbDtcbiAgICBsZXQgZnJvbSA9IGxvY2FsZTtcbiAgICBsZXQgdG8gPSBudWxsO1xuICAgIGNvbnN0IHR5cGUgPSAnbnVtYmVyIGZvcm1hdCc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRhcmdldExvY2FsZSA9IHRvID0gbG9jYWxlc1tpXTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUgJiZcbiAgICAgICAgICAgIGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuKGZhbGxiYWNrV2Fybiwga2V5KSkge1xuICAgICAgICAgICAgb25XYXJuKGdldFdhcm5NZXNzYWdlKENvcmVXYXJuQ29kZXMuRkFMTEJBQ0tfVE9fTlVNQkVSX0ZPUk1BVCwge1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldExvY2FsZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBsb2NhbGUgIT09IHRhcmdldExvY2FsZSkge1xuICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XG4gICAgICAgICAgICBpZiAoZW1pdHRlcikge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcImZhbGxiYWNrXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5GQUxCQUNLICovLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3R5cGV9OiR7a2V5fWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBudW1iZXJGb3JtYXQgPVxuICAgICAgICAgICAgbnVtYmVyRm9ybWF0c1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xuICAgICAgICBmb3JtYXQgPSBudW1iZXJGb3JtYXRba2V5XTtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QoZm9ybWF0KSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBoYW5kbGVNaXNzaW5nKGNvbnRleHQsIGtleSwgdGFyZ2V0TG9jYWxlLCBtaXNzaW5nV2FybiwgdHlwZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBmcm9tID0gdG87XG4gICAgfVxuICAgIC8vIGNoZWNraW5nIGZvcm1hdCBhbmQgdGFyZ2V0IGxvY2FsZVxuICAgIGlmICghaXNQbGFpbk9iamVjdChmb3JtYXQpIHx8ICFpc1N0cmluZyh0YXJnZXRMb2NhbGUpKSB7XG4gICAgICAgIHJldHVybiB1bnJlc29sdmluZyA/IE5PVF9SRU9TTFZFRCA6IGtleTtcbiAgICB9XG4gICAgbGV0IGlkID0gYCR7dGFyZ2V0TG9jYWxlfV9fJHtrZXl9YDtcbiAgICBpZiAoIWlzRW1wdHlPYmplY3Qob3ZlcnJpZGVzKSkge1xuICAgICAgICBpZCA9IGAke2lkfV9fJHtKU09OLnN0cmluZ2lmeShvdmVycmlkZXMpfWA7XG4gICAgfVxuICAgIGxldCBmb3JtYXR0ZXIgPSBfX251bWJlckZvcm1hdHRlcnMuZ2V0KGlkKTtcbiAgICBpZiAoIWZvcm1hdHRlcikge1xuICAgICAgICBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGFyZ2V0TG9jYWxlLCBhc3NpZ24oe30sIGZvcm1hdCwgb3ZlcnJpZGVzKSk7XG4gICAgICAgIF9fbnVtYmVyRm9ybWF0dGVycy5zZXQoaWQsIGZvcm1hdHRlcik7XG4gICAgfVxuICAgIHJldHVybiAhcGFydCA/IGZvcm1hdHRlci5mb3JtYXQodmFsdWUpIDogZm9ybWF0dGVyLmZvcm1hdFRvUGFydHModmFsdWUpO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgTlVNQkVSX0ZPUk1BVF9PUFRJT05TX0tFWVMgPSBbXG4gICAgJ2xvY2FsZU1hdGNoZXInLFxuICAgICdzdHlsZScsXG4gICAgJ2N1cnJlbmN5JyxcbiAgICAnY3VycmVuY3lEaXNwbGF5JyxcbiAgICAnY3VycmVuY3lTaWduJyxcbiAgICAndXNlR3JvdXBpbmcnLFxuICAgICdtaW5pbXVtSW50ZWdlckRpZ2l0cycsXG4gICAgJ21pbmltdW1GcmFjdGlvbkRpZ2l0cycsXG4gICAgJ21heGltdW1GcmFjdGlvbkRpZ2l0cycsXG4gICAgJ21pbmltdW1TaWduaWZpY2FudERpZ2l0cycsXG4gICAgJ21heGltdW1TaWduaWZpY2FudERpZ2l0cycsXG4gICAgJ2NvbXBhY3REaXNwbGF5JyxcbiAgICAnbm90YXRpb24nLFxuICAgICdzaWduRGlzcGxheScsXG4gICAgJ3VuaXQnLFxuICAgICd1bml0RGlzcGxheScsXG4gICAgJ3JvdW5kaW5nTW9kZScsXG4gICAgJ3JvdW5kaW5nUHJpb3JpdHknLFxuICAgICdyb3VuZGluZ0luY3JlbWVudCcsXG4gICAgJ3RyYWlsaW5nWmVyb0Rpc3BsYXknXG5dO1xuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gcGFyc2VOdW1iZXJBcmdzKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnMywgYXJnNF0gPSBhcmdzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBjcmVhdGUoKTtcbiAgICBsZXQgb3ZlcnJpZGVzID0gY3JlYXRlKCk7XG4gICAgaWYgKCFpc051bWJlcihhcmcxKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoQ29yZUVycm9yQ29kZXMuSU5WQUxJRF9BUkdVTUVOVCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gYXJnMTtcbiAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcbiAgICAgICAgb3B0aW9ucy5rZXkgPSBhcmcyO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGFyZzIpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChOVU1CRVJfRk9STUFUX09QVElPTlNfS0VZUy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVzW2tleV0gPSBhcmcyW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zW2tleV0gPSBhcmcyW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoYXJnMykpIHtcbiAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBhcmczO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XG4gICAgICAgIG92ZXJyaWRlcyA9IGFyZzM7XG4gICAgfVxuICAgIGlmIChpc1BsYWluT2JqZWN0KGFyZzQpKSB7XG4gICAgICAgIG92ZXJyaWRlcyA9IGFyZzQ7XG4gICAgfVxuICAgIHJldHVybiBbb3B0aW9ucy5rZXkgfHwgJycsIHZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gY2xlYXJOdW1iZXJGb3JtYXQoY3R4LCBsb2NhbGUsIGZvcm1hdCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjdHg7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7bG9jYWxlfV9fJHtrZXl9YDtcbiAgICAgICAgaWYgKCFjb250ZXh0Ll9fbnVtYmVyRm9ybWF0dGVycy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0Ll9fbnVtYmVyRm9ybWF0dGVycy5kZWxldGUoaWQpO1xuICAgIH1cbn1cblxue1xuICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcbn1cblxuZXhwb3J0IHsgQVNUX05PREVfUFJPUFNfS0VZUywgQ29yZUVycm9yQ29kZXMsIENvcmVXYXJuQ29kZXMsIERBVEVUSU1FX0ZPUk1BVF9PUFRJT05TX0tFWVMsIERFRkFVTFRfTE9DQUxFLCBERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFLCBNSVNTSU5HX1JFU09MVkVfVkFMVUUsIE5PVF9SRU9TTFZFRCwgTlVNQkVSX0ZPUk1BVF9PUFRJT05TX0tFWVMsIFZFUlNJT04sIGNsZWFyQ29tcGlsZUNhY2hlLCBjbGVhckRhdGVUaW1lRm9ybWF0LCBjbGVhck51bWJlckZvcm1hdCwgY29tcGlsZSwgY29tcGlsZVRvRnVuY3Rpb24sIGNyZWF0ZUNvcmVDb250ZXh0LCBjcmVhdGVDb3JlRXJyb3IsIGNyZWF0ZU1lc3NhZ2VDb250ZXh0LCBkYXRldGltZSwgZmFsbGJhY2tXaXRoTG9jYWxlQ2hhaW4sIGZhbGxiYWNrV2l0aFNpbXBsZSwgZ2V0QWRkaXRpb25hbE1ldGEsIGdldERldlRvb2xzSG9vaywgZ2V0RmFsbGJhY2tDb250ZXh0LCBnZXRMb2NhbGUsIGdldFdhcm5NZXNzYWdlLCBoYW5kbGVNaXNzaW5nLCBpbml0STE4bkRldlRvb2xzLCBpc0FsbW9zdFNhbWVMb2NhbGUsIGlzSW1wbGljaXRGYWxsYmFjaywgaXNNZXNzYWdlQVNULCBpc01lc3NhZ2VGdW5jdGlvbiwgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4sIGlzVHJhbnNsYXRlTWlzc2luZ1dhcm4sIG51bWJlciwgcGFyc2UsIHBhcnNlRGF0ZVRpbWVBcmdzLCBwYXJzZU51bWJlckFyZ3MsIHBhcnNlVHJhbnNsYXRlQXJncywgcmVnaXN0ZXJMb2NhbGVGYWxsYmFja2VyLCByZWdpc3Rlck1lc3NhZ2VDb21waWxlciwgcmVnaXN0ZXJNZXNzYWdlUmVzb2x2ZXIsIHJlc29sdmVMb2NhbGUsIHJlc29sdmVWYWx1ZSwgcmVzb2x2ZVdpdGhLZXlWYWx1ZSwgc2V0QWRkaXRpb25hbE1ldGEsIHNldERldlRvb2xzSG9vaywgc2V0RmFsbGJhY2tDb250ZXh0LCB0cmFuc2xhdGUsIHRyYW5zbGF0ZURldlRvb2xzLCB1cGRhdGVGYWxsYmFja0xvY2FsZSB9O1xuIiwiLyohXG4gICogdnVlLWkxOG4gdjkuMTQuNFxuICAqIChjKSAyMDI1IGthenV5YSBrYXdhZ3VjaGlcbiAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICovXG5pbXBvcnQgeyBnZXRHbG9iYWxUaGlzLCBpbmNyZW1lbnRlciwgZm9ybWF0LCBtYWtlU3ltYm9sLCBpc1BsYWluT2JqZWN0LCBpc0FycmF5LCBjcmVhdGUsIGRlZXBDb3B5LCBpc1N0cmluZywgaGFzT3duLCBpc09iamVjdCwgd2Fybiwgd2Fybk9uY2UsIGlzQm9vbGVhbiwgaXNSZWdFeHAsIGlzRnVuY3Rpb24sIGluQnJvd3NlciwgYXNzaWduLCBpc051bWJlciwgY3JlYXRlRW1pdHRlciwgaXNFbXB0eU9iamVjdCB9IGZyb20gJ0BpbnRsaWZ5L3NoYXJlZCc7XG5pbXBvcnQgeyBDb3JlV2FybkNvZGVzLCBDb3JlRXJyb3JDb2RlcywgY3JlYXRlQ29tcGlsZUVycm9yLCBpc01lc3NhZ2VBU1QsIEFTVF9OT0RFX1BST1BTX0tFWVMsIERFRkFVTFRfTE9DQUxFLCB1cGRhdGVGYWxsYmFja0xvY2FsZSwgc2V0RmFsbGJhY2tDb250ZXh0LCBjcmVhdGVDb3JlQ29udGV4dCwgY2xlYXJEYXRlVGltZUZvcm1hdCwgY2xlYXJOdW1iZXJGb3JtYXQsIHNldEFkZGl0aW9uYWxNZXRhLCBnZXRGYWxsYmFja0NvbnRleHQsIE5PVF9SRU9TTFZFRCwgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4sIGlzVHJhbnNsYXRlTWlzc2luZ1dhcm4sIHBhcnNlVHJhbnNsYXRlQXJncywgdHJhbnNsYXRlLCBNSVNTSU5HX1JFU09MVkVfVkFMVUUsIHBhcnNlRGF0ZVRpbWVBcmdzLCBkYXRldGltZSwgcGFyc2VOdW1iZXJBcmdzLCBudW1iZXIsIGlzTWVzc2FnZUZ1bmN0aW9uLCBmYWxsYmFja1dpdGhMb2NhbGVDaGFpbiwgTlVNQkVSX0ZPUk1BVF9PUFRJT05TX0tFWVMsIERBVEVUSU1FX0ZPUk1BVF9PUFRJT05TX0tFWVMsIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyLCBjb21waWxlLCBjb21waWxlVG9GdW5jdGlvbiwgcmVnaXN0ZXJNZXNzYWdlUmVzb2x2ZXIsIHJlc29sdmVWYWx1ZSwgcmVnaXN0ZXJMb2NhbGVGYWxsYmFja2VyLCBzZXREZXZUb29sc0hvb2sgfSBmcm9tICdAaW50bGlmeS9jb3JlLWJhc2UnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUsIFRleHQsIGNvbXB1dGVkLCB3YXRjaCwgZ2V0Q3VycmVudEluc3RhbmNlLCByZWYsIHNoYWxsb3dSZWYsIEZyYWdtZW50LCBkZWZpbmVDb21wb25lbnQsIGgsIGVmZmVjdFNjb3BlLCBpbmplY3QsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQsIG9uQmVmb3JlTW91bnQsIGlzUmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHNldHVwRGV2dG9vbHNQbHVnaW4gfSBmcm9tICdAdnVlL2RldnRvb2xzLWFwaSc7XG5cbi8qKlxuICogVnVlIEkxOG4gVmVyc2lvblxuICpcbiAqIEByZW1hcmtzXG4gKiBTZW12ZXIgZm9ybWF0LiBTYW1lIGZvcm1hdCBhcyB0aGUgcGFja2FnZS5qc29uIGB2ZXJzaW9uYCBmaWVsZC5cbiAqXG4gKiBAVnVlSTE4bkdlbmVyYWxcbiAqL1xuY29uc3QgVkVSU0lPTiA9ICc5LjE0LjQnO1xuLyoqXG4gKiBUaGlzIGlzIG9ubHkgY2FsbGVkIGluIGVzbS1idW5kbGVyIGJ1aWxkcy5cbiAqIGlzdGFuYnVsLWlnbm9yZS1uZXh0XG4gKi9cbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9JMThOX0ZVTExfSU5TVEFMTF9fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0kxOE5fRlVMTF9JTlNUQUxMX18gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX0lOVExJRllfSklUX0NPTVBJTEFUSU9OX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19JTlRMSUZZX0pJVF9DT01QSUxBVElPTl9fID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgX19JTlRMSUZZX0RST1BfTUVTU0FHRV9DT01QSUxFUl9fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fSU5UTElGWV9EUk9QX01FU1NBR0VfQ09NUElMRVJfXyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18gIT09ICdib29sZWFuJykge1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xuICAgIH1cbn1cblxuY29uc3QgY29kZSQxID0gQ29yZVdhcm5Db2Rlcy5fX0VYVEVORF9QT0lOVF9fO1xuY29uc3QgaW5jJDEgPSBpbmNyZW1lbnRlcihjb2RlJDEpO1xuY29uc3QgSTE4bldhcm5Db2RlcyA9IHtcbiAgICBGQUxMQkFDS19UT19ST09UOiBjb2RlJDEsIC8vIDlcbiAgICBOT1RfU1VQUE9SVEVEX1BSRVNFUlZFOiBpbmMkMSgpLCAvLyAxMFxuICAgIE5PVF9TVVBQT1JURURfRk9STUFUVEVSOiBpbmMkMSgpLCAvLyAxMVxuICAgIE5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFOiBpbmMkMSgpLCAvLyAxMlxuICAgIE5PVF9TVVBQT1JURURfR0VUX0NIT0lDRV9JTkRFWDogaW5jJDEoKSwgLy8gMTNcbiAgICBDT01QT05FTlRfTkFNRV9MRUdBQ1lfQ09NUEFUSUJMRTogaW5jJDEoKSwgLy8gMTRcbiAgICBOT1RfRk9VTkRfUEFSRU5UX1NDT1BFOiBpbmMkMSgpLCAvLyAxNVxuICAgIElHTk9SRV9PQkpfRkxBVFRFTjogaW5jJDEoKSwgLy8gMTZcbiAgICBOT1RJQ0VfRFJPUF9BTExPV19DT01QT1NJVElPTjogaW5jJDEoKSwgLy8gMTdcbiAgICBOT1RJQ0VfRFJPUF9UUkFOU0xBVEVfRVhJU1RfQ09NUEFUSUJMRV9GTEFHOiBpbmMkMSgpIC8vIDE4XG59O1xuY29uc3Qgd2Fybk1lc3NhZ2VzID0ge1xuICAgIFtJMThuV2FybkNvZGVzLkZBTExCQUNLX1RPX1JPT1RdOiBgRmFsbCBiYWNrIHRvIHt0eXBlfSAne2tleX0nIHdpdGggcm9vdCBsb2NhbGUuYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX1BSRVNFUlZFXTogYE5vdCBzdXBwb3J0ZWQgJ3ByZXNlcnZlJy5gLFxuICAgIFtJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfRk9STUFUVEVSXTogYE5vdCBzdXBwb3J0ZWQgJ2Zvcm1hdHRlcicuYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRV06IGBOb3Qgc3VwcG9ydGVkICdwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnQnLmAsXG4gICAgW0kxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9HRVRfQ0hPSUNFX0lOREVYXTogYE5vdCBzdXBwb3J0ZWQgJ2dldENob2ljZUluZGV4Jy5gLFxuICAgIFtJMThuV2FybkNvZGVzLkNPTVBPTkVOVF9OQU1FX0xFR0FDWV9DT01QQVRJQkxFXTogYENvbXBvbmVudCBuYW1lIGxlZ2FjeSBjb21wYXRpYmxlOiAne25hbWV9JyAtPiAnaTE4bidgLFxuICAgIFtJMThuV2FybkNvZGVzLk5PVF9GT1VORF9QQVJFTlRfU0NPUEVdOiBgTm90IGZvdW5kIHBhcmVudCBzY29wZS4gdXNlIHRoZSBnbG9iYWwgc2NvcGUuYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5JR05PUkVfT0JKX0ZMQVRURU5dOiBgSWdub3JlIG9iamVjdCBmbGF0dGVuOiAne2tleX0nIGtleSBoYXMgYW4gc3RyaW5nIHZhbHVlYCxcbiAgICBbSTE4bldhcm5Db2Rlcy5OT1RJQ0VfRFJPUF9BTExPV19DT01QT1NJVElPTl06IGAnYWxsb3dDb21wb3NpdGlvbicgb3B0aW9uIHdpbGwgYmUgZHJvcHBlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHNlZSDwn5GJIGh0dHBzOi8vdGlueXVybC5jb20vMnA5N21jemVgLFxuICAgIFtJMThuV2FybkNvZGVzLk5PVElDRV9EUk9QX1RSQU5TTEFURV9FWElTVF9DT01QQVRJQkxFX0ZMQUddOiBgJ3RyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZScgb3B0aW9uIHdpbGwgYmUgZHJvcHBlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLmBcbn07XG5mdW5jdGlvbiBnZXRXYXJuTWVzc2FnZShjb2RlLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh3YXJuTWVzc2FnZXNbY29kZV0sIC4uLmFyZ3MpO1xufVxuXG5jb25zdCBjb2RlID0gQ29yZUVycm9yQ29kZXMuX19FWFRFTkRfUE9JTlRfXztcbmNvbnN0IGluYyA9IGluY3JlbWVudGVyKGNvZGUpO1xuY29uc3QgSTE4bkVycm9yQ29kZXMgPSB7XG4gICAgLy8gY29tcG9zZXIgbW9kdWxlIGVycm9yc1xuICAgIFVORVhQRUNURURfUkVUVVJOX1RZUEU6IGNvZGUsIC8vIDI0XG4gICAgLy8gbGVnYWN5IG1vZHVsZSBlcnJvcnNcbiAgICBJTlZBTElEX0FSR1VNRU5UOiBpbmMoKSwgLy8gMjVcbiAgICAvLyBpMThuIG1vZHVsZSBlcnJvcnNcbiAgICBNVVNUX0JFX0NBTExfU0VUVVBfVE9QOiBpbmMoKSwgLy8gMjZcbiAgICBOT1RfSU5TVEFMTEVEOiBpbmMoKSwgLy8gMjdcbiAgICBOT1RfQVZBSUxBQkxFX0lOX0xFR0FDWV9NT0RFOiBpbmMoKSwgLy8gMjhcbiAgICAvLyBkaXJlY3RpdmUgbW9kdWxlIGVycm9yc1xuICAgIFJFUVVJUkVEX1ZBTFVFOiBpbmMoKSwgLy8gMjlcbiAgICBJTlZBTElEX1ZBTFVFOiBpbmMoKSwgLy8gMzBcbiAgICAvLyB2dWUtZGV2dG9vbHMgZXJyb3JzXG4gICAgQ0FOTk9UX1NFVFVQX1ZVRV9ERVZUT09MU19QTFVHSU46IGluYygpLCAvLyAzMVxuICAgIE5PVF9JTlNUQUxMRURfV0lUSF9QUk9WSURFOiBpbmMoKSwgLy8gMzJcbiAgICAvLyB1bmV4cGVjdGVkIGVycm9yXG4gICAgVU5FWFBFQ1RFRF9FUlJPUjogaW5jKCksIC8vIDMzXG4gICAgLy8gbm90IGNvbXBhdGlibGUgbGVnYWN5IHZ1ZS1pMThuIGNvbnN0cnVjdG9yXG4gICAgTk9UX0NPTVBBVElCTEVfTEVHQUNZX1ZVRV9JMThOOiBpbmMoKSwgLy8gMzRcbiAgICAvLyBicmlkZ2Ugc3VwcG9ydCB2dWUgMi54IG9ubHlcbiAgICBCUklER0VfU1VQUE9SVF9WVUVfMl9PTkxZOiBpbmMoKSwgLy8gMzVcbiAgICAvLyBuZWVkIHRvIGRlZmluZSBgaTE4bmAgb3B0aW9uIGluIGBhbGxvd0NvbXBvc2l0aW9uOiB0cnVlYCBhbmQgYHVzZVNjb3BlOiAnbG9jYWwnIGF0IGB1c2VJMThuYGBcbiAgICBNVVNUX0RFRklORV9JMThOX09QVElPTl9JTl9BTExPV19DT01QT1NJVElPTjogaW5jKCksIC8vIDM2XG4gICAgLy8gTm90IGF2YWlsYWJsZSBDb21wb3N0aW9uIEFQSSBpbiBMZWdhY3kgQVBJIG1vZGUuIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCB0aGUgbGVnYWN5IEFQSSBtb2RlIGlzIHdvcmtpbmcgcHJvcGVybHlcbiAgICBOT1RfQVZBSUxBQkxFX0NPTVBPU0lUSU9OX0lOX0xFR0FDWTogaW5jKCksIC8vIDM3XG4gICAgLy8gZm9yIGVuaGFuY2VtZW50XG4gICAgX19FWFRFTkRfUE9JTlRfXzogaW5jKCkgLy8gMzhcbn07XG5mdW5jdGlvbiBjcmVhdGVJMThuRXJyb3IoY29kZSwgLi4uYXJncykge1xuICAgIHJldHVybiBjcmVhdGVDb21waWxlRXJyb3IoY29kZSwgbnVsbCwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8geyBtZXNzYWdlczogZXJyb3JNZXNzYWdlcywgYXJncyB9IDogdW5kZWZpbmVkKTtcbn1cbmNvbnN0IGVycm9yTWVzc2FnZXMgPSB7XG4gICAgW0kxOG5FcnJvckNvZGVzLlVORVhQRUNURURfUkVUVVJOX1RZUEVdOiAnVW5leHBlY3RlZCByZXR1cm4gdHlwZSBpbiBjb21wb3NlcicsXG4gICAgW0kxOG5FcnJvckNvZGVzLklOVkFMSURfQVJHVU1FTlRdOiAnSW52YWxpZCBhcmd1bWVudCcsXG4gICAgW0kxOG5FcnJvckNvZGVzLk1VU1RfQkVfQ0FMTF9TRVRVUF9UT1BdOiAnTXVzdCBiZSBjYWxsZWQgYXQgdGhlIHRvcCBvZiBhIGBzZXR1cGAgZnVuY3Rpb24nLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5OT1RfSU5TVEFMTEVEXTogJ05lZWQgdG8gaW5zdGFsbCB3aXRoIGBhcHAudXNlYCBmdW5jdGlvbicsXG4gICAgW0kxOG5FcnJvckNvZGVzLlVORVhQRUNURURfRVJST1JdOiAnVW5leHBlY3RlZCBlcnJvcicsXG4gICAgW0kxOG5FcnJvckNvZGVzLk5PVF9BVkFJTEFCTEVfSU5fTEVHQUNZX01PREVdOiAnTm90IGF2YWlsYWJsZSBpbiBsZWdhY3kgbW9kZScsXG4gICAgW0kxOG5FcnJvckNvZGVzLlJFUVVJUkVEX1ZBTFVFXTogYFJlcXVpcmVkIGluIHZhbHVlOiB7MH1gLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5JTlZBTElEX1ZBTFVFXTogYEludmFsaWQgdmFsdWVgLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5DQU5OT1RfU0VUVVBfVlVFX0RFVlRPT0xTX1BMVUdJTl06IGBDYW5ub3Qgc2V0dXAgdnVlLWRldnRvb2xzIHBsdWdpbmAsXG4gICAgW0kxOG5FcnJvckNvZGVzLk5PVF9JTlNUQUxMRURfV0lUSF9QUk9WSURFXTogJ05lZWQgdG8gaW5zdGFsbCB3aXRoIGBwcm92aWRlYCBmdW5jdGlvbicsXG4gICAgW0kxOG5FcnJvckNvZGVzLk5PVF9DT01QQVRJQkxFX0xFR0FDWV9WVUVfSTE4Tl06ICdOb3QgY29tcGF0aWJsZSBsZWdhY3kgVnVlSTE4bi4nLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5CUklER0VfU1VQUE9SVF9WVUVfMl9PTkxZXTogJ3Z1ZS1pMThuLWJyaWRnZSBzdXBwb3J0IFZ1ZSAyLnggb25seScsXG4gICAgW0kxOG5FcnJvckNvZGVzLk1VU1RfREVGSU5FX0kxOE5fT1BUSU9OX0lOX0FMTE9XX0NPTVBPU0lUSU9OXTogJ011c3QgZGVmaW5lIOKAmGkxOG7igJkgb3B0aW9uIG9yIGN1c3RvbSBibG9jayBpbiBDb21wb3NpdGlvbiBBUEkgd2l0aCB1c2luZyBsb2NhbCBzY29wZSBpbiBMZWdhY3kgQVBJIG1vZGUnLFxuICAgIFtJMThuRXJyb3JDb2Rlcy5OT1RfQVZBSUxBQkxFX0NPTVBPU0lUSU9OX0lOX0xFR0FDWV06ICdOb3QgYXZhaWxhYmxlIENvbXBvc3Rpb24gQVBJIGluIExlZ2FjeSBBUEkgbW9kZS4gUGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHRoZSBsZWdhY3kgQVBJIG1vZGUgaXMgd29ya2luZyBwcm9wZXJseSdcbn07XG5cbmNvbnN0IFRyYW5zbGF0ZVZOb2RlU3ltYm9sID0gXG4vKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKCdfX3RyYW5zbGF0ZVZOb2RlJyk7XG5jb25zdCBEYXRldGltZVBhcnRzU3ltYm9sID0gLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgnX19kYXRldGltZVBhcnRzJyk7XG5jb25zdCBOdW1iZXJQYXJ0c1N5bWJvbCA9IC8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woJ19fbnVtYmVyUGFydHMnKTtcbmNvbnN0IEVuYWJsZUVtaXR0ZXIgPSAvKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKCdfX2VuYWJsZUVtaXR0ZXInKTtcbmNvbnN0IERpc2FibGVFbWl0dGVyID0gLyogI19fUFVSRV9fKi8gbWFrZVN5bWJvbCgnX19kaXNhYmxlRW1pdHRlcicpO1xuY29uc3QgU2V0UGx1cmFsUnVsZXNTeW1ib2wgPSBtYWtlU3ltYm9sKCdfX3NldFBsdXJhbFJ1bGVzJyk7XG5tYWtlU3ltYm9sKCdfX2ludGxpZnlNZXRhJyk7XG5jb25zdCBJbmVqY3RXaXRoT3B0aW9uU3ltYm9sID0gXG4vKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKCdfX2luamVjdFdpdGhPcHRpb24nKTtcbmNvbnN0IERpc3Bvc2VTeW1ib2wgPSAvKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKCdfX2Rpc3Bvc2UnKTtcbmNvbnN0IF9fVlVFX0kxOE5fQlJJREdFX18gPSAgJ19fVlVFX0kxOE5fQlJJREdFX18nO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKipcbiAqIFRyYW5zZm9ybSBmbGF0IGpzb24gaW4gb2JqIHRvIG5vcm1hbCBqc29uIGluIG9ialxuICovXG5mdW5jdGlvbiBoYW5kbGVGbGF0SnNvbihvYmopIHtcbiAgICAvLyBjaGVjayBvYmpcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgaWYgKGlzTWVzc2FnZUFTVChvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICAvLyBjaGVjayBrZXlcbiAgICAgICAgaWYgKCFoYXNPd24ob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgZm9yIG5vcm1hbCBqc29uXG4gICAgICAgIGlmICgha2V5LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZSBwcm9jZXNzIHZhbHVlIGlmIHZhbHVlIGlzIGFsc28gYSBvYmplY3RcbiAgICAgICAgICAgIGlmIChpc09iamVjdChvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbihvYmpba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIGZvciBmbGF0IGpzb24sIHRyYW5zZm9ybSB0byBub3JtYWwganNvblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGdvIHRvIHRoZSBsYXN0IG9iamVjdFxuICAgICAgICAgICAgY29uc3Qgc3ViS2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3ViS2V5cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRPYmogPSBvYmo7XG4gICAgICAgICAgICBsZXQgaGFzU3RyaW5nVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViS2V5c1tpXSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bnNhZmUga2V5OiAke3N1YktleXNbaV19YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKHN1YktleXNbaV0gaW4gY3VycmVudE9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9ialtzdWJLZXlzW2ldXSA9IGNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGN1cnJlbnRPYmpbc3ViS2V5c1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLklHTk9SRV9PQkpfRkxBVFRFTiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc3ViS2V5c1tpXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBoYXNTdHJpbmdWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqID0gY3VycmVudE9ialtzdWJLZXlzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsYXN0IG9iamVjdCB2YWx1ZSwgZGVsZXRlIG9sZCBwcm9wZXJ0eVxuICAgICAgICAgICAgaWYgKCFoYXNTdHJpbmdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNNZXNzYWdlQVNUKGN1cnJlbnRPYmopKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmpbc3ViS2V5c1tsYXN0SW5kZXhdXSA9IG9ialtrZXldO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogTk9URTpcbiAgICAgICAgICAgICAgICAgICAgICogaWYgdGhlIGxhc3Qgb2JqZWN0IGlzIGEgbWVzc2FnZSBBU1QgYW5kIHN1YktleXNbbGFzdEluZGV4XSBoYXMgbWVzc2FnZSBBU1QgcHJvcCBrZXksIGlnbm9yZSB0byBjb3B5IGFuZCBrZXkgZGVsZXRpb25cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGlmICghQVNUX05PREVfUFJPUFNfS0VZUy5pbmNsdWRlcyhzdWJLZXlzW2xhc3RJbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZWN1cnNpdmUgcHJvY2VzcyB2YWx1ZSBpZiB2YWx1ZSBpcyBhbHNvIGEgb2JqZWN0XG4gICAgICAgICAgICBpZiAoIWlzTWVzc2FnZUFTVChjdXJyZW50T2JqKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGN1cnJlbnRPYmpbc3ViS2V5c1tsYXN0SW5kZXhdXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbih0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gZ2V0TG9jYWxlTWVzc2FnZXMobG9jYWxlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlcywgX19pMThuLCBtZXNzYWdlUmVzb2x2ZXIsIGZsYXRKc29uIH0gPSBvcHRpb25zO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IHJldCA9IChpc1BsYWluT2JqZWN0KG1lc3NhZ2VzKVxuICAgICAgICA/IG1lc3NhZ2VzXG4gICAgICAgIDogaXNBcnJheShfX2kxOG4pXG4gICAgICAgICAgICA/IGNyZWF0ZSgpXG4gICAgICAgICAgICA6IHsgW2xvY2FsZV06IGNyZWF0ZSgpIH0pO1xuICAgIC8vIG1lcmdlIGxvY2FsZSBtZXNzYWdlcyBvZiBpMThuIGN1c3RvbSBibG9ja1xuICAgIGlmIChpc0FycmF5KF9faTE4bikpIHtcbiAgICAgICAgX19pMThuLmZvckVhY2goY3VzdG9tID0+IHtcbiAgICAgICAgICAgIGlmICgnbG9jYWxlJyBpbiBjdXN0b20gJiYgJ3Jlc291cmNlJyBpbiBjdXN0b20pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxvY2FsZSwgcmVzb3VyY2UgfSA9IGN1c3RvbTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldFtsb2NhbGVdID0gcmV0W2xvY2FsZV0gfHwgY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlZXBDb3B5KHJlc291cmNlLCByZXRbbG9jYWxlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWVwQ29weShyZXNvdXJjZSwgcmV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1N0cmluZyhjdXN0b20pICYmIGRlZXBDb3B5KEpTT04ucGFyc2UoY3VzdG9tKSwgcmV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGhhbmRsZSBtZXNzYWdlcyBmb3IgZmxhdCBqc29uXG4gICAgaWYgKG1lc3NhZ2VSZXNvbHZlciA9PSBudWxsICYmIGZsYXRKc29uKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJldCkge1xuICAgICAgICAgICAgaWYgKGhhc093bihyZXQsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbihyZXRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBnZXRDb21wb25lbnRPcHRpb25zKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnR5cGUgO1xufVxuZnVuY3Rpb24gYWRqdXN0STE4blJlc291cmNlcyhnbCwgb3B0aW9ucywgY29tcG9uZW50T3B0aW9ucyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbikge1xuICAgIGxldCBtZXNzYWdlcyA9IGlzT2JqZWN0KG9wdGlvbnMubWVzc2FnZXMpXG4gICAgICAgID8gb3B0aW9ucy5tZXNzYWdlc1xuICAgICAgICA6IGNyZWF0ZSgpO1xuICAgIGlmICgnX19pMThuR2xvYmFsJyBpbiBjb21wb25lbnRPcHRpb25zKSB7XG4gICAgICAgIG1lc3NhZ2VzID0gZ2V0TG9jYWxlTWVzc2FnZXMoZ2wubG9jYWxlLnZhbHVlLCB7XG4gICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgIF9faTE4bjogY29tcG9uZW50T3B0aW9ucy5fX2kxOG5HbG9iYWxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG1lcmdlIGxvY2FsZSBtZXNzYWdlc1xuICAgIGNvbnN0IGxvY2FsZXMgPSBPYmplY3Qua2V5cyhtZXNzYWdlcyk7XG4gICAgaWYgKGxvY2FsZXMubGVuZ3RoKSB7XG4gICAgICAgIGxvY2FsZXMuZm9yRWFjaChsb2NhbGUgPT4ge1xuICAgICAgICAgICAgZ2wubWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZXNbbG9jYWxlXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB7XG4gICAgICAgIC8vIG1lcmdlIGRhdGV0aW1lIGZvcm1hdHNcbiAgICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKTtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZXMuZm9yRWFjaChsb2NhbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnbC5tZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgb3B0aW9ucy5kYXRldGltZUZvcm1hdHNbbG9jYWxlXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWVyZ2UgbnVtYmVyIGZvcm1hdHNcbiAgICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMubnVtYmVyRm9ybWF0cykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsZXMgPSBPYmplY3Qua2V5cyhvcHRpb25zLm51bWJlckZvcm1hdHMpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlcy5mb3JFYWNoKGxvY2FsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdsLm1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgb3B0aW9ucy5udW1iZXJGb3JtYXRzW2xvY2FsZV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUoa2V5KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIGtleSwgMClcbiAgICAgICAgO1xufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8vIGV4dGVuZCBWTm9kZSBpbnRlcmZhY2VcbmNvbnN0IERFVlRPT0xTX01FVEEgPSAnX19JTlRMSUZZX01FVEFfXyc7XG5jb25zdCBOT09QX1JFVFVSTl9BUlJBWSA9ICgpID0+IFtdO1xuY29uc3QgTk9PUF9SRVRVUk5fRkFMU0UgPSAoKSA9PiBmYWxzZTtcbmxldCBjb21wb3NlcklEID0gMDtcbmZ1bmN0aW9uIGRlZmluZUNvcmVNaXNzaW5nSGFuZGxlcihtaXNzaW5nKSB7XG4gICAgcmV0dXJuICgoY3R4LCBsb2NhbGUsIGtleSwgdHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4gbWlzc2luZyhsb2NhbGUsIGtleSwgZ2V0Q3VycmVudEluc3RhbmNlKCkgfHwgdW5kZWZpbmVkLCB0eXBlKTtcbiAgICB9KTtcbn1cbi8vIGZvciBJbnRsaWZ5IERldlRvb2xzXG4vKiAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuY29uc3QgZ2V0TWV0YUluZm8gPSAoKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBsZXQgbWV0YSA9IG51bGw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiBpbnN0YW5jZSAmJiAobWV0YSA9IGdldENvbXBvbmVudE9wdGlvbnMoaW5zdGFuY2UpW0RFVlRPT0xTX01FVEFdKVxuICAgICAgICA/IHsgW0RFVlRPT0xTX01FVEFdOiBtZXRhIH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIDogbnVsbDtcbn07XG4vKipcbiAqIENyZWF0ZSBjb21wb3NlciBpbnRlcmZhY2UgZmFjdG9yeVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gY3JlYXRlQ29tcG9zZXIob3B0aW9ucyA9IHt9LCBWdWVJMThuTGVnYWN5KSB7XG4gICAgY29uc3QgeyBfX3Jvb3QsIF9faW5qZWN0V2l0aE9wdGlvbiB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBfaXNHbG9iYWwgPSBfX3Jvb3QgPT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCBmbGF0SnNvbiA9IG9wdGlvbnMuZmxhdEpzb247XG4gICAgY29uc3QgX3JlZiA9IGluQnJvd3NlciA/IHJlZiA6IHNoYWxsb3dSZWY7XG4gICAgY29uc3QgdHJhbnNsYXRlRXhpc3RDb21wYXRpYmxlID0gISFvcHRpb25zLnRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGlmICh0cmFuc2xhdGVFeGlzdENvbXBhdGlibGUgJiYgIWZhbHNlKSB7XG4gICAgICAgICAgICB3YXJuT25jZShnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVElDRV9EUk9QX1RSQU5TTEFURV9FWElTVF9DT01QQVRJQkxFX0ZMQUcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgX2luaGVyaXRMb2NhbGUgPSBpc0Jvb2xlYW4ob3B0aW9ucy5pbmhlcml0TG9jYWxlKVxuICAgICAgICA/IG9wdGlvbnMuaW5oZXJpdExvY2FsZVxuICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgX2xvY2FsZSA9IF9yZWYoXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgX19yb290ICYmIF9pbmhlcml0TG9jYWxlXG4gICAgICAgID8gX19yb290LmxvY2FsZS52YWx1ZVxuICAgICAgICA6IGlzU3RyaW5nKG9wdGlvbnMubG9jYWxlKVxuICAgICAgICAgICAgPyBvcHRpb25zLmxvY2FsZVxuICAgICAgICAgICAgOiBERUZBVUxUX0xPQ0FMRSk7XG4gICAgY29uc3QgX2ZhbGxiYWNrTG9jYWxlID0gX3JlZihcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBfX3Jvb3QgJiYgX2luaGVyaXRMb2NhbGVcbiAgICAgICAgPyBfX3Jvb3QuZmFsbGJhY2tMb2NhbGUudmFsdWVcbiAgICAgICAgOiBpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICAgICAgaXNBcnJheShvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICAgICAgb3B0aW9ucy5mYWxsYmFja0xvY2FsZSA9PT0gZmFsc2VcbiAgICAgICAgICAgID8gb3B0aW9ucy5mYWxsYmFja0xvY2FsZVxuICAgICAgICAgICAgOiBfbG9jYWxlLnZhbHVlKTtcbiAgICBjb25zdCBfbWVzc2FnZXMgPSBfcmVmKGdldExvY2FsZU1lc3NhZ2VzKF9sb2NhbGUudmFsdWUsIG9wdGlvbnMpKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfZGF0ZXRpbWVGb3JtYXRzID0gX3JlZihpc1BsYWluT2JqZWN0KG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKVxuICAgICAgICAgICAgPyBvcHRpb25zLmRhdGV0aW1lRm9ybWF0c1xuICAgICAgICAgICAgOiB7IFtfbG9jYWxlLnZhbHVlXToge30gfSlcbiAgICAgICAgO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9udW1iZXJGb3JtYXRzID0gX3JlZihpc1BsYWluT2JqZWN0KG9wdGlvbnMubnVtYmVyRm9ybWF0cylcbiAgICAgICAgICAgID8gb3B0aW9ucy5udW1iZXJGb3JtYXRzXG4gICAgICAgICAgICA6IHsgW19sb2NhbGUudmFsdWVdOiB7fSB9KVxuICAgICAgICA7XG4gICAgLy8gd2FybmluZyBzdXBwcmVzcyBvcHRpb25zXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgbGV0IF9taXNzaW5nV2FybiA9IF9fcm9vdFxuICAgICAgICA/IF9fcm9vdC5taXNzaW5nV2FyblxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLm1pc3NpbmdXYXJuKVxuICAgICAgICAgICAgPyBvcHRpb25zLm1pc3NpbmdXYXJuXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgbGV0IF9mYWxsYmFja1dhcm4gPSBfX3Jvb3RcbiAgICAgICAgPyBfX3Jvb3QuZmFsbGJhY2tXYXJuXG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLmZhbGxiYWNrV2FybilcbiAgICAgICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1dhcm5cbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBsZXQgX2ZhbGxiYWNrUm9vdCA9IF9fcm9vdFxuICAgICAgICA/IF9fcm9vdC5mYWxsYmFja1Jvb3RcbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1Jvb3QpXG4gICAgICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tSb290XG4gICAgICAgICAgICA6IHRydWU7XG4gICAgLy8gY29uZmlndXJlIGZhbGwgYmFjayB0byByb290XG4gICAgbGV0IF9mYWxsYmFja0Zvcm1hdCA9ICEhb3B0aW9ucy5mYWxsYmFja0Zvcm1hdDtcbiAgICAvLyBydW50aW1lIG1pc3NpbmdcbiAgICBsZXQgX21pc3NpbmcgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWlzc2luZykgPyBvcHRpb25zLm1pc3NpbmcgOiBudWxsO1xuICAgIGxldCBfcnVudGltZU1pc3NpbmcgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWlzc2luZylcbiAgICAgICAgPyBkZWZpbmVDb3JlTWlzc2luZ0hhbmRsZXIob3B0aW9ucy5taXNzaW5nKVxuICAgICAgICA6IG51bGw7XG4gICAgLy8gcG9zdFRyYW5zbGF0aW9uIGhhbmRsZXJcbiAgICBsZXQgX3Bvc3RUcmFuc2xhdGlvbiA9IGlzRnVuY3Rpb24ob3B0aW9ucy5wb3N0VHJhbnNsYXRpb24pXG4gICAgICAgID8gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb25cbiAgICAgICAgOiBudWxsO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGxldCBfd2Fybkh0bWxNZXNzYWdlID0gX19yb290XG4gICAgICAgID8gX19yb290Lndhcm5IdG1sTWVzc2FnZVxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLndhcm5IdG1sTWVzc2FnZSlcbiAgICAgICAgICAgID8gb3B0aW9ucy53YXJuSHRtbE1lc3NhZ2VcbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICBsZXQgX2VzY2FwZVBhcmFtZXRlciA9ICEhb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXI7XG4gICAgLy8gY3VzdG9tIGxpbmtlZCBtb2RpZmllcnNcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfbW9kaWZpZXJzID0gX19yb290XG4gICAgICAgID8gX19yb290Lm1vZGlmaWVyc1xuICAgICAgICA6IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5tb2RpZmllcnMpXG4gICAgICAgICAgICA/IG9wdGlvbnMubW9kaWZpZXJzXG4gICAgICAgICAgICA6IHt9O1xuICAgIC8vIHBsdXJhbFJ1bGVzXG4gICAgbGV0IF9wbHVyYWxSdWxlcyA9IG9wdGlvbnMucGx1cmFsUnVsZXMgfHwgKF9fcm9vdCAmJiBfX3Jvb3QucGx1cmFsUnVsZXMpO1xuICAgIC8vIHJ1bnRpbWUgY29udGV4dFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICBsZXQgX2NvbnRleHQ7XG4gICAgY29uc3QgZ2V0Q29yZUNvbnRleHQgPSAoKSA9PiB7XG4gICAgICAgIF9pc0dsb2JhbCAmJiBzZXRGYWxsYmFja0NvbnRleHQobnVsbCk7XG4gICAgICAgIGNvbnN0IGN0eE9wdGlvbnMgPSB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgICAgICAgICAgbG9jYWxlOiBfbG9jYWxlLnZhbHVlLFxuICAgICAgICAgICAgZmFsbGJhY2tMb2NhbGU6IF9mYWxsYmFja0xvY2FsZS52YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBfbWVzc2FnZXMudmFsdWUsXG4gICAgICAgICAgICBtb2RpZmllcnM6IF9tb2RpZmllcnMsXG4gICAgICAgICAgICBwbHVyYWxSdWxlczogX3BsdXJhbFJ1bGVzLFxuICAgICAgICAgICAgbWlzc2luZzogX3J1bnRpbWVNaXNzaW5nID09PSBudWxsID8gdW5kZWZpbmVkIDogX3J1bnRpbWVNaXNzaW5nLFxuICAgICAgICAgICAgbWlzc2luZ1dhcm46IF9taXNzaW5nV2FybixcbiAgICAgICAgICAgIGZhbGxiYWNrV2FybjogX2ZhbGxiYWNrV2FybixcbiAgICAgICAgICAgIGZhbGxiYWNrRm9ybWF0OiBfZmFsbGJhY2tGb3JtYXQsXG4gICAgICAgICAgICB1bnJlc29sdmluZzogdHJ1ZSxcbiAgICAgICAgICAgIHBvc3RUcmFuc2xhdGlvbjogX3Bvc3RUcmFuc2xhdGlvbiA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IF9wb3N0VHJhbnNsYXRpb24sXG4gICAgICAgICAgICB3YXJuSHRtbE1lc3NhZ2U6IF93YXJuSHRtbE1lc3NhZ2UsXG4gICAgICAgICAgICBlc2NhcGVQYXJhbWV0ZXI6IF9lc2NhcGVQYXJhbWV0ZXIsXG4gICAgICAgICAgICBtZXNzYWdlUmVzb2x2ZXI6IG9wdGlvbnMubWVzc2FnZVJlc29sdmVyLFxuICAgICAgICAgICAgbWVzc2FnZUNvbXBpbGVyOiBvcHRpb25zLm1lc3NhZ2VDb21waWxlcixcbiAgICAgICAgICAgIF9fbWV0YTogeyBmcmFtZXdvcms6ICd2dWUnIH1cbiAgICAgICAgfTtcbiAgICAgICAge1xuICAgICAgICAgICAgY3R4T3B0aW9ucy5kYXRldGltZUZvcm1hdHMgPSBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xuICAgICAgICAgICAgY3R4T3B0aW9ucy5udW1iZXJGb3JtYXRzID0gX251bWJlckZvcm1hdHMudmFsdWU7XG4gICAgICAgICAgICBjdHhPcHRpb25zLl9fZGF0ZXRpbWVGb3JtYXR0ZXJzID0gaXNQbGFpbk9iamVjdChfY29udGV4dClcbiAgICAgICAgICAgICAgICA/IF9jb250ZXh0Ll9fZGF0ZXRpbWVGb3JtYXR0ZXJzXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjdHhPcHRpb25zLl9fbnVtYmVyRm9ybWF0dGVycyA9IGlzUGxhaW5PYmplY3QoX2NvbnRleHQpXG4gICAgICAgICAgICAgICAgPyBfY29udGV4dC5fX251bWJlckZvcm1hdHRlcnNcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBjdHhPcHRpb25zLl9fdl9lbWl0dGVyID0gaXNQbGFpbk9iamVjdChfY29udGV4dClcbiAgICAgICAgICAgICAgICA/IF9jb250ZXh0Ll9fdl9lbWl0dGVyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3R4ID0gY3JlYXRlQ29yZUNvbnRleHQoY3R4T3B0aW9ucyk7XG4gICAgICAgIF9pc0dsb2JhbCAmJiBzZXRGYWxsYmFja0NvbnRleHQoY3R4KTtcbiAgICAgICAgcmV0dXJuIGN0eDtcbiAgICB9O1xuICAgIF9jb250ZXh0ID0gZ2V0Q29yZUNvbnRleHQoKTtcbiAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlKTtcbiAgICAvLyB0cmFjayByZWFjdGl2aXR5XG4gICAgZnVuY3Rpb24gdHJhY2tSZWFjdGl2aXR5VmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIF9sb2NhbGUudmFsdWUsXG4gICAgICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlLFxuICAgICAgICAgICAgICAgIF9tZXNzYWdlcy52YWx1ZSxcbiAgICAgICAgICAgICAgICBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlLFxuICAgICAgICAgICAgICAgIF9udW1iZXJGb3JtYXRzLnZhbHVlXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA7XG4gICAgfVxuICAgIC8vIGxvY2FsZVxuICAgIGNvbnN0IGxvY2FsZSA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0OiAoKSA9PiBfbG9jYWxlLnZhbHVlLFxuICAgICAgICBzZXQ6IHZhbCA9PiB7XG4gICAgICAgICAgICBfbG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgX2NvbnRleHQubG9jYWxlID0gX2xvY2FsZS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGZhbGxiYWNrTG9jYWxlXG4gICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBjb21wdXRlZCh7XG4gICAgICAgIGdldDogKCkgPT4gX2ZhbGxiYWNrTG9jYWxlLnZhbHVlLFxuICAgICAgICBzZXQ6IHZhbCA9PiB7XG4gICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICBfY29udGV4dC5mYWxsYmFja0xvY2FsZSA9IF9mYWxsYmFja0xvY2FsZS52YWx1ZTtcbiAgICAgICAgICAgIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKF9jb250ZXh0LCBfbG9jYWxlLnZhbHVlLCB2YWwpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gbWVzc2FnZXNcbiAgICBjb25zdCBtZXNzYWdlcyA9IGNvbXB1dGVkKCgpID0+IF9tZXNzYWdlcy52YWx1ZSk7XG4gICAgLy8gZGF0ZXRpbWVGb3JtYXRzXG4gICAgY29uc3QgZGF0ZXRpbWVGb3JtYXRzID0gLyogI19fUFVSRV9fKi8gY29tcHV0ZWQoKCkgPT4gX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSk7XG4gICAgLy8gbnVtYmVyRm9ybWF0c1xuICAgIGNvbnN0IG51bWJlckZvcm1hdHMgPSAvKiAjX19QVVJFX18qLyBjb21wdXRlZCgoKSA9PiBfbnVtYmVyRm9ybWF0cy52YWx1ZSk7XG4gICAgLy8gZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlclxuICAgIGZ1bmN0aW9uIGdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoKSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKF9wb3N0VHJhbnNsYXRpb24pID8gX3Bvc3RUcmFuc2xhdGlvbiA6IG51bGw7XG4gICAgfVxuICAgIC8vIHNldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXJcbiAgICBmdW5jdGlvbiBzZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgX3Bvc3RUcmFuc2xhdGlvbiA9IGhhbmRsZXI7XG4gICAgICAgIF9jb250ZXh0LnBvc3RUcmFuc2xhdGlvbiA9IGhhbmRsZXI7XG4gICAgfVxuICAgIC8vIGdldE1pc3NpbmdIYW5kbGVyXG4gICAgZnVuY3Rpb24gZ2V0TWlzc2luZ0hhbmRsZXIoKSB7XG4gICAgICAgIHJldHVybiBfbWlzc2luZztcbiAgICB9XG4gICAgLy8gc2V0TWlzc2luZ0hhbmRsZXJcbiAgICBmdW5jdGlvbiBzZXRNaXNzaW5nSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgIGlmIChoYW5kbGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBfcnVudGltZU1pc3NpbmcgPSBkZWZpbmVDb3JlTWlzc2luZ0hhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgX21pc3NpbmcgPSBoYW5kbGVyO1xuICAgICAgICBfY29udGV4dC5taXNzaW5nID0gX3J1bnRpbWVNaXNzaW5nO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1Jlc29sdmVkVHJhbnNsYXRlTWVzc2FnZSh0eXBlLCBhcmcgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKSB7XG4gICAgICAgIHJldHVybiB0eXBlICE9PSAndHJhbnNsYXRlJyB8fCAhYXJnLnJlc29sdmVkTWVzc2FnZTtcbiAgICB9XG4gICAgY29uc3Qgd3JhcFdpdGhEZXBzID0gKGZuLCBhcmd1bWVudFBhcnNlciwgd2FyblR5cGUsIGZhbGxiYWNrU3VjY2VzcywgZmFsbGJhY2tGYWlsLCBzdWNjZXNzQ29uZGl0aW9uKSA9PiB7XG4gICAgICAgIHRyYWNrUmVhY3Rpdml0eVZhbHVlcygpOyAvLyB0cmFjayByZWFjdGl2ZSBkZXBlbmRlbmN5XG4gICAgICAgIC8vIE5PVEU6IGV4cGVyaW1lbnRhbCAhIVxuICAgICAgICBsZXQgcmV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgc2V0QWRkaXRpb25hbE1ldGEoZ2V0TWV0YUluZm8oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV9pc0dsb2JhbCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrQ29udGV4dCA9IF9fcm9vdFxuICAgICAgICAgICAgICAgICAgICA/IGdldEZhbGxiYWNrQ29udGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0ID0gZm4oX2NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgc2V0QWRkaXRpb25hbE1ldGEobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV9pc0dsb2JhbCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrQ29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHdhcm5UeXBlICE9PSAndHJhbnNsYXRlIGV4aXN0cycgJiYgLy8gZm9yIG5vdCBgdGVgIChlLmcgYHRgKVxuICAgICAgICAgICAgaXNOdW1iZXIocmV0KSAmJlxuICAgICAgICAgICAgcmV0ID09PSBOT1RfUkVPU0xWRUQpIHx8XG4gICAgICAgICAgICAod2FyblR5cGUgPT09ICd0cmFuc2xhdGUgZXhpc3RzJyAmJiAhcmV0KSAvLyBmb3IgYHRlYFxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIGFyZzJdID0gYXJndW1lbnRQYXJzZXIoKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBfX3Jvb3QgJiZcbiAgICAgICAgICAgICAgICBpc1N0cmluZyhrZXkpICYmXG4gICAgICAgICAgICAgICAgaXNSZXNvbHZlZFRyYW5zbGF0ZU1lc3NhZ2Uod2FyblR5cGUsIGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9mYWxsYmFja1Jvb3QgJiZcbiAgICAgICAgICAgICAgICAgICAgKGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuKF9mYWxsYmFja1dhcm4sIGtleSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJhbnNsYXRlTWlzc2luZ1dhcm4oX21pc3NpbmdXYXJuLCBrZXkpKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuRkFMTEJBQ0tfVE9fUk9PVCwge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogd2FyblR5cGVcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IF9fdl9lbWl0dGVyOiBlbWl0dGVyIH0gPSBfY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVtaXR0ZXIgJiYgX2ZhbGxiYWNrUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwiZmFsbGJhY2tcIiAvKiBWdWVEZXZUb29sc1RpbWVsaW5lRXZlbnRzLkZBTEJBQ0sgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB3YXJuVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86ICdnbG9iYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3dhcm5UeXBlfToke2tleX1gXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfX3Jvb3QgJiYgX2ZhbGxiYWNrUm9vdFxuICAgICAgICAgICAgICAgID8gZmFsbGJhY2tTdWNjZXNzKF9fcm9vdClcbiAgICAgICAgICAgICAgICA6IGZhbGxiYWNrRmFpbChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN1Y2Nlc3NDb25kaXRpb24ocmV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9SRVRVUk5fVFlQRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIHRcbiAgICBmdW5jdGlvbiB0KC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IFJlZmxlY3QuYXBwbHkodHJhbnNsYXRlLCBudWxsLCBbY29udGV4dCwgLi4uYXJnc10pLCAoKSA9PiBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncyksICd0cmFuc2xhdGUnLCByb290ID0+IFJlZmxlY3QuYXBwbHkocm9vdC50LCByb290LCBbLi4uYXJnc10pLCBrZXkgPT4ga2V5LCB2YWwgPT4gaXNTdHJpbmcodmFsKSk7XG4gICAgfVxuICAgIC8vIHJ0XG4gICAgZnVuY3Rpb24gcnQoLi4uYXJncykge1xuICAgICAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnM10gPSBhcmdzO1xuICAgICAgICBpZiAoYXJnMyAmJiAhaXNPYmplY3QoYXJnMykpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5JTlZBTElEX0FSR1VNRU5UKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdCguLi5bYXJnMSwgYXJnMiwgYXNzaWduKHsgcmVzb2x2ZWRNZXNzYWdlOiB0cnVlIH0sIGFyZzMgfHwge30pXSk7XG4gICAgfVxuICAgIC8vIGRcbiAgICBmdW5jdGlvbiBkKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IFJlZmxlY3QuYXBwbHkoZGF0ZXRpbWUsIG51bGwsIFtjb250ZXh0LCAuLi5hcmdzXSksICgpID0+IHBhcnNlRGF0ZVRpbWVBcmdzKC4uLmFyZ3MpLCAnZGF0ZXRpbWUgZm9ybWF0Jywgcm9vdCA9PiBSZWZsZWN0LmFwcGx5KHJvb3QuZCwgcm9vdCwgWy4uLmFyZ3NdKSwgKCkgPT4gTUlTU0lOR19SRVNPTFZFX1ZBTFVFLCB2YWwgPT4gaXNTdHJpbmcodmFsKSk7XG4gICAgfVxuICAgIC8vIG5cbiAgICBmdW5jdGlvbiBuKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IFJlZmxlY3QuYXBwbHkobnVtYmVyLCBudWxsLCBbY29udGV4dCwgLi4uYXJnc10pLCAoKSA9PiBwYXJzZU51bWJlckFyZ3MoLi4uYXJncyksICdudW1iZXIgZm9ybWF0Jywgcm9vdCA9PiBSZWZsZWN0LmFwcGx5KHJvb3Qubiwgcm9vdCwgWy4uLmFyZ3NdKSwgKCkgPT4gTUlTU0lOR19SRVNPTFZFX1ZBTFVFLCB2YWwgPT4gaXNTdHJpbmcodmFsKSk7XG4gICAgfVxuICAgIC8vIGZvciBjdXN0b20gcHJvY2Vzc29yXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbHVlcykge1xuICAgICAgICByZXR1cm4gdmFsdWVzLm1hcCh2YWwgPT4gaXNTdHJpbmcodmFsKSB8fCBpc051bWJlcih2YWwpIHx8IGlzQm9vbGVhbih2YWwpXG4gICAgICAgICAgICA/IGNyZWF0ZVRleHROb2RlKFN0cmluZyh2YWwpKVxuICAgICAgICAgICAgOiB2YWwpO1xuICAgIH1cbiAgICBjb25zdCBpbnRlcnBvbGF0ZSA9ICh2YWwpID0+IHZhbDtcbiAgICBjb25zdCBwcm9jZXNzb3IgPSB7XG4gICAgICAgIG5vcm1hbGl6ZSxcbiAgICAgICAgaW50ZXJwb2xhdGUsXG4gICAgICAgIHR5cGU6ICd2bm9kZSdcbiAgICB9O1xuICAgIC8vIHRyYW5zbGF0ZVZOb2RlLCB1c2luZyBmb3IgYGkxOG4tdGAgY29tcG9uZW50XG4gICAgZnVuY3Rpb24gdHJhbnNsYXRlVk5vZGUoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4ge1xuICAgICAgICAgICAgbGV0IHJldDtcbiAgICAgICAgICAgIGNvbnN0IF9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgICAgICAgICAgICAgIHJldCA9IFJlZmxlY3QuYXBwbHkodHJhbnNsYXRlLCBudWxsLCBbX2NvbnRleHQsIC4uLmFyZ3NdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByb2Nlc3NvciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9LCAoKSA9PiBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncyksICd0cmFuc2xhdGUnLCBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcm9vdCA9PiByb290W1RyYW5zbGF0ZVZOb2RlU3ltYm9sXSguLi5hcmdzKSwga2V5ID0+IFtjcmVhdGVUZXh0Tm9kZShrZXkpXSwgdmFsID0+IGlzQXJyYXkodmFsKSk7XG4gICAgfVxuICAgIC8vIG51bWJlclBhcnRzLCB1c2luZyBmb3IgYGkxOG4tbmAgY29tcG9uZW50XG4gICAgZnVuY3Rpb24gbnVtYmVyUGFydHMoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gUmVmbGVjdC5hcHBseShudW1iZXIsIG51bGwsIFtjb250ZXh0LCAuLi5hcmdzXSksICgpID0+IHBhcnNlTnVtYmVyQXJncyguLi5hcmdzKSwgJ251bWJlciBmb3JtYXQnLCBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcm9vdCA9PiByb290W051bWJlclBhcnRzU3ltYm9sXSguLi5hcmdzKSwgTk9PUF9SRVRVUk5fQVJSQVksIHZhbCA9PiBpc1N0cmluZyh2YWwpIHx8IGlzQXJyYXkodmFsKSk7XG4gICAgfVxuICAgIC8vIGRhdGV0aW1lUGFydHMsIHVzaW5nIGZvciBgaTE4bi1kYCBjb21wb25lbnRcbiAgICBmdW5jdGlvbiBkYXRldGltZVBhcnRzKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IFJlZmxlY3QuYXBwbHkoZGF0ZXRpbWUsIG51bGwsIFtjb250ZXh0LCAuLi5hcmdzXSksICgpID0+IHBhcnNlRGF0ZVRpbWVBcmdzKC4uLmFyZ3MpLCAnZGF0ZXRpbWUgZm9ybWF0JywgXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJvb3QgPT4gcm9vdFtEYXRldGltZVBhcnRzU3ltYm9sXSguLi5hcmdzKSwgTk9PUF9SRVRVUk5fQVJSQVksIHZhbCA9PiBpc1N0cmluZyh2YWwpIHx8IGlzQXJyYXkodmFsKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFBsdXJhbFJ1bGVzKHJ1bGVzKSB7XG4gICAgICAgIF9wbHVyYWxSdWxlcyA9IHJ1bGVzO1xuICAgICAgICBfY29udGV4dC5wbHVyYWxSdWxlcyA9IF9wbHVyYWxSdWxlcztcbiAgICB9XG4gICAgLy8gdGVcbiAgICBmdW5jdGlvbiB0ZShrZXksIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKCgpID0+IHtcbiAgICAgICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0TG9jYWxlID0gaXNTdHJpbmcobG9jYWxlKSA/IGxvY2FsZSA6IF9sb2NhbGUudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2V0TG9jYWxlTWVzc2FnZSh0YXJnZXRMb2NhbGUpO1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSBfY29udGV4dC5tZXNzYWdlUmVzb2x2ZXIobWVzc2FnZSwga2V5KTtcbiAgICAgICAgICAgIHJldHVybiAhdHJhbnNsYXRlRXhpc3RDb21wYXRpYmxlXG4gICAgICAgICAgICAgICAgPyBpc01lc3NhZ2VBU1QocmVzb2x2ZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIGlzTWVzc2FnZUZ1bmN0aW9uKHJlc29sdmVkKSB8fFxuICAgICAgICAgICAgICAgICAgICBpc1N0cmluZyhyZXNvbHZlZClcbiAgICAgICAgICAgICAgICA6IHJlc29sdmVkICE9IG51bGw7XG4gICAgICAgIH0sICgpID0+IFtrZXldLCAndHJhbnNsYXRlIGV4aXN0cycsIHJvb3QgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkocm9vdC50ZSwgcm9vdCwgW2tleSwgbG9jYWxlXSk7XG4gICAgICAgIH0sIE5PT1BfUkVUVVJOX0ZBTFNFLCB2YWwgPT4gaXNCb29sZWFuKHZhbCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlTWVzc2FnZXMoa2V5KSB7XG4gICAgICAgIGxldCBtZXNzYWdlcyA9IG51bGw7XG4gICAgICAgIGNvbnN0IGxvY2FsZXMgPSBmYWxsYmFja1dpdGhMb2NhbGVDaGFpbihfY29udGV4dCwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlLCBfbG9jYWxlLnZhbHVlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRMb2NhbGVNZXNzYWdlcyA9IF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVzW2ldXSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VWYWx1ZSA9IF9jb250ZXh0Lm1lc3NhZ2VSZXNvbHZlcih0YXJnZXRMb2NhbGVNZXNzYWdlcywga2V5KTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZVZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICB9XG4gICAgLy8gdG1cbiAgICBmdW5jdGlvbiB0bShrZXkpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSByZXNvbHZlTWVzc2FnZXMoa2V5KTtcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIHJldHVybiBtZXNzYWdlcyAhPSBudWxsXG4gICAgICAgICAgICA/IG1lc3NhZ2VzXG4gICAgICAgICAgICA6IF9fcm9vdFxuICAgICAgICAgICAgICAgID8gX19yb290LnRtKGtleSkgfHwge31cbiAgICAgICAgICAgICAgICA6IHt9O1xuICAgIH1cbiAgICAvLyBnZXRMb2NhbGVNZXNzYWdlXG4gICAgZnVuY3Rpb24gZ2V0TG9jYWxlTWVzc2FnZShsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIChfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSB8fCB7fSk7XG4gICAgfVxuICAgIC8vIHNldExvY2FsZU1lc3NhZ2VcbiAgICBmdW5jdGlvbiBzZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoZmxhdEpzb24pIHtcbiAgICAgICAgICAgIGNvbnN0IF9tZXNzYWdlID0geyBbbG9jYWxlXTogbWVzc2FnZSB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gX21lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duKF9tZXNzYWdlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUZsYXRKc29uKF9tZXNzYWdlW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfbWVzc2FnZVtsb2NhbGVdO1xuICAgICAgICB9XG4gICAgICAgIF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdID0gbWVzc2FnZTtcbiAgICAgICAgX2NvbnRleHQubWVzc2FnZXMgPSBfbWVzc2FnZXMudmFsdWU7XG4gICAgfVxuICAgIC8vIG1lcmdlTG9jYWxlTWVzc2FnZVxuICAgIGZ1bmN0aW9uIG1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0gPSBfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSB8fCB7fTtcbiAgICAgICAgY29uc3QgX21lc3NhZ2UgPSB7IFtsb2NhbGVdOiBtZXNzYWdlIH07XG4gICAgICAgIGlmIChmbGF0SnNvbikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gX21lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duKF9tZXNzYWdlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUZsYXRKc29uKF9tZXNzYWdlW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlID0gX21lc3NhZ2VbbG9jYWxlXTtcbiAgICAgICAgZGVlcENvcHkobWVzc2FnZSwgX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0pO1xuICAgICAgICBfY29udGV4dC5tZXNzYWdlcyA9IF9tZXNzYWdlcy52YWx1ZTtcbiAgICB9XG4gICAgLy8gZ2V0RGF0ZVRpbWVGb3JtYXRcbiAgICBmdW5jdGlvbiBnZXREYXRlVGltZUZvcm1hdChsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSB8fCB7fTtcbiAgICB9XG4gICAgLy8gc2V0RGF0ZVRpbWVGb3JtYXRcbiAgICBmdW5jdGlvbiBzZXREYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBmb3JtYXQ7XG4gICAgICAgIF9jb250ZXh0LmRhdGV0aW1lRm9ybWF0cyA9IF9kYXRldGltZUZvcm1hdHMudmFsdWU7XG4gICAgICAgIGNsZWFyRGF0ZVRpbWVGb3JtYXQoX2NvbnRleHQsIGxvY2FsZSwgZm9ybWF0KTtcbiAgICB9XG4gICAgLy8gbWVyZ2VEYXRlVGltZUZvcm1hdFxuICAgIGZ1bmN0aW9uIG1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gYXNzaWduKF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSB8fCB7fSwgZm9ybWF0KTtcbiAgICAgICAgX2NvbnRleHQuZGF0ZXRpbWVGb3JtYXRzID0gX2RhdGV0aW1lRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgY2xlYXJEYXRlVGltZUZvcm1hdChfY29udGV4dCwgbG9jYWxlLCBmb3JtYXQpO1xuICAgIH1cbiAgICAvLyBnZXROdW1iZXJGb3JtYXRcbiAgICBmdW5jdGlvbiBnZXROdW1iZXJGb3JtYXQobG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdIHx8IHt9O1xuICAgIH1cbiAgICAvLyBzZXROdW1iZXJGb3JtYXRcbiAgICBmdW5jdGlvbiBzZXROdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgX251bWJlckZvcm1hdHMudmFsdWVbbG9jYWxlXSA9IGZvcm1hdDtcbiAgICAgICAgX2NvbnRleHQubnVtYmVyRm9ybWF0cyA9IF9udW1iZXJGb3JtYXRzLnZhbHVlO1xuICAgICAgICBjbGVhck51bWJlckZvcm1hdChfY29udGV4dCwgbG9jYWxlLCBmb3JtYXQpO1xuICAgIH1cbiAgICAvLyBtZXJnZU51bWJlckZvcm1hdFxuICAgIGZ1bmN0aW9uIG1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgIF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBhc3NpZ24oX251bWJlckZvcm1hdHMudmFsdWVbbG9jYWxlXSB8fCB7fSwgZm9ybWF0KTtcbiAgICAgICAgX2NvbnRleHQubnVtYmVyRm9ybWF0cyA9IF9udW1iZXJGb3JtYXRzLnZhbHVlO1xuICAgICAgICBjbGVhck51bWJlckZvcm1hdChfY29udGV4dCwgbG9jYWxlLCBmb3JtYXQpO1xuICAgIH1cbiAgICAvLyBmb3IgZGVidWdcbiAgICBjb21wb3NlcklEKys7XG4gICAgLy8gd2F0Y2ggcm9vdCBsb2NhbGUgJiBmYWxsYmFja0xvY2FsZVxuICAgIGlmIChfX3Jvb3QgJiYgaW5Ccm93c2VyKSB7XG4gICAgICAgIHdhdGNoKF9fcm9vdC5sb2NhbGUsICh2YWwpID0+IHtcbiAgICAgICAgICAgIGlmIChfaW5oZXJpdExvY2FsZSkge1xuICAgICAgICAgICAgICAgIF9sb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubG9jYWxlID0gdmFsO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKF9jb250ZXh0LCBfbG9jYWxlLnZhbHVlLCBfZmFsbGJhY2tMb2NhbGUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2F0Y2goX19yb290LmZhbGxiYWNrTG9jYWxlLCAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoX2luaGVyaXRMb2NhbGUpIHtcbiAgICAgICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tMb2NhbGUgPSB2YWw7XG4gICAgICAgICAgICAgICAgdXBkYXRlRmFsbGJhY2tMb2NhbGUoX2NvbnRleHQsIF9sb2NhbGUudmFsdWUsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBkZWZpbmUgYmFzaWMgY29tcG9zaXRpb24gQVBJIVxuICAgIGNvbnN0IGNvbXBvc2VyID0ge1xuICAgICAgICBpZDogY29tcG9zZXJJRCxcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBmYWxsYmFja0xvY2FsZSxcbiAgICAgICAgZ2V0IGluaGVyaXRMb2NhbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2luaGVyaXRMb2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBpbmhlcml0TG9jYWxlKHZhbCkge1xuICAgICAgICAgICAgX2luaGVyaXRMb2NhbGUgPSB2YWw7XG4gICAgICAgICAgICBpZiAodmFsICYmIF9fcm9vdCkge1xuICAgICAgICAgICAgICAgIF9sb2NhbGUudmFsdWUgPSBfX3Jvb3QubG9jYWxlLnZhbHVlO1xuICAgICAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSA9IF9fcm9vdC5mYWxsYmFja0xvY2FsZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGF2YWlsYWJsZUxvY2FsZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoX21lc3NhZ2VzLnZhbHVlKS5zb3J0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBnZXQgbW9kaWZpZXJzKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9tb2RpZmllcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBwbHVyYWxSdWxlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBfcGx1cmFsUnVsZXMgfHwge307XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBpc0dsb2JhbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfaXNHbG9iYWw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBtaXNzaW5nV2FybigpIHtcbiAgICAgICAgICAgIHJldHVybiBfbWlzc2luZ1dhcm47XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBtaXNzaW5nV2Fybih2YWwpIHtcbiAgICAgICAgICAgIF9taXNzaW5nV2FybiA9IHZhbDtcbiAgICAgICAgICAgIF9jb250ZXh0Lm1pc3NpbmdXYXJuID0gX21pc3NpbmdXYXJuO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZmFsbGJhY2tXYXJuKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9mYWxsYmFja1dhcm47XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBmYWxsYmFja1dhcm4odmFsKSB7XG4gICAgICAgICAgICBfZmFsbGJhY2tXYXJuID0gdmFsO1xuICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tXYXJuID0gX2ZhbGxiYWNrV2FybjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGZhbGxiYWNrUm9vdCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfZmFsbGJhY2tSb290O1xuICAgICAgICB9LFxuICAgICAgICBzZXQgZmFsbGJhY2tSb290KHZhbCkge1xuICAgICAgICAgICAgX2ZhbGxiYWNrUm9vdCA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGZhbGxiYWNrRm9ybWF0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9mYWxsYmFja0Zvcm1hdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGZhbGxiYWNrRm9ybWF0KHZhbCkge1xuICAgICAgICAgICAgX2ZhbGxiYWNrRm9ybWF0ID0gdmFsO1xuICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tGb3JtYXQgPSBfZmFsbGJhY2tGb3JtYXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCB3YXJuSHRtbE1lc3NhZ2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3dhcm5IdG1sTWVzc2FnZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IHdhcm5IdG1sTWVzc2FnZSh2YWwpIHtcbiAgICAgICAgICAgIF93YXJuSHRtbE1lc3NhZ2UgPSB2YWw7XG4gICAgICAgICAgICBfY29udGV4dC53YXJuSHRtbE1lc3NhZ2UgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBlc2NhcGVQYXJhbWV0ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2VzY2FwZVBhcmFtZXRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGVzY2FwZVBhcmFtZXRlcih2YWwpIHtcbiAgICAgICAgICAgIF9lc2NhcGVQYXJhbWV0ZXIgPSB2YWw7XG4gICAgICAgICAgICBfY29udGV4dC5lc2NhcGVQYXJhbWV0ZXIgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIHQsXG4gICAgICAgIGdldExvY2FsZU1lc3NhZ2UsXG4gICAgICAgIHNldExvY2FsZU1lc3NhZ2UsXG4gICAgICAgIG1lcmdlTG9jYWxlTWVzc2FnZSxcbiAgICAgICAgZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcixcbiAgICAgICAgc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcixcbiAgICAgICAgZ2V0TWlzc2luZ0hhbmRsZXIsXG4gICAgICAgIHNldE1pc3NpbmdIYW5kbGVyLFxuICAgICAgICBbU2V0UGx1cmFsUnVsZXNTeW1ib2xdOiBzZXRQbHVyYWxSdWxlc1xuICAgIH07XG4gICAge1xuICAgICAgICBjb21wb3Nlci5kYXRldGltZUZvcm1hdHMgPSBkYXRldGltZUZvcm1hdHM7XG4gICAgICAgIGNvbXBvc2VyLm51bWJlckZvcm1hdHMgPSBudW1iZXJGb3JtYXRzO1xuICAgICAgICBjb21wb3Nlci5ydCA9IHJ0O1xuICAgICAgICBjb21wb3Nlci50ZSA9IHRlO1xuICAgICAgICBjb21wb3Nlci50bSA9IHRtO1xuICAgICAgICBjb21wb3Nlci5kID0gZDtcbiAgICAgICAgY29tcG9zZXIubiA9IG47XG4gICAgICAgIGNvbXBvc2VyLmdldERhdGVUaW1lRm9ybWF0ID0gZ2V0RGF0ZVRpbWVGb3JtYXQ7XG4gICAgICAgIGNvbXBvc2VyLnNldERhdGVUaW1lRm9ybWF0ID0gc2V0RGF0ZVRpbWVGb3JtYXQ7XG4gICAgICAgIGNvbXBvc2VyLm1lcmdlRGF0ZVRpbWVGb3JtYXQgPSBtZXJnZURhdGVUaW1lRm9ybWF0O1xuICAgICAgICBjb21wb3Nlci5nZXROdW1iZXJGb3JtYXQgPSBnZXROdW1iZXJGb3JtYXQ7XG4gICAgICAgIGNvbXBvc2VyLnNldE51bWJlckZvcm1hdCA9IHNldE51bWJlckZvcm1hdDtcbiAgICAgICAgY29tcG9zZXIubWVyZ2VOdW1iZXJGb3JtYXQgPSBtZXJnZU51bWJlckZvcm1hdDtcbiAgICAgICAgY29tcG9zZXJbSW5lamN0V2l0aE9wdGlvblN5bWJvbF0gPSBfX2luamVjdFdpdGhPcHRpb247XG4gICAgICAgIGNvbXBvc2VyW1RyYW5zbGF0ZVZOb2RlU3ltYm9sXSA9IHRyYW5zbGF0ZVZOb2RlO1xuICAgICAgICBjb21wb3NlcltEYXRldGltZVBhcnRzU3ltYm9sXSA9IGRhdGV0aW1lUGFydHM7XG4gICAgICAgIGNvbXBvc2VyW051bWJlclBhcnRzU3ltYm9sXSA9IG51bWJlclBhcnRzO1xuICAgIH1cbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb21wb3NlcltFbmFibGVFbWl0dGVyXSA9IChlbWl0dGVyKSA9PiB7XG4gICAgICAgICAgICBfY29udGV4dC5fX3ZfZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgICAgIH07XG4gICAgICAgIGNvbXBvc2VyW0Rpc2FibGVFbWl0dGVyXSA9ICgpID0+IHtcbiAgICAgICAgICAgIF9jb250ZXh0Ll9fdl9lbWl0dGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9zZXI7XG59XG4vKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKiBDb252ZXJ0IHRvIEkxOG4gQ29tcG9zZXIgT3B0aW9ucyBmcm9tIFZ1ZUkxOG4gT3B0aW9uc1xuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBjb252ZXJ0Q29tcG9zZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBjb25zdCBsb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSkgPyBvcHRpb25zLmxvY2FsZSA6IERFRkFVTFRfTE9DQUxFO1xuICAgIGNvbnN0IGZhbGxiYWNrTG9jYWxlID0gaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgaXNBcnJheShvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxuICAgICAgICBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XG4gICAgICAgIG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUgPT09IGZhbHNlXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja0xvY2FsZVxuICAgICAgICA6IGxvY2FsZTtcbiAgICBjb25zdCBtaXNzaW5nID0gaXNGdW5jdGlvbihvcHRpb25zLm1pc3NpbmcpID8gb3B0aW9ucy5taXNzaW5nIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1pc3NpbmdXYXJuID0gaXNCb29sZWFuKG9wdGlvbnMuc2lsZW50VHJhbnNsYXRpb25XYXJuKSB8fFxuICAgICAgICBpc1JlZ0V4cChvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybilcbiAgICAgICAgPyAhb3B0aW9ucy5zaWxlbnRUcmFuc2xhdGlvbldhcm5cbiAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybikgfHxcbiAgICAgICAgaXNSZWdFeHAob3B0aW9ucy5zaWxlbnRGYWxsYmFja1dhcm4pXG4gICAgICAgID8gIW9wdGlvbnMuc2lsZW50RmFsbGJhY2tXYXJuXG4gICAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBmYWxsYmFja1Jvb3QgPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1Jvb3QpXG4gICAgICAgID8gb3B0aW9ucy5mYWxsYmFja1Jvb3RcbiAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IGZhbGxiYWNrRm9ybWF0ID0gISFvcHRpb25zLmZvcm1hdEZhbGxiYWNrTWVzc2FnZXM7XG4gICAgY29uc3QgbW9kaWZpZXJzID0gaXNQbGFpbk9iamVjdChvcHRpb25zLm1vZGlmaWVycykgPyBvcHRpb25zLm1vZGlmaWVycyA6IHt9O1xuICAgIGNvbnN0IHBsdXJhbGl6YXRpb25SdWxlcyA9IG9wdGlvbnMucGx1cmFsaXphdGlvblJ1bGVzO1xuICAgIGNvbnN0IHBvc3RUcmFuc2xhdGlvbiA9IGlzRnVuY3Rpb24ob3B0aW9ucy5wb3N0VHJhbnNsYXRpb24pXG4gICAgICAgID8gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb25cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3Qgd2Fybkh0bWxNZXNzYWdlID0gaXNTdHJpbmcob3B0aW9ucy53YXJuSHRtbEluTWVzc2FnZSlcbiAgICAgICAgPyBvcHRpb25zLndhcm5IdG1sSW5NZXNzYWdlICE9PSAnb2ZmJ1xuICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgZXNjYXBlUGFyYW1ldGVyID0gISFvcHRpb25zLmVzY2FwZVBhcmFtZXRlckh0bWw7XG4gICAgY29uc3QgaW5oZXJpdExvY2FsZSA9IGlzQm9vbGVhbihvcHRpb25zLnN5bmMpID8gb3B0aW9ucy5zeW5jIDogdHJ1ZTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG9wdGlvbnMuZm9ybWF0dGVyKSB7XG4gICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX0ZPUk1BVFRFUikpO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG9wdGlvbnMucHJlc2VydmVEaXJlY3RpdmVDb250ZW50KSB7XG4gICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRSkpO1xuICAgIH1cbiAgICBsZXQgbWVzc2FnZXMgPSBvcHRpb25zLm1lc3NhZ2VzO1xuICAgIGlmIChpc1BsYWluT2JqZWN0KG9wdGlvbnMuc2hhcmVkTWVzc2FnZXMpKSB7XG4gICAgICAgIGNvbnN0IHNoYXJlZE1lc3NhZ2VzID0gb3B0aW9ucy5zaGFyZWRNZXNzYWdlcztcbiAgICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKHNoYXJlZE1lc3NhZ2VzKTtcbiAgICAgICAgbWVzc2FnZXMgPSBsb2NhbGVzLnJlZHVjZSgobWVzc2FnZXMsIGxvY2FsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VzW2xvY2FsZV0gfHwgKG1lc3NhZ2VzW2xvY2FsZV0gPSB7fSk7XG4gICAgICAgICAgICBhc3NpZ24obWVzc2FnZSwgc2hhcmVkTWVzc2FnZXNbbG9jYWxlXSk7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZXM7XG4gICAgICAgIH0sIChtZXNzYWdlcyB8fCB7fSkpO1xuICAgIH1cbiAgICBjb25zdCB7IF9faTE4biwgX19yb290LCBfX2luamVjdFdpdGhPcHRpb24gfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgZGF0ZXRpbWVGb3JtYXRzID0gb3B0aW9ucy5kYXRldGltZUZvcm1hdHM7XG4gICAgY29uc3QgbnVtYmVyRm9ybWF0cyA9IG9wdGlvbnMubnVtYmVyRm9ybWF0cztcbiAgICBjb25zdCBmbGF0SnNvbiA9IG9wdGlvbnMuZmxhdEpzb247XG4gICAgY29uc3QgdHJhbnNsYXRlRXhpc3RDb21wYXRpYmxlID0gb3B0aW9uc1xuICAgICAgICAudHJhbnNsYXRlRXhpc3RDb21wYXRpYmxlO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgZmFsbGJhY2tMb2NhbGUsXG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBmbGF0SnNvbixcbiAgICAgICAgZGF0ZXRpbWVGb3JtYXRzLFxuICAgICAgICBudW1iZXJGb3JtYXRzLFxuICAgICAgICBtaXNzaW5nLFxuICAgICAgICBtaXNzaW5nV2FybixcbiAgICAgICAgZmFsbGJhY2tXYXJuLFxuICAgICAgICBmYWxsYmFja1Jvb3QsXG4gICAgICAgIGZhbGxiYWNrRm9ybWF0LFxuICAgICAgICBtb2RpZmllcnMsXG4gICAgICAgIHBsdXJhbFJ1bGVzOiBwbHVyYWxpemF0aW9uUnVsZXMsXG4gICAgICAgIHBvc3RUcmFuc2xhdGlvbixcbiAgICAgICAgd2Fybkh0bWxNZXNzYWdlLFxuICAgICAgICBlc2NhcGVQYXJhbWV0ZXIsXG4gICAgICAgIG1lc3NhZ2VSZXNvbHZlcjogb3B0aW9ucy5tZXNzYWdlUmVzb2x2ZXIsXG4gICAgICAgIGluaGVyaXRMb2NhbGUsXG4gICAgICAgIHRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZSxcbiAgICAgICAgX19pMThuLFxuICAgICAgICBfX3Jvb3QsXG4gICAgICAgIF9faW5qZWN0V2l0aE9wdGlvblxuICAgIH07XG59XG4vKipcbiAqIGNyZWF0ZSBWdWVJMThuIGludGVyZmFjZSBmYWN0b3J5XG4gKlxuICogQGludGVybmFsXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiBjcmVhdGVWdWVJMThuKG9wdGlvbnMgPSB7fSwgVnVlSTE4bkxlZ2FjeSkge1xuICAgIHtcbiAgICAgICAgY29uc3QgY29tcG9zZXIgPSBjcmVhdGVDb21wb3Nlcihjb252ZXJ0Q29tcG9zZXJPcHRpb25zKG9wdGlvbnMpKTtcbiAgICAgICAgY29uc3QgeyBfX2V4dGVuZGVyIH0gPSBvcHRpb25zO1xuICAgICAgICAvLyBkZWZpbmVzIFZ1ZUkxOG5cbiAgICAgICAgY29uc3QgdnVlSTE4biA9IHtcbiAgICAgICAgICAgIC8vIGlkXG4gICAgICAgICAgICBpZDogY29tcG9zZXIuaWQsXG4gICAgICAgICAgICAvLyBsb2NhbGVcbiAgICAgICAgICAgIGdldCBsb2NhbGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmxvY2FsZS52YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgbG9jYWxlKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLmxvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBmYWxsYmFja0xvY2FsZVxuICAgICAgICAgICAgZ2V0IGZhbGxiYWNrTG9jYWxlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgZmFsbGJhY2tMb2NhbGUodmFsKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gbWVzc2FnZXNcbiAgICAgICAgICAgIGdldCBtZXNzYWdlcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIubWVzc2FnZXMudmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZGF0ZXRpbWVGb3JtYXRzXG4gICAgICAgICAgICBnZXQgZGF0ZXRpbWVGb3JtYXRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5kYXRldGltZUZvcm1hdHMudmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gbnVtYmVyRm9ybWF0c1xuICAgICAgICAgICAgZ2V0IG51bWJlckZvcm1hdHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLm51bWJlckZvcm1hdHMudmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gYXZhaWxhYmxlTG9jYWxlc1xuICAgICAgICAgICAgZ2V0IGF2YWlsYWJsZUxvY2FsZXMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmF2YWlsYWJsZUxvY2FsZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZm9ybWF0dGVyXG4gICAgICAgICAgICBnZXQgZm9ybWF0dGVyKCkge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9GT1JNQVRURVIpKTtcbiAgICAgICAgICAgICAgICAvLyBkdW1teVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgZm9ybWF0dGVyKHZhbCkge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGdldFdhcm5NZXNzYWdlKEkxOG5XYXJuQ29kZXMuTk9UX1NVUFBPUlRFRF9GT1JNQVRURVIpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBtaXNzaW5nXG4gICAgICAgICAgICBnZXQgbWlzc2luZygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0TWlzc2luZ0hhbmRsZXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgbWlzc2luZyhoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuc2V0TWlzc2luZ0hhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gc2lsZW50VHJhbnNsYXRpb25XYXJuXG4gICAgICAgICAgICBnZXQgc2lsZW50VHJhbnNsYXRpb25XYXJuKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0Jvb2xlYW4oY29tcG9zZXIubWlzc2luZ1dhcm4pXG4gICAgICAgICAgICAgICAgICAgID8gIWNvbXBvc2VyLm1pc3NpbmdXYXJuXG4gICAgICAgICAgICAgICAgICAgIDogY29tcG9zZXIubWlzc2luZ1dhcm47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHNpbGVudFRyYW5zbGF0aW9uV2Fybih2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5taXNzaW5nV2FybiA9IGlzQm9vbGVhbih2YWwpID8gIXZhbCA6IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBzaWxlbnRGYWxsYmFja1dhcm5cbiAgICAgICAgICAgIGdldCBzaWxlbnRGYWxsYmFja1dhcm4oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQm9vbGVhbihjb21wb3Nlci5mYWxsYmFja1dhcm4pXG4gICAgICAgICAgICAgICAgICAgID8gIWNvbXBvc2VyLmZhbGxiYWNrV2FyblxuICAgICAgICAgICAgICAgICAgICA6IGNvbXBvc2VyLmZhbGxiYWNrV2FybjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgc2lsZW50RmFsbGJhY2tXYXJuKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbih2YWwpID8gIXZhbCA6IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBtb2RpZmllcnNcbiAgICAgICAgICAgIGdldCBtb2RpZmllcnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLm1vZGlmaWVycztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBmb3JtYXRGYWxsYmFja01lc3NhZ2VzXG4gICAgICAgICAgICBnZXQgZm9ybWF0RmFsbGJhY2tNZXNzYWdlcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZmFsbGJhY2tGb3JtYXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGZvcm1hdEZhbGxiYWNrTWVzc2FnZXModmFsKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tGb3JtYXQgPSB2YWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zdFRyYW5zbGF0aW9uXG4gICAgICAgICAgICBnZXQgcG9zdFRyYW5zbGF0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHBvc3RUcmFuc2xhdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBzeW5jXG4gICAgICAgICAgICBnZXQgc3luYygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuaW5oZXJpdExvY2FsZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgc3luYyh2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5pbmhlcml0TG9jYWxlID0gdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHdhcm5Jbkh0bWxNZXNzYWdlXG4gICAgICAgICAgICBnZXQgd2Fybkh0bWxJbk1lc3NhZ2UoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLndhcm5IdG1sTWVzc2FnZSA/ICd3YXJuJyA6ICdvZmYnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCB3YXJuSHRtbEluTWVzc2FnZSh2YWwpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci53YXJuSHRtbE1lc3NhZ2UgPSB2YWwgIT09ICdvZmYnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVzY2FwZVBhcmFtZXRlckh0bWxcbiAgICAgICAgICAgIGdldCBlc2NhcGVQYXJhbWV0ZXJIdG1sKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5lc2NhcGVQYXJhbWV0ZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGVzY2FwZVBhcmFtZXRlckh0bWwodmFsKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuZXNjYXBlUGFyYW1ldGVyID0gdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHByZXNlcnZlRGlyZWN0aXZlQ29udGVudFxuICAgICAgICAgICAgZ2V0IHByZXNlcnZlRGlyZWN0aXZlQ29udGVudCgpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IHByZXNlcnZlRGlyZWN0aXZlQ29udGVudCh2YWwpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcGx1cmFsaXphdGlvblJ1bGVzXG4gICAgICAgICAgICBnZXQgcGx1cmFsaXphdGlvblJ1bGVzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5wbHVyYWxSdWxlcyB8fCB7fTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBmb3IgaW50ZXJuYWxcbiAgICAgICAgICAgIF9fY29tcG9zZXI6IGNvbXBvc2VyLFxuICAgICAgICAgICAgLy8gdFxuICAgICAgICAgICAgdCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2FyZzEsIGFyZzIsIGFyZzNdID0gYXJncztcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBuYW1lZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1N0cmluZyhhcmcxKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuSU5WQUxJRF9BUkdVTUVOVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGFyZzE7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShhcmcyKSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gYXJnMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmcyKSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lZCA9IGFyZzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGFyZzMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSBhcmczO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVkID0gYXJnMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGNvbXBvc2VyLnQoa2V5LCAobGlzdCB8fCBuYW1lZCB8fCB7fSkgYXMgYW55LCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KGNvbXBvc2VyLnQsIGNvbXBvc2VyLCBbXG4gICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgKGxpc3QgfHwgbmFtZWQgfHwge30pLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KGNvbXBvc2VyLnJ0LCBjb21wb3NlciwgWy4uLmFyZ3NdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0Y1xuICAgICAgICAgICAgdGMoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgcGx1cmFsOiAxIH07XG4gICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBuYW1lZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1N0cmluZyhhcmcxKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuSU5WQUxJRF9BUkdVTUVOVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGFyZzE7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNOdW1iZXIoYXJnMikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBhcmcyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FycmF5KGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSBhcmcyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVkID0gYXJnMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZzMpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShhcmczKSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gYXJnMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmczKSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lZCA9IGFyZzM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBjb21wb3Nlci50KGtleSwgKGxpc3QgfHwgbmFtZWQgfHwge30pIGFzIGFueSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseShjb21wb3Nlci50LCBjb21wb3NlciwgW1xuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIChsaXN0IHx8IG5hbWVkIHx8IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHRlXG4gICAgICAgICAgICB0ZShrZXksIGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci50ZShrZXksIGxvY2FsZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdG1cbiAgICAgICAgICAgIHRtKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci50bShrZXkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGdldExvY2FsZU1lc3NhZ2VcbiAgICAgICAgICAgIGdldExvY2FsZU1lc3NhZ2UobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmdldExvY2FsZU1lc3NhZ2UobG9jYWxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBzZXRMb2NhbGVNZXNzYWdlXG4gICAgICAgICAgICBzZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLnNldExvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBtZXJnZUxvY2FsZU1lc3NhZ2VcbiAgICAgICAgICAgIG1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5tZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBkXG4gICAgICAgICAgICBkKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseShjb21wb3Nlci5kLCBjb21wb3NlciwgWy4uLmFyZ3NdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBnZXREYXRlVGltZUZvcm1hdFxuICAgICAgICAgICAgZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmdldERhdGVUaW1lRm9ybWF0KGxvY2FsZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gc2V0RGF0ZVRpbWVGb3JtYXRcbiAgICAgICAgICAgIHNldERhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZXIuc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG1lcmdlRGF0ZVRpbWVGb3JtYXRcbiAgICAgICAgICAgIG1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5tZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBuXG4gICAgICAgICAgICBuKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseShjb21wb3Nlci5uLCBjb21wb3NlciwgWy4uLmFyZ3NdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBnZXROdW1iZXJGb3JtYXRcbiAgICAgICAgICAgIGdldE51bWJlckZvcm1hdChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gc2V0TnVtYmVyRm9ybWF0XG4gICAgICAgICAgICBzZXROdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBjb21wb3Nlci5zZXROdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG1lcmdlTnVtYmVyRm9ybWF0XG4gICAgICAgICAgICBtZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNvbXBvc2VyLm1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBnZXRDaG9pY2VJbmRleFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICAgICAgZ2V0Q2hvaWNlSW5kZXgoY2hvaWNlLCBjaG9pY2VzTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX0dFVF9DSE9JQ0VfSU5ERVgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZ1ZUkxOG4uX19leHRlbmRlciA9IF9fZXh0ZW5kZXI7XG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIgPSAoZW1pdHRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9fY29tcG9zZXIgPSBjb21wb3NlcjtcbiAgICAgICAgICAgICAgICBfX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdICYmIF9fY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0oZW1pdHRlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdnVlSTE4bi5fX2Rpc2FibGVFbWl0dGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9fY29tcG9zZXIgPSBjb21wb3NlcjtcbiAgICAgICAgICAgICAgICBfX2NvbXBvc2VyW0Rpc2FibGVFbWl0dGVyXSAmJiBfX2NvbXBvc2VyW0Rpc2FibGVFbWl0dGVyXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdnVlSTE4bjtcbiAgICB9XG59XG4vKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cblxuY29uc3QgYmFzZUZvcm1hdFByb3BzID0ge1xuICAgIHRhZzoge1xuICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdXG4gICAgfSxcbiAgICBsb2NhbGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIC8vIE5PVEU6IGF2b2lkIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvcnVzaHN0YWNrL2lzc3Vlcy8xMDUwXG4gICAgICAgIHZhbGlkYXRvcjogKHZhbCAvKiBDb21wb25lbnRJMThuU2NvcGUgKi8pID0+IHZhbCA9PT0gJ3BhcmVudCcgfHwgdmFsID09PSAnZ2xvYmFsJyxcbiAgICAgICAgZGVmYXVsdDogJ3BhcmVudCcgLyogQ29tcG9uZW50STE4blNjb3BlICovXG4gICAgfSxcbiAgICBpMThuOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdFxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGdldEludGVycG9sYXRlQXJnKFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbnsgc2xvdHMgfSwgLy8gU2V0dXBDb250ZXh0LFxua2V5cykge1xuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMSAmJiBrZXlzWzBdID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgLy8gZGVmYXVsdCBzbG90IHdpdGggbGlzdFxuICAgICAgICBjb25zdCByZXQgPSBzbG90cy5kZWZhdWx0ID8gc2xvdHMuZGVmYXVsdCgpIDogW107XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJldHVybiByZXQucmVkdWNlKChzbG90LCBjdXJyZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC4uLnNsb3QsXG4gICAgICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICAgICAgLi4uKGN1cnJlbnQudHlwZSA9PT0gRnJhZ21lbnQgPyBjdXJyZW50LmNoaWxkcmVuIDogW2N1cnJlbnRdXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0sIFtdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG5hbWVkIHNsb3RzXG4gICAgICAgIHJldHVybiBrZXlzLnJlZHVjZSgoYXJnLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBzbG90c1trZXldO1xuICAgICAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgICAgICBhcmdba2V5XSA9IHNsb3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgIH0sIGNyZWF0ZSgpKTtcbiAgICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gZ2V0RnJhZ21lbnRhYmxlVGFnKHRhZykge1xuICAgIHJldHVybiBGcmFnbWVudCA7XG59XG5cbmNvbnN0IFRyYW5zbGF0aW9uSW1wbCA9IC8qI19fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgIG5hbWU6ICdpMThuLXQnLFxuICAgIHByb3BzOiBhc3NpZ24oe1xuICAgICAgICBrZXlwYXRoOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBwbHVyYWw6IHtcbiAgICAgICAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgdmFsaWRhdG9yOiAodmFsKSA9PiBpc051bWJlcih2YWwpIHx8ICFpc05hTih2YWwpXG4gICAgICAgIH1cbiAgICB9LCBiYXNlRm9ybWF0UHJvcHMpLFxuICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHNldHVwKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgc2xvdHMsIGF0dHJzIH0gPSBjb250ZXh0O1xuICAgICAgICAvLyBOT1RFOiBhdm9pZCBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3J1c2hzdGFjay9pc3N1ZXMvMTA1MFxuICAgICAgICBjb25zdCBpMThuID0gcHJvcHMuaTE4biB8fFxuICAgICAgICAgICAgdXNlSTE4bih7XG4gICAgICAgICAgICAgICAgdXNlU2NvcGU6IHByb3BzLnNjb3BlLFxuICAgICAgICAgICAgICAgIF9fdXNlQ29tcG9uZW50OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzbG90cykuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdfJyk7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gY3JlYXRlKCk7XG4gICAgICAgICAgICBpZiAocHJvcHMubG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcHMucGx1cmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBsdXJhbCA9IGlzU3RyaW5nKHByb3BzLnBsdXJhbCkgPyArcHJvcHMucGx1cmFsIDogcHJvcHMucGx1cmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXJnID0gZ2V0SW50ZXJwb2xhdGVBcmcoY29udGV4dCwga2V5cyk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBpMThuW1RyYW5zbGF0ZVZOb2RlU3ltYm9sXShwcm9wcy5rZXlwYXRoLCBhcmcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgYXNzaWduZWRBdHRycyA9IGFzc2lnbihjcmVhdGUoKSwgYXR0cnMpO1xuICAgICAgICAgICAgY29uc3QgdGFnID0gaXNTdHJpbmcocHJvcHMudGFnKSB8fCBpc09iamVjdChwcm9wcy50YWcpXG4gICAgICAgICAgICAgICAgPyBwcm9wcy50YWdcbiAgICAgICAgICAgICAgICA6IGdldEZyYWdtZW50YWJsZVRhZygpO1xuICAgICAgICAgICAgcmV0dXJuIGgodGFnLCBhc3NpZ25lZEF0dHJzLCBjaGlsZHJlbik7XG4gICAgICAgIH07XG4gICAgfVxufSk7XG4vKipcbiAqIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxuICogYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcbiAqL1xuLyoqXG4gKiBUcmFuc2xhdGlvbiBDb21wb25lbnRcbiAqXG4gKiBAcmVtYXJrc1xuICogU2VlIHRoZSBmb2xsb3dpbmcgaXRlbXMgZm9yIHByb3BlcnR5IGFib3V0IGRldGFpbHNcbiAqXG4gKiBAVnVlSTE4blNlZSBbVHJhbnNsYXRpb25Qcm9wc10oY29tcG9uZW50I3RyYW5zbGF0aW9ucHJvcHMpXG4gKiBAVnVlSTE4blNlZSBbQmFzZUZvcm1hdFByb3BzXShjb21wb25lbnQjYmFzZWZvcm1hdHByb3BzKVxuICogQFZ1ZUkxOG5TZWUgW0NvbXBvbmVudCBJbnRlcnBvbGF0aW9uXSguLi9ndWlkZS9hZHZhbmNlZC9jb21wb25lbnQpXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGh0bWxcbiAqIDxkaXYgaWQ9XCJhcHBcIj5cbiAqICAgPCEtLSAuLi4gLS0+XG4gKiAgIDxpMThuIGtleXBhdGg9XCJ0ZXJtXCIgdGFnPVwibGFiZWxcIiBmb3I9XCJ0b3NcIj5cbiAqICAgICA8YSA6aHJlZj1cInVybFwiIHRhcmdldD1cIl9ibGFua1wiPnt7ICR0KCd0b3MnKSB9fTwvYT5cbiAqICAgPC9pMThuPlxuICogICA8IS0tIC4uLiAtLT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgY3JlYXRlQXBwIH0gZnJvbSAndnVlJ1xuICogaW1wb3J0IHsgY3JlYXRlSTE4biB9IGZyb20gJ3Z1ZS1pMThuJ1xuICpcbiAqIGNvbnN0IG1lc3NhZ2VzID0ge1xuICogICBlbjoge1xuICogICAgIHRvczogJ1Rlcm0gb2YgU2VydmljZScsXG4gKiAgICAgdGVybTogJ0kgYWNjZXB0IHh4eCB7MH0uJ1xuICogICB9LFxuICogICBqYToge1xuICogICAgIHRvczogJ+WIqeeUqOimj+e0hCcsXG4gKiAgICAgdGVybTogJ+engeOBryB4eHgg44GuezB944Gr5ZCM5oSP44GX44G+44GZ44CCJ1xuICogICB9XG4gKiB9XG4gKlxuICogY29uc3QgaTE4biA9IGNyZWF0ZUkxOG4oe1xuICogICBsb2NhbGU6ICdlbicsXG4gKiAgIG1lc3NhZ2VzXG4gKiB9KVxuICpcbiAqIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcCh7XG4gKiAgIGRhdGE6IHtcbiAqICAgICB1cmw6ICcvdGVybSdcbiAqICAgfVxuICogfSkudXNlKGkxOG4pLm1vdW50KCcjYXBwJylcbiAqIGBgYFxuICpcbiAqIEBWdWVJMThuQ29tcG9uZW50XG4gKi9cbmNvbnN0IFRyYW5zbGF0aW9uID0gVHJhbnNsYXRpb25JbXBsO1xuY29uc3QgSTE4blQgPSBUcmFuc2xhdGlvbjtcblxuZnVuY3Rpb24gaXNWTm9kZSh0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNBcnJheSh0YXJnZXQpICYmICFpc1N0cmluZyh0YXJnZXRbMF0pO1xufVxuZnVuY3Rpb24gcmVuZGVyRm9ybWF0dGVyKHByb3BzLCBjb250ZXh0LCBzbG90S2V5cywgcGFydEZvcm1hdHRlcikge1xuICAgIGNvbnN0IHsgc2xvdHMsIGF0dHJzIH0gPSBjb250ZXh0O1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHBhcnQ6IHRydWUgfTtcbiAgICAgICAgbGV0IG92ZXJyaWRlcyA9IGNyZWF0ZSgpO1xuICAgICAgICBpZiAocHJvcHMubG9jYWxlKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IHByb3BzLmxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpbmcocHJvcHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgb3B0aW9ucy5rZXkgPSBwcm9wcy5mb3JtYXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QocHJvcHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhwcm9wcy5mb3JtYXQua2V5KSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5rZXkgPSBwcm9wcy5mb3JtYXQua2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlsdGVyIG91dCBudW1iZXIgZm9ybWF0IG9wdGlvbnMgb25seVxuICAgICAgICAgICAgb3ZlcnJpZGVzID0gT2JqZWN0LmtleXMocHJvcHMuZm9ybWF0KS5yZWR1Y2UoKG9wdGlvbnMsIHByb3ApID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xvdEtleXMuaW5jbHVkZXMocHJvcClcbiAgICAgICAgICAgICAgICAgICAgPyBhc3NpZ24oY3JlYXRlKCksIG9wdGlvbnMsIHsgW3Byb3BdOiBwcm9wcy5mb3JtYXRbcHJvcF0gfSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgICAgIDogb3B0aW9ucztcbiAgICAgICAgICAgIH0sIGNyZWF0ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhcnRGb3JtYXR0ZXIoLi4uW3Byb3BzLnZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdKTtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW29wdGlvbnMua2V5XTtcbiAgICAgICAgaWYgKGlzQXJyYXkocGFydHMpKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IHBhcnRzLm1hcCgocGFydCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90ID0gc2xvdHNbcGFydC50eXBlXTtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gc2xvdFxuICAgICAgICAgICAgICAgICAgICA/IHNsb3QoeyBbcGFydC50eXBlXTogcGFydC52YWx1ZSwgaW5kZXgsIHBhcnRzIH0pXG4gICAgICAgICAgICAgICAgICAgIDogW3BhcnQudmFsdWVdO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZOb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVbMF0ua2V5ID0gYCR7cGFydC50eXBlfS0ke2luZGV4fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcocGFydHMpKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtwYXJ0c107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXNzaWduZWRBdHRycyA9IGFzc2lnbihjcmVhdGUoKSwgYXR0cnMpO1xuICAgICAgICBjb25zdCB0YWcgPSBpc1N0cmluZyhwcm9wcy50YWcpIHx8IGlzT2JqZWN0KHByb3BzLnRhZylcbiAgICAgICAgICAgID8gcHJvcHMudGFnXG4gICAgICAgICAgICA6IGdldEZyYWdtZW50YWJsZVRhZygpO1xuICAgICAgICByZXR1cm4gaCh0YWcsIGFzc2lnbmVkQXR0cnMsIGNoaWxkcmVuKTtcbiAgICB9O1xufVxuXG5jb25zdCBOdW1iZXJGb3JtYXRJbXBsID0gLyojX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoe1xuICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgbmFtZTogJ2kxOG4tbicsXG4gICAgcHJvcHM6IGFzc2lnbih7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFtTdHJpbmcsIE9iamVjdF1cbiAgICAgICAgfVxuICAgIH0sIGJhc2VGb3JtYXRQcm9wcyksXG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgaTE4biA9IHByb3BzLmkxOG4gfHxcbiAgICAgICAgICAgIHVzZUkxOG4oe1xuICAgICAgICAgICAgICAgIHVzZVNjb3BlOiBwcm9wcy5zY29wZSxcbiAgICAgICAgICAgICAgICBfX3VzZUNvbXBvbmVudDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZW5kZXJGb3JtYXR0ZXIocHJvcHMsIGNvbnRleHQsIE5VTUJFUl9GT1JNQVRfT1BUSU9OU19LRVlTLCAoLi4uYXJncykgPT4gXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGkxOG5bTnVtYmVyUGFydHNTeW1ib2xdKC4uLmFyZ3MpKTtcbiAgICB9XG59KTtcbi8qKlxuICogZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXG4gKiBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xuICovXG4vKipcbiAqIE51bWJlciBGb3JtYXQgQ29tcG9uZW50XG4gKlxuICogQHJlbWFya3NcbiAqIFNlZSB0aGUgZm9sbG93aW5nIGl0ZW1zIGZvciBwcm9wZXJ0eSBhYm91dCBkZXRhaWxzXG4gKlxuICogQFZ1ZUkxOG5TZWUgW0Zvcm1hdHRhYmxlUHJvcHNdKGNvbXBvbmVudCNmb3JtYXR0YWJsZXByb3BzKVxuICogQFZ1ZUkxOG5TZWUgW0Jhc2VGb3JtYXRQcm9wc10oY29tcG9uZW50I2Jhc2Vmb3JtYXRwcm9wcylcbiAqIEBWdWVJMThuU2VlIFtDdXN0b20gRm9ybWF0dGluZ10oLi4vZ3VpZGUvZXNzZW50aWFscy9udW1iZXIjY3VzdG9tLWZvcm1hdHRpbmcpXG4gKlxuICogQFZ1ZUkxOG5EYW5nZXJcbiAqIE5vdCBzdXBwb3J0ZWQgSUUsIGR1ZSB0byBubyBzdXBwb3J0IGBJbnRsLk51bWJlckZvcm1hdCNmb3JtYXRUb1BhcnRzYCBpbiBbSUVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0ludGwvTnVtYmVyRm9ybWF0L2Zvcm1hdFRvUGFydHMpXG4gKlxuICogSWYgeW91IHdhbnQgdG8gdXNlIGl0LCB5b3UgbmVlZCB0byB1c2UgW3BvbHlmaWxsXShodHRwczovL2dpdGh1Yi5jb20vZm9ybWF0anMvZm9ybWF0anMvdHJlZS9tYWluL3BhY2thZ2VzL2ludGwtbnVtYmVyZm9ybWF0KVxuICpcbiAqIEBWdWVJMThuQ29tcG9uZW50XG4gKi9cbmNvbnN0IE51bWJlckZvcm1hdCA9IE51bWJlckZvcm1hdEltcGw7XG5jb25zdCBJMThuTiA9IE51bWJlckZvcm1hdDtcblxuY29uc3QgRGF0ZXRpbWVGb3JtYXRJbXBsID0gLyogI19fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgIG5hbWU6ICdpMThuLWQnLFxuICAgIHByb3BzOiBhc3NpZ24oe1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgdHlwZTogW051bWJlciwgRGF0ZV0sXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFtTdHJpbmcsIE9iamVjdF1cbiAgICAgICAgfVxuICAgIH0sIGJhc2VGb3JtYXRQcm9wcyksXG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgaTE4biA9IHByb3BzLmkxOG4gfHxcbiAgICAgICAgICAgIHVzZUkxOG4oe1xuICAgICAgICAgICAgICAgIHVzZVNjb3BlOiBwcm9wcy5zY29wZSxcbiAgICAgICAgICAgICAgICBfX3VzZUNvbXBvbmVudDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZW5kZXJGb3JtYXR0ZXIocHJvcHMsIGNvbnRleHQsIERBVEVUSU1FX0ZPUk1BVF9PUFRJT05TX0tFWVMsICguLi5hcmdzKSA9PiBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgaTE4bltEYXRldGltZVBhcnRzU3ltYm9sXSguLi5hcmdzKSk7XG4gICAgfVxufSk7XG4vKipcbiAqIERhdGV0aW1lIEZvcm1hdCBDb21wb25lbnRcbiAqXG4gKiBAcmVtYXJrc1xuICogU2VlIHRoZSBmb2xsb3dpbmcgaXRlbXMgZm9yIHByb3BlcnR5IGFib3V0IGRldGFpbHNcbiAqXG4gKiBAVnVlSTE4blNlZSBbRm9ybWF0dGFibGVQcm9wc10oY29tcG9uZW50I2Zvcm1hdHRhYmxlcHJvcHMpXG4gKiBAVnVlSTE4blNlZSBbQmFzZUZvcm1hdFByb3BzXShjb21wb25lbnQjYmFzZWZvcm1hdHByb3BzKVxuICogQFZ1ZUkxOG5TZWUgW0N1c3RvbSBGb3JtYXR0aW5nXSguLi9ndWlkZS9lc3NlbnRpYWxzL2RhdGV0aW1lI2N1c3RvbS1mb3JtYXR0aW5nKVxuICpcbiAqIEBWdWVJMThuRGFuZ2VyXG4gKiBOb3Qgc3VwcG9ydGVkIElFLCBkdWUgdG8gbm8gc3VwcG9ydCBgSW50bC5EYXRlVGltZUZvcm1hdCNmb3JtYXRUb1BhcnRzYCBpbiBbSUVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0ludGwvRGF0ZVRpbWVGb3JtYXQvZm9ybWF0VG9QYXJ0cylcbiAqXG4gKiBJZiB5b3Ugd2FudCB0byB1c2UgaXQsIHlvdSBuZWVkIHRvIHVzZSBbcG9seWZpbGxdKGh0dHBzOi8vZ2l0aHViLmNvbS9mb3JtYXRqcy9mb3JtYXRqcy90cmVlL21haW4vcGFja2FnZXMvaW50bC1kYXRldGltZWZvcm1hdClcbiAqXG4gKiBAVnVlSTE4bkNvbXBvbmVudFxuICovXG5jb25zdCBEYXRldGltZUZvcm1hdCA9IERhdGV0aW1lRm9ybWF0SW1wbDtcbmNvbnN0IEkxOG5EID0gRGF0ZXRpbWVGb3JtYXQ7XG5cbmZ1bmN0aW9uIGdldENvbXBvc2VyJDIoaTE4biwgaW5zdGFuY2UpIHtcbiAgICBjb25zdCBpMThuSW50ZXJuYWwgPSBpMThuO1xuICAgIGlmIChpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIChpMThuSW50ZXJuYWwuX19nZXRJbnN0YW5jZShpbnN0YW5jZSkgfHwgaTE4bi5nbG9iYWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdnVlSTE4biA9IGkxOG5JbnRlcm5hbC5fX2dldEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHZ1ZUkxOG4gIT0gbnVsbFxuICAgICAgICAgICAgPyB2dWVJMThuLl9fY29tcG9zZXJcbiAgICAgICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlcjtcbiAgICB9XG59XG5mdW5jdGlvbiB2VERpcmVjdGl2ZShpMThuKSB7XG4gICAgY29uc3QgX3Byb2Nlc3MgPSAoYmluZGluZykgPT4ge1xuICAgICAgICBjb25zdCB7IGluc3RhbmNlLCBtb2RpZmllcnMsIHZhbHVlIH0gPSBiaW5kaW5nO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCFpbnN0YW5jZSB8fCAhaW5zdGFuY2UuJCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLlVORVhQRUNURURfRVJST1IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIkMihpMThuLCBpbnN0YW5jZS4kKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtb2RpZmllcnMucHJlc2VydmUpIHtcbiAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RfU1VQUE9SVEVEX1BSRVNFUlZFKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBwYXJzZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFJlZmxlY3QuYXBwbHkoY29tcG9zZXIudCwgY29tcG9zZXIsIFsuLi5tYWtlUGFyYW1zKHBhcnNlZFZhbHVlKV0pLFxuICAgICAgICAgICAgY29tcG9zZXJcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIGNvbnN0IHJlZ2lzdGVyID0gKGVsLCBiaW5kaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IFt0ZXh0Q29udGVudCwgY29tcG9zZXJdID0gX3Byb2Nlc3MoYmluZGluZyk7XG4gICAgICAgIGlmIChpbkJyb3dzZXIgJiYgaTE4bi5nbG9iYWwgPT09IGNvbXBvc2VyKSB7XG4gICAgICAgICAgICAvLyBnbG9iYWwgc2NvcGUgb25seVxuICAgICAgICAgICAgZWwuX19pMThuV2F0Y2hlciA9IHdhdGNoKGNvbXBvc2VyLmxvY2FsZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGJpbmRpbmcuaW5zdGFuY2UgJiYgYmluZGluZy5pbnN0YW5jZS4kZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsLl9fY29tcG9zZXIgPSBjb21wb3NlcjtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgICB9O1xuICAgIGNvbnN0IHVucmVnaXN0ZXIgPSAoZWwpID0+IHtcbiAgICAgICAgaWYgKGluQnJvd3NlciAmJiBlbC5fX2kxOG5XYXRjaGVyKSB7XG4gICAgICAgICAgICBlbC5fX2kxOG5XYXRjaGVyKCk7XG4gICAgICAgICAgICBlbC5fX2kxOG5XYXRjaGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZGVsZXRlIGVsLl9faTE4bldhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLl9fY29tcG9zZXIpIHtcbiAgICAgICAgICAgIGVsLl9fY29tcG9zZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgZWwuX19jb21wb3NlcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdXBkYXRlID0gKGVsLCB7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgaWYgKGVsLl9fY29tcG9zZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvc2VyID0gZWwuX19jb21wb3NlcjtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gcGFyc2VWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IFJlZmxlY3QuYXBwbHkoY29tcG9zZXIudCwgY29tcG9zZXIsIFtcbiAgICAgICAgICAgICAgICAuLi5tYWtlUGFyYW1zKHBhcnNlZFZhbHVlKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFNTUlByb3BzID0gKGJpbmRpbmcpID0+IHtcbiAgICAgICAgY29uc3QgW3RleHRDb250ZW50XSA9IF9wcm9jZXNzKGJpbmRpbmcpO1xuICAgICAgICByZXR1cm4geyB0ZXh0Q29udGVudCB9O1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlZDogcmVnaXN0ZXIsXG4gICAgICAgIHVubW91bnRlZDogdW5yZWdpc3RlcixcbiAgICAgICAgYmVmb3JlVXBkYXRlOiB1cGRhdGUsXG4gICAgICAgIGdldFNTUlByb3BzXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWUodmFsdWUpIHtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB7IHBhdGg6IHZhbHVlIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGlmICghKCdwYXRoJyBpbiB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5SRVFVSVJFRF9WQUxVRSwgJ3BhdGgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuSU5WQUxJRF9WQUxVRSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWFrZVBhcmFtcyh2YWx1ZSkge1xuICAgIGNvbnN0IHsgcGF0aCwgbG9jYWxlLCBhcmdzLCBjaG9pY2UsIHBsdXJhbCB9ID0gdmFsdWU7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgIGNvbnN0IG5hbWVkID0gYXJncyB8fCB7fTtcbiAgICBpZiAoaXNTdHJpbmcobG9jYWxlKSkge1xuICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGxvY2FsZTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGNob2ljZSkpIHtcbiAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBjaG9pY2U7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihwbHVyYWwpKSB7XG4gICAgICAgIG9wdGlvbnMucGx1cmFsID0gcGx1cmFsO1xuICAgIH1cbiAgICByZXR1cm4gW3BhdGgsIG5hbWVkLCBvcHRpb25zXTtcbn1cblxuZnVuY3Rpb24gYXBwbHkoYXBwLCBpMThuLCAuLi5vcHRpb25zKSB7XG4gICAgY29uc3QgcGx1Z2luT3B0aW9ucyA9IGlzUGxhaW5PYmplY3Qob3B0aW9uc1swXSlcbiAgICAgICAgPyBvcHRpb25zWzBdXG4gICAgICAgIDoge307XG4gICAgY29uc3QgdXNlSTE4bkNvbXBvbmVudE5hbWUgPSAhIXBsdWdpbk9wdGlvbnMudXNlSTE4bkNvbXBvbmVudE5hbWU7XG4gICAgY29uc3QgZ2xvYmFsSW5zdGFsbCA9IGlzQm9vbGVhbihwbHVnaW5PcHRpb25zLmdsb2JhbEluc3RhbGwpXG4gICAgICAgID8gcGx1Z2luT3B0aW9ucy5nbG9iYWxJbnN0YWxsXG4gICAgICAgIDogdHJ1ZTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGdsb2JhbEluc3RhbGwgJiYgdXNlSTE4bkNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLkNPTVBPTkVOVF9OQU1FX0xFR0FDWV9DT01QQVRJQkxFLCB7XG4gICAgICAgICAgICBuYW1lOiBUcmFuc2xhdGlvbi5uYW1lXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgaWYgKGdsb2JhbEluc3RhbGwpIHtcbiAgICAgICAgWyF1c2VJMThuQ29tcG9uZW50TmFtZSA/IFRyYW5zbGF0aW9uLm5hbWUgOiAnaTE4bicsICdJMThuVCddLmZvckVhY2gobmFtZSA9PiBhcHAuY29tcG9uZW50KG5hbWUsIFRyYW5zbGF0aW9uKSk7XG4gICAgICAgIFtOdW1iZXJGb3JtYXQubmFtZSwgJ0kxOG5OJ10uZm9yRWFjaChuYW1lID0+IGFwcC5jb21wb25lbnQobmFtZSwgTnVtYmVyRm9ybWF0KSk7XG4gICAgICAgIFtEYXRldGltZUZvcm1hdC5uYW1lLCAnSTE4bkQnXS5mb3JFYWNoKG5hbWUgPT4gYXBwLmNvbXBvbmVudChuYW1lLCBEYXRldGltZUZvcm1hdCkpO1xuICAgIH1cbiAgICAvLyBpbnN0YWxsIGRpcmVjdGl2ZVxuICAgIHtcbiAgICAgICAgYXBwLmRpcmVjdGl2ZSgndCcsIHZURGlyZWN0aXZlKGkxOG4pKTtcbiAgICB9XG59XG5cbmNvbnN0IFZ1ZURldlRvb2xzTGFiZWxzID0ge1xuICAgIFtcInZ1ZS1kZXZ0b29scy1wbHVnaW4tdnVlLWkxOG5cIiAvKiBWdWVEZXZUb29sc0lEcy5QTFVHSU4gKi9dOiAnVnVlIEkxOG4gZGV2dG9vbHMnLFxuICAgIFtcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIFZ1ZURldlRvb2xzSURzLkNVU1RPTV9JTlNQRUNUT1IgKi9dOiAnSTE4biBSZXNvdXJjZXMnLFxuICAgIFtcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVnVlRGV2VG9vbHNJRHMuVElNRUxJTkUgKi9dOiAnVnVlIEkxOG4nXG59O1xuY29uc3QgVnVlRGV2VG9vbHNQbGFjZWhvbGRlcnMgPSB7XG4gICAgW1widnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogVnVlRGV2VG9vbHNJRHMuQ1VTVE9NX0lOU1BFQ1RPUiAqL106ICdTZWFyY2ggZm9yIHNjb3BlcyAuLi4nXG59O1xuY29uc3QgVnVlRGV2VG9vbHNUaW1lbGluZUNvbG9ycyA9IHtcbiAgICBbXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFZ1ZURldlRvb2xzSURzLlRJTUVMSU5FICovXTogMHhmZmNkMTlcbn07XG5cbmNvbnN0IFZVRV9JMThOX0NPTVBPTkVOVF9UWVBFUyA9ICd2dWUtaTE4bjogY29tcG9zZXIgcHJvcGVydGllcyc7XG5sZXQgZGV2dG9vbHNBcGk7XG5hc3luYyBmdW5jdGlvbiBlbmFibGVEZXZUb29scyhhcHAsIGkxOG4pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XG4gICAgICAgICAgICAgICAgaWQ6IFwidnVlLWRldnRvb2xzLXBsdWdpbi12dWUtaTE4blwiIC8qIFZ1ZURldlRvb2xzSURzLlBMVUdJTiAqLyxcbiAgICAgICAgICAgICAgICBsYWJlbDogVnVlRGV2VG9vbHNMYWJlbHNbXCJ2dWUtZGV2dG9vbHMtcGx1Z2luLXZ1ZS1pMThuXCIgLyogVnVlRGV2VG9vbHNJRHMuUExVR0lOICovXSxcbiAgICAgICAgICAgICAgICBwYWNrYWdlTmFtZTogJ3Z1ZS1pMThuJyxcbiAgICAgICAgICAgICAgICBob21lcGFnZTogJ2h0dHBzOi8vdnVlLWkxOG4uaW50bGlmeS5kZXYnLFxuICAgICAgICAgICAgICAgIGxvZ286ICdodHRwczovL3Z1ZS1pMThuLmludGxpZnkuZGV2L3Z1ZS1pMThuLWRldnRvb2xzLWxvZ28ucG5nJyxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzOiBbVlVFX0kxOE5fQ09NUE9ORU5UX1RZUEVTXSxcbiAgICAgICAgICAgICAgICBhcHA6IGFwcCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIH0sIGFwaSA9PiB7XG4gICAgICAgICAgICAgICAgZGV2dG9vbHNBcGkgPSBhcGk7XG4gICAgICAgICAgICAgICAgYXBpLm9uLnZpc2l0Q29tcG9uZW50VHJlZSgoeyBjb21wb25lbnRJbnN0YW5jZSwgdHJlZU5vZGUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRUcmVlVGFncyhjb21wb25lbnRJbnN0YW5jZSwgdHJlZU5vZGUsIGkxOG4pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KCh7IGNvbXBvbmVudEluc3RhbmNlLCBpbnN0YW5jZURhdGEgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50SW5zdGFuY2Uudm5vZGUuZWwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEluc3RhbmNlLnZub2RlLmVsLl9fVlVFX0kxOE5fXyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaTE4bi5tb2RlID09PSAnbGVnYWN5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBnbG9iYWwgc2NvcGUgb24gbGVnYWN5IG1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50SW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpMThuLmdsb2JhbC5fX2NvbXBvc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3BlY3RDb21wb3NlcihpbnN0YW5jZURhdGEsIGNvbXBvbmVudEluc3RhbmNlLnZub2RlLmVsLl9fVlVFX0kxOE5fXyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zcGVjdENvbXBvc2VyKGluc3RhbmNlRGF0YSwgY29tcG9uZW50SW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFwaS5hZGRJbnNwZWN0b3Ioe1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBWdWVEZXZUb29sc0lEcy5DVVNUT01fSU5TUEVDVE9SICovLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogVnVlRGV2VG9vbHNMYWJlbHNbXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBWdWVEZXZUb29sc0lEcy5DVVNUT01fSU5TUEVDVE9SICovXSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2xhbmd1YWdlJyxcbiAgICAgICAgICAgICAgICAgICAgdHJlZUZpbHRlclBsYWNlaG9sZGVyOiBWdWVEZXZUb29sc1BsYWNlaG9sZGVyc1tcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIFZ1ZURldlRvb2xzSURzLkNVU1RPTV9JTlNQRUNUT1IgKi9dXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUocGF5bG9hZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3BlY3RvcklkID09PSBcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIFZ1ZURldlRvb2xzSURzLkNVU1RPTV9JTlNQRUNUT1IgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyU2NvcGUocGF5bG9hZCwgaTE4bik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUoYXN5bmMgKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IFwidnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogVnVlRGV2VG9vbHNJRHMuQ1VTVE9NX0lOU1BFQ1RPUiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnVuaGlnaGxpZ2h0RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zcGVjdFNjb3BlKHBheWxvYWQsIGkxOG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQubm9kZUlkID09PSAnZ2xvYmFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcm9vdHMuaGFzKHBheWxvYWQuYXBwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbcm9vdF0gPSBhd2FpdCBhcGkuZ2V0Q29tcG9uZW50SW5zdGFuY2VzKHBheWxvYWQuYXBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdHMuc2V0KHBheWxvYWQuYXBwLCByb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLmhpZ2hsaWdodEVsZW1lbnQocm9vdHMuZ2V0KHBheWxvYWQuYXBwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldENvbXBvbmVudEluc3RhbmNlKHBheWxvYWQubm9kZUlkLCBpMThuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSAmJiBhcGkuaGlnaGxpZ2h0RWxlbWVudChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhcGkub24uZWRpdEluc3BlY3RvclN0YXRlKHBheWxvYWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBWdWVEZXZUb29sc0lEcy5DVVNUT01fSU5TUEVDVE9SICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0U2NvcGUocGF5bG9hZCwgaTE4bik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVnVlRGV2VG9vbHNJRHMuVElNRUxJTkUgKi8sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBWdWVEZXZUb29sc0xhYmVsc1tcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVnVlRGV2VG9vbHNJRHMuVElNRUxJTkUgKi9dLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogVnVlRGV2VG9vbHNUaW1lbGluZUNvbG9yc1tcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVnVlRGV2VG9vbHNJRHMuVElNRUxJTkUgKi9dXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgcmVqZWN0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGdldEkxOG5TY29wZUxhYmxlKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIChpbnN0YW5jZS50eXBlLm5hbWUgfHxcbiAgICAgICAgaW5zdGFuY2UudHlwZS5kaXNwbGF5TmFtZSB8fFxuICAgICAgICBpbnN0YW5jZS50eXBlLl9fZmlsZSB8fFxuICAgICAgICAnQW5vbnltb3VzJyk7XG59XG5mdW5jdGlvbiB1cGRhdGVDb21wb25lbnRUcmVlVGFncyhpbnN0YW5jZSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG50cmVlTm9kZSwgaTE4bikge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGdsb2JhbCA9IGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xuICAgICAgICA/IGkxOG4uZ2xvYmFsXG4gICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlcjtcbiAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2Uudm5vZGUuZWwgJiYgaW5zdGFuY2Uudm5vZGUuZWwuX19WVUVfSTE4Tl9fKSB7XG4gICAgICAgIC8vIGFkZCBjdXN0b20gdGFncyBsb2NhbCBzY29wZSBvbmx5XG4gICAgICAgIGlmIChpbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18gIT09IGdsb2JhbCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBgaTE4biAoJHtnZXRJMThuU2NvcGVMYWJsZShpbnN0YW5jZSl9IFNjb3BlKWAsXG4gICAgICAgICAgICAgICAgdGV4dENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4ZmZjZDE5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJlZU5vZGUudGFncy5wdXNoKHRhZyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbnNwZWN0Q29tcG9zZXIoaW5zdGFuY2VEYXRhLCBjb21wb3Nlcikge1xuICAgIGNvbnN0IHR5cGUgPSBWVUVfSTE4Tl9DT01QT05FTlRfVFlQRVM7XG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICB0eXBlLFxuICAgICAgICBrZXk6ICdsb2NhbGUnLFxuICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmxvY2FsZS52YWx1ZVxuICAgIH0pO1xuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5OiAnYXZhaWxhYmxlTG9jYWxlcycsXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmF2YWlsYWJsZUxvY2FsZXNcbiAgICB9KTtcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleTogJ2ZhbGxiYWNrTG9jYWxlJyxcbiAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZVxuICAgIH0pO1xuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5OiAnaW5oZXJpdExvY2FsZScsXG4gICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogY29tcG9zZXIuaW5oZXJpdExvY2FsZVxuICAgIH0pO1xuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5OiAnbWVzc2FnZXMnLFxuICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBnZXRMb2NhbGVNZXNzYWdlVmFsdWUoY29tcG9zZXIubWVzc2FnZXMudmFsdWUpXG4gICAgfSk7XG4gICAge1xuICAgICAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAga2V5OiAnZGF0ZXRpbWVGb3JtYXRzJyxcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5kYXRldGltZUZvcm1hdHMudmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBrZXk6ICdudW1iZXJGb3JtYXRzJyxcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5udW1iZXJGb3JtYXRzLnZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBnZXRMb2NhbGVNZXNzYWdlVmFsdWUobWVzc2FnZXMpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHt9O1xuICAgIE9iamVjdC5rZXlzKG1lc3NhZ2VzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgdiA9IG1lc3NhZ2VzW2tleV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHYpICYmICdzb3VyY2UnIGluIHYpIHtcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSBnZXRNZXNzYWdlRnVuY3Rpb25EZXRhaWxzKHYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTWVzc2FnZUFTVCh2KSAmJiB2LmxvYyAmJiB2LmxvYy5zb3VyY2UpIHtcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSB2LmxvYy5zb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSBnZXRMb2NhbGVNZXNzYWdlVmFsdWUodik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZVtrZXldID0gdjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IEVTQyA9IHtcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAnJic6ICcmYW1wOydcbn07XG5mdW5jdGlvbiBlc2NhcGUocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL1s8PlwiJl0vZywgZXNjYXBlQ2hhcik7XG59XG5mdW5jdGlvbiBlc2NhcGVDaGFyKGEpIHtcbiAgICByZXR1cm4gRVNDW2FdIHx8IGE7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gZ2V0TWVzc2FnZUZ1bmN0aW9uRGV0YWlscyhmdW5jKSB7XG4gICAgY29uc3QgYXJnU3RyaW5nID0gZnVuYy5zb3VyY2UgPyBgKFwiJHtlc2NhcGUoZnVuYy5zb3VyY2UpfVwiKWAgOiBgKD8pYDtcbiAgICByZXR1cm4ge1xuICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgZGlzcGxheTogYDxzcGFuPsaSPC9zcGFuPiAke2FyZ1N0cmluZ31gXG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJTY29wZShwYXlsb2FkLCBpMThuKSB7XG4gICAgcGF5bG9hZC5yb290Tm9kZXMucHVzaCh7XG4gICAgICAgIGlkOiAnZ2xvYmFsJyxcbiAgICAgICAgbGFiZWw6ICdHbG9iYWwgU2NvcGUnXG4gICAgfSk7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgZ2xvYmFsID0gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXG4gICAgICAgID8gaTE4bi5nbG9iYWxcbiAgICAgICAgOiBpMThuLmdsb2JhbC5fX2NvbXBvc2VyO1xuICAgIGZvciAoY29uc3QgW2tleUluc3RhbmNlLCBpbnN0YW5jZV0gb2YgaTE4bi5fX2luc3RhbmNlcykge1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgY29tcG9zZXIgPSBpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbidcbiAgICAgICAgICAgID8gaW5zdGFuY2VcbiAgICAgICAgICAgIDogaW5zdGFuY2UuX19jb21wb3NlcjtcbiAgICAgICAgaWYgKGdsb2JhbCA9PT0gY29tcG9zZXIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQucm9vdE5vZGVzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGNvbXBvc2VyLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBsYWJlbDogYCR7Z2V0STE4blNjb3BlTGFibGUoa2V5SW5zdGFuY2UpfSBTY29wZWBcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50SW5zdGFuY2Uobm9kZUlkLCBpMThuKSB7XG4gICAgbGV0IGluc3RhbmNlID0gbnVsbDtcbiAgICBpZiAobm9kZUlkICE9PSAnZ2xvYmFsJykge1xuICAgICAgICBmb3IgKGNvbnN0IFtjb21wb25lbnQsIGNvbXBvc2VyXSBvZiBpMThuLl9faW5zdGFuY2VzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKGNvbXBvc2VyLmlkLnRvU3RyaW5nKCkgPT09IG5vZGVJZCkge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gY29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvc2VyJDEobm9kZUlkLCBpMThuKSB7XG4gICAgaWYgKG5vZGVJZCA9PT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgcmV0dXJuIGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xuICAgICAgICAgICAgPyBpMThuLmdsb2JhbFxuICAgICAgICAgICAgOiBpMThuLmdsb2JhbC5fX2NvbXBvc2VyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBBcnJheS5mcm9tKGkxOG4uX19pbnN0YW5jZXMudmFsdWVzKCkpLmZpbmQoaXRlbSA9PiBpdGVtLmlkLnRvU3RyaW5nKCkgPT09IG5vZGVJZCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xuICAgICAgICAgICAgICAgID8gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICA6IGluc3RhbmNlLl9fY29tcG9zZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGluc3BlY3RTY29wZShwYXlsb2FkLCBpMThuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSB7XG4gICAgY29uc3QgY29tcG9zZXIgPSBnZXRDb21wb3NlciQxKHBheWxvYWQubm9kZUlkLCBpMThuKTtcbiAgICBpZiAoY29tcG9zZXIpIHtcbiAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IG1ha2VTY29wZUluc3BlY3RTdGF0ZShjb21wb3Nlcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gbWFrZVNjb3BlSW5zcGVjdFN0YXRlKGNvbXBvc2VyKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcbiAgICBjb25zdCBsb2NhbGVUeXBlID0gJ0xvY2FsZSByZWxhdGVkIGluZm8nO1xuICAgIGNvbnN0IGxvY2FsZVN0YXRlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogbG9jYWxlVHlwZSxcbiAgICAgICAgICAgIGtleTogJ2xvY2FsZScsXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5sb2NhbGUudmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogbG9jYWxlVHlwZSxcbiAgICAgICAgICAgIGtleTogJ2ZhbGxiYWNrTG9jYWxlJyxcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsZVR5cGUsXG4gICAgICAgICAgICBrZXk6ICdhdmFpbGFibGVMb2NhbGVzJyxcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5hdmFpbGFibGVMb2NhbGVzXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsZVR5cGUsXG4gICAgICAgICAgICBrZXk6ICdpbmhlcml0TG9jYWxlJyxcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmluaGVyaXRMb2NhbGVcbiAgICAgICAgfVxuICAgIF07XG4gICAgc3RhdGVbbG9jYWxlVHlwZV0gPSBsb2NhbGVTdGF0ZXM7XG4gICAgY29uc3QgbG9jYWxlTWVzc2FnZXNUeXBlID0gJ0xvY2FsZSBtZXNzYWdlcyBpbmZvJztcbiAgICBjb25zdCBsb2NhbGVNZXNzYWdlc1N0YXRlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogbG9jYWxlTWVzc2FnZXNUeXBlLFxuICAgICAgICAgICAga2V5OiAnbWVzc2FnZXMnLFxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGdldExvY2FsZU1lc3NhZ2VWYWx1ZShjb21wb3Nlci5tZXNzYWdlcy52YWx1ZSlcbiAgICAgICAgfVxuICAgIF07XG4gICAgc3RhdGVbbG9jYWxlTWVzc2FnZXNUeXBlXSA9IGxvY2FsZU1lc3NhZ2VzU3RhdGVzO1xuICAgIHtcbiAgICAgICAgY29uc3QgZGF0ZXRpbWVGb3JtYXRzVHlwZSA9ICdEYXRldGltZSBmb3JtYXRzIGluZm8nO1xuICAgICAgICBjb25zdCBkYXRldGltZUZvcm1hdHNTdGF0ZXMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogZGF0ZXRpbWVGb3JtYXRzVHlwZSxcbiAgICAgICAgICAgICAgICBrZXk6ICdkYXRldGltZUZvcm1hdHMnLFxuICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIuZGF0ZXRpbWVGb3JtYXRzLnZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIHN0YXRlW2RhdGV0aW1lRm9ybWF0c1R5cGVdID0gZGF0ZXRpbWVGb3JtYXRzU3RhdGVzO1xuICAgICAgICBjb25zdCBudW1iZXJGb3JtYXRzVHlwZSA9ICdEYXRldGltZSBmb3JtYXRzIGluZm8nO1xuICAgICAgICBjb25zdCBudW1iZXJGb3JtYXRzU3RhdGVzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IG51bWJlckZvcm1hdHNUeXBlLFxuICAgICAgICAgICAgICAgIGtleTogJ251bWJlckZvcm1hdHMnLFxuICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIubnVtYmVyRm9ybWF0cy52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICBzdGF0ZVtudW1iZXJGb3JtYXRzVHlwZV0gPSBudW1iZXJGb3JtYXRzU3RhdGVzO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiBhZGRUaW1lbGluZUV2ZW50KGV2ZW50LCBwYXlsb2FkKSB7XG4gICAgaWYgKGRldnRvb2xzQXBpKSB7XG4gICAgICAgIGxldCBncm91cElkO1xuICAgICAgICBpZiAocGF5bG9hZCAmJiAnZ3JvdXBJZCcgaW4gcGF5bG9hZCkge1xuICAgICAgICAgICAgZ3JvdXBJZCA9IHBheWxvYWQuZ3JvdXBJZDtcbiAgICAgICAgICAgIGRlbGV0ZSBwYXlsb2FkLmdyb3VwSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZGV2dG9vbHNBcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICBsYXllcklkOiBcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVnVlRGV2VG9vbHNJRHMuVElNRUxJTkUgKi8sXG4gICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBldmVudCxcbiAgICAgICAgICAgICAgICBncm91cElkLFxuICAgICAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgbWV0YToge30sXG4gICAgICAgICAgICAgICAgZGF0YTogcGF5bG9hZCB8fCB7fSxcbiAgICAgICAgICAgICAgICBsb2dUeXBlOiBldmVudCA9PT0gXCJjb21waWxlLWVycm9yXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5DT01QSUxFX0VSUk9SICovXG4gICAgICAgICAgICAgICAgICAgID8gJ2Vycm9yJ1xuICAgICAgICAgICAgICAgICAgICA6IGV2ZW50ID09PSBcImZhbGxiYWNrXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5GQUxCQUNLICovIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCA9PT0gXCJtaXNzaW5nXCIgLyogVnVlRGV2VG9vbHNUaW1lbGluZUV2ZW50cy5NSVNTSU5HICovXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICd3YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnZGVmYXVsdCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZWRpdFNjb3BlKHBheWxvYWQsIGkxOG4pIHtcbiAgICBjb25zdCBjb21wb3NlciA9IGdldENvbXBvc2VyJDEocGF5bG9hZC5ub2RlSWQsIGkxOG4pO1xuICAgIGlmIChjb21wb3Nlcikge1xuICAgICAgICBjb25zdCBbZmllbGRdID0gcGF5bG9hZC5wYXRoO1xuICAgICAgICBpZiAoZmllbGQgPT09ICdsb2NhbGUnICYmIGlzU3RyaW5nKHBheWxvYWQuc3RhdGUudmFsdWUpKSB7XG4gICAgICAgICAgICBjb21wb3Nlci5sb2NhbGUudmFsdWUgPSBwYXlsb2FkLnN0YXRlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpZWxkID09PSAnZmFsbGJhY2tMb2NhbGUnICYmXG4gICAgICAgICAgICAoaXNTdHJpbmcocGF5bG9hZC5zdGF0ZS52YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICBpc0FycmF5KHBheWxvYWQuc3RhdGUudmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgaXNPYmplY3QocGF5bG9hZC5zdGF0ZS52YWx1ZSkpKSB7XG4gICAgICAgICAgICBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHBheWxvYWQuc3RhdGUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmllbGQgPT09ICdpbmhlcml0TG9jYWxlJyAmJiBpc0Jvb2xlYW4ocGF5bG9hZC5zdGF0ZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbXBvc2VyLmluaGVyaXRMb2NhbGUgPSBwYXlsb2FkLnN0YXRlLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFN1cHBvcnRzIGNvbXBhdGliaWxpdHkgZm9yIGxlZ2FjeSB2dWUtaTE4biBBUElzXG4gKiBUaGlzIG1peGluIGlzIHVzZWQgd2hlbiB3ZSB1c2UgdnVlLWkxOG5AdjkueCBvciBsYXRlclxuICovXG5mdW5jdGlvbiBkZWZpbmVNaXhpbih2dWVpMThuLCBjb21wb3NlciwgaTE4bikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJlZm9yZUNyZWF0ZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy4kb3B0aW9ucztcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmkxOG4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zSTE4biA9IG9wdGlvbnMuaTE4bjtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5fX2kxOG4pIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0kxOG4uX19pMThuID0gb3B0aW9ucy5fX2kxOG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNJMThuLl9fcm9vdCA9IGNvbXBvc2VyO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzID09PSB0aGlzLiRyb290KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1lcmdlIG9wdGlvbiBhbmQgZ3R0YWNoIGdsb2JhbFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gbWVyZ2VUb0dsb2JhbCh2dWVpMThuLCBvcHRpb25zSTE4bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zSTE4bi5fX2luamVjdFdpdGhPcHRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zSTE4bi5fX2V4dGVuZGVyID0gaTE4bi5fX3Z1ZUkxOG5FeHRlbmQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHRhY2ggbG9jYWwgVnVlSTE4biBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gY3JlYXRlVnVlSTE4bihvcHRpb25zSTE4bik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV4dGVuZCBWdWVJMThuIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF92dWVJMThuID0gdGhpcy4kaTE4bjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF92dWVJMThuLl9fZXh0ZW5kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92dWVJMThuLl9fZGlzcG9zZXIgPSBfdnVlSTE4bi5fX2V4dGVuZGVyKHRoaXMuJGkxOG4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5fX2kxOG4pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcyA9PT0gdGhpcy4kcm9vdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtZXJnZSBvcHRpb24gYW5kIGd0dGFjaCBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IG1lcmdlVG9HbG9iYWwodnVlaTE4biwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBhdHR0YWNoIGxvY2FsIFZ1ZUkxOG4gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IGNyZWF0ZVZ1ZUkxOG4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgX19pMThuOiBvcHRpb25zLl9faTE4bixcbiAgICAgICAgICAgICAgICAgICAgICAgIF9faW5qZWN0V2l0aE9wdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fZXh0ZW5kZXI6IGkxOG4uX192dWVJMThuRXh0ZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgX19yb290OiBjb21wb3NlclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXh0ZW5kIFZ1ZUkxOG4gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX3Z1ZUkxOG4gPSB0aGlzLiRpMThuO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3Z1ZUkxOG4uX19leHRlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Z1ZUkxOG4uX19kaXNwb3NlciA9IF92dWVJMThuLl9fZXh0ZW5kZXIodGhpcy4kaTE4bik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhdHRhY2ggZ2xvYmFsIFZ1ZUkxOG4gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gdnVlaTE4bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLl9faTE4bkdsb2JhbCkge1xuICAgICAgICAgICAgICAgIGFkanVzdEkxOG5SZXNvdXJjZXMoY29tcG9zZXIsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVmaW5lcyB2dWUtaTE4biBsZWdhY3kgQVBJc1xuICAgICAgICAgICAgdGhpcy4kdCA9ICguLi5hcmdzKSA9PiB0aGlzLiRpMThuLnQoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLiRydCA9ICguLi5hcmdzKSA9PiB0aGlzLiRpMThuLnJ0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy4kdGMgPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi50YyguLi5hcmdzKTtcbiAgICAgICAgICAgIHRoaXMuJHRlID0gKGtleSwgbG9jYWxlKSA9PiB0aGlzLiRpMThuLnRlKGtleSwgbG9jYWxlKTtcbiAgICAgICAgICAgIHRoaXMuJGQgPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi5kKC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy4kbiA9ICguLi5hcmdzKSA9PiB0aGlzLiRpMThuLm4oLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLiR0bSA9IChrZXkpID0+IHRoaXMuJGkxOG4udG0oa2V5KTtcbiAgICAgICAgICAgIGkxOG4uX19zZXRJbnN0YW5jZShpbnN0YW5jZSwgdGhpcy4kaTE4bik7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdW50ZWQoKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiZcbiAgICAgICAgICAgICAgICAhZmFsc2UgJiZcbiAgICAgICAgICAgICAgICB0aGlzLiRlbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuJGkxOG4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IHRoaXMuJGkxOG47XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuX19WVUVfSTE4Tl9fID0gX3Z1ZUkxOG4uX19jb21wb3NlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBlbWl0dGVyID0gKHRoaXMuX192X2VtaXR0ZXIgPVxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbWl0dGVyKCkpO1xuICAgICAgICAgICAgICAgIF92dWVJMThuLl9fZW5hYmxlRW1pdHRlciAmJiBfdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIoZW1pdHRlcik7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5vbignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1bm1vdW50ZWQoKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLlVORVhQRUNURURfRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgX3Z1ZUkxOG4gPSB0aGlzLiRpMThuO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmXG4gICAgICAgICAgICAgICAgIWZhbHNlICYmXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwgJiZcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5fX1ZVRV9JMThOX18pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fX3ZfZW1pdHRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdl9lbWl0dGVyLm9mZignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fX3ZfZW1pdHRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGkxOG4pIHtcbiAgICAgICAgICAgICAgICAgICAgX3Z1ZUkxOG4uX19kaXNhYmxlRW1pdHRlciAmJiBfdnVlSTE4bi5fX2Rpc2FibGVFbWl0dGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRlbC5fX1ZVRV9JMThOX187XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kcnQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kdGM7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kdGU7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kZDtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRuO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHRtO1xuICAgICAgICAgICAgaWYgKF92dWVJMThuLl9fZGlzcG9zZXIpIHtcbiAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2Rpc3Bvc2VyKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF92dWVJMThuLl9fZGlzcG9zZXI7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF92dWVJMThuLl9fZXh0ZW5kZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpMThuLl9fZGVsZXRlSW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJGkxOG47XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gbWVyZ2VUb0dsb2JhbChnLCBvcHRpb25zKSB7XG4gICAgZy5sb2NhbGUgPSBvcHRpb25zLmxvY2FsZSB8fCBnLmxvY2FsZTtcbiAgICBnLmZhbGxiYWNrTG9jYWxlID0gb3B0aW9ucy5mYWxsYmFja0xvY2FsZSB8fCBnLmZhbGxiYWNrTG9jYWxlO1xuICAgIGcubWlzc2luZyA9IG9wdGlvbnMubWlzc2luZyB8fCBnLm1pc3Npbmc7XG4gICAgZy5zaWxlbnRUcmFuc2xhdGlvbldhcm4gPVxuICAgICAgICBvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybiB8fCBnLnNpbGVudEZhbGxiYWNrV2FybjtcbiAgICBnLnNpbGVudEZhbGxiYWNrV2FybiA9IG9wdGlvbnMuc2lsZW50RmFsbGJhY2tXYXJuIHx8IGcuc2lsZW50RmFsbGJhY2tXYXJuO1xuICAgIGcuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcyA9XG4gICAgICAgIG9wdGlvbnMuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcyB8fCBnLmZvcm1hdEZhbGxiYWNrTWVzc2FnZXM7XG4gICAgZy5wb3N0VHJhbnNsYXRpb24gPSBvcHRpb25zLnBvc3RUcmFuc2xhdGlvbiB8fCBnLnBvc3RUcmFuc2xhdGlvbjtcbiAgICBnLndhcm5IdG1sSW5NZXNzYWdlID0gb3B0aW9ucy53YXJuSHRtbEluTWVzc2FnZSB8fCBnLndhcm5IdG1sSW5NZXNzYWdlO1xuICAgIGcuZXNjYXBlUGFyYW1ldGVySHRtbCA9IG9wdGlvbnMuZXNjYXBlUGFyYW1ldGVySHRtbCB8fCBnLmVzY2FwZVBhcmFtZXRlckh0bWw7XG4gICAgZy5zeW5jID0gb3B0aW9ucy5zeW5jIHx8IGcuc3luYztcbiAgICBnLl9fY29tcG9zZXJbU2V0UGx1cmFsUnVsZXNTeW1ib2xdKG9wdGlvbnMucGx1cmFsaXphdGlvblJ1bGVzIHx8IGcucGx1cmFsaXphdGlvblJ1bGVzKTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGdldExvY2FsZU1lc3NhZ2VzKGcubG9jYWxlLCB7XG4gICAgICAgIG1lc3NhZ2VzOiBvcHRpb25zLm1lc3NhZ2VzLFxuICAgICAgICBfX2kxOG46IG9wdGlvbnMuX19pMThuXG4gICAgfSk7XG4gICAgT2JqZWN0LmtleXMobWVzc2FnZXMpLmZvckVhY2gobG9jYWxlID0+IGcubWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZXNbbG9jYWxlXSkpO1xuICAgIGlmIChvcHRpb25zLmRhdGV0aW1lRm9ybWF0cykge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLmRhdGV0aW1lRm9ybWF0cykuZm9yRWFjaChsb2NhbGUgPT4gZy5tZXJnZURhdGVUaW1lRm9ybWF0KGxvY2FsZSwgb3B0aW9ucy5kYXRldGltZUZvcm1hdHNbbG9jYWxlXSkpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5udW1iZXJGb3JtYXRzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMubnVtYmVyRm9ybWF0cykuZm9yRWFjaChsb2NhbGUgPT4gZy5tZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIG9wdGlvbnMubnVtYmVyRm9ybWF0c1tsb2NhbGVdKSk7XG4gICAgfVxuICAgIHJldHVybiBnO1xufVxuXG4vKipcbiAqIEluamVjdGlvbiBrZXkgZm9yIHtAbGluayB1c2VJMThufVxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGUgZ2xvYmFsIGluamVjdGlvbiBrZXkgZm9yIEkxOG4gaW5zdGFuY2VzIHdpdGggYHVzZUkxOG5gLiB0aGlzIGluamVjdGlvbiBrZXkgaXMgdXNlZCBpbiBXZWIgQ29tcG9uZW50cy5cbiAqIFNwZWNpZnkgdGhlIGkxOG4gaW5zdGFuY2UgY3JlYXRlZCBieSB7QGxpbmsgY3JlYXRlSTE4bn0gdG9nZXRoZXIgd2l0aCBgcHJvdmlkZWAgZnVuY3Rpb24uXG4gKlxuICogQFZ1ZUkxOG5HZW5lcmFsXG4gKi9cbmNvbnN0IEkxOG5JbmplY3Rpb25LZXkgPSBcbi8qICNfX1BVUkVfXyovIG1ha2VTeW1ib2woJ2dsb2JhbC12dWUtaTE4bicpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIGNyZWF0ZUkxOG4ob3B0aW9ucyA9IHt9LCBWdWVJMThuTGVnYWN5KSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX19sZWdhY3lNb2RlID0gX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gJiYgaXNCb29sZWFuKG9wdGlvbnMubGVnYWN5KVxuICAgICAgICAgICAgPyBvcHRpb25zLmxlZ2FjeVxuICAgICAgICAgICAgOiBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXztcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfX2dsb2JhbEluamVjdGlvbiA9IGlzQm9vbGVhbihvcHRpb25zLmdsb2JhbEluamVjdGlvbilcbiAgICAgICAgPyBvcHRpb25zLmdsb2JhbEluamVjdGlvblxuICAgICAgICA6IHRydWU7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX19hbGxvd0NvbXBvc2l0aW9uID0gX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18gJiYgX19sZWdhY3lNb2RlXG4gICAgICAgICAgICA/ICEhb3B0aW9ucy5hbGxvd0NvbXBvc2l0aW9uXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgY29uc3QgX19pbnN0YW5jZXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgW2dsb2JhbFNjb3BlLCBfX2dsb2JhbF0gPSBjcmVhdGVHbG9iYWwob3B0aW9ucywgX19sZWdhY3lNb2RlKTtcbiAgICBjb25zdCBzeW1ib2wgPSAvKiAjX19QVVJFX18qLyBtYWtlU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICd2dWUtaTE4bicgOiAnJyk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBpZiAoX19sZWdhY3lNb2RlICYmIF9fYWxsb3dDb21wb3NpdGlvbiAmJiAhZmFsc2UpIHtcbiAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoSTE4bldhcm5Db2Rlcy5OT1RJQ0VfRFJPUF9BTExPV19DT01QT1NJVElPTikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9fZ2V0SW5zdGFuY2UoY29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiBfX2luc3RhbmNlcy5nZXQoY29tcG9uZW50KSB8fCBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfX3NldEluc3RhbmNlKGNvbXBvbmVudCwgaW5zdGFuY2UpIHtcbiAgICAgICAgX19pbnN0YW5jZXMuc2V0KGNvbXBvbmVudCwgaW5zdGFuY2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfX2RlbGV0ZUluc3RhbmNlKGNvbXBvbmVudCkge1xuICAgICAgICBfX2luc3RhbmNlcy5kZWxldGUoY29tcG9uZW50KTtcbiAgICB9XG4gICAge1xuICAgICAgICBjb25zdCBpMThuID0ge1xuICAgICAgICAgICAgLy8gbW9kZVxuICAgICAgICAgICAgZ2V0IG1vZGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICYmIF9fbGVnYWN5TW9kZVxuICAgICAgICAgICAgICAgICAgICA/ICdsZWdhY3knXG4gICAgICAgICAgICAgICAgICAgIDogJ2NvbXBvc2l0aW9uJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBhbGxvd0NvbXBvc2l0aW9uXG4gICAgICAgICAgICBnZXQgYWxsb3dDb21wb3NpdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hbGxvd0NvbXBvc2l0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGluc3RhbGwgcGx1Z2luXG4gICAgICAgICAgICBhc3luYyBpbnN0YWxsKGFwcCwgLi4ub3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiZcbiAgICAgICAgICAgICAgICAgICAgIWZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcC5fX1ZVRV9JMThOX18gPSBpMThuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzZXR1cCBnbG9iYWwgcHJvdmlkZXJcbiAgICAgICAgICAgICAgICBhcHAuX19WVUVfSTE4Tl9TWU1CT0xfXyA9IHN5bWJvbDtcbiAgICAgICAgICAgICAgICBhcHAucHJvdmlkZShhcHAuX19WVUVfSTE4Tl9TWU1CT0xfXywgaTE4bik7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGNvbXBvc2VyICYgdnVlaTE4biBleHRlbmQgaG9vayBvcHRpb25zIGZyb20gcGx1Z2luIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChvcHRpb25zWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRzID0gb3B0aW9uc1swXTtcbiAgICAgICAgICAgICAgICAgICAgaTE4bi5fX2NvbXBvc2VyRXh0ZW5kID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuX19jb21wb3NlckV4dGVuZDtcbiAgICAgICAgICAgICAgICAgICAgaTE4bi5fX3Z1ZUkxOG5FeHRlbmQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5fX3Z1ZUkxOG5FeHRlbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGdsb2JhbCBtZXRob2QgYW5kIHByb3BlcnRpZXMgaW5qZWN0aW9uIGZvciBDb21wb3NpdGlvbiBBUElcbiAgICAgICAgICAgICAgICBsZXQgZ2xvYmFsUmVsZWFzZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghX19sZWdhY3lNb2RlICYmIF9fZ2xvYmFsSW5qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFJlbGVhc2VIYW5kbGVyID0gaW5qZWN0R2xvYmFsRmllbGRzKGFwcCwgaTE4bi5nbG9iYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpbnN0YWxsIGJ1aWx0LWluIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZVxuICAgICAgICAgICAgICAgIGlmIChfX1ZVRV9JMThOX0ZVTExfSU5TVEFMTF9fKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5KGFwcCwgaTE4biwgLi4ub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNldHVwIG1peGluIGZvciBMZWdhY3kgQVBJXG4gICAgICAgICAgICAgICAgaWYgKF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fICYmIF9fbGVnYWN5TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBhcHAubWl4aW4oZGVmaW5lTWl4aW4oX19nbG9iYWwsIF9fZ2xvYmFsLl9fY29tcG9zZXIsIGkxOG4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVsZWFzZSBnbG9iYWwgc2NvcGVcbiAgICAgICAgICAgICAgICBjb25zdCB1bm1vdW50QXBwID0gYXBwLnVubW91bnQ7XG4gICAgICAgICAgICAgICAgYXBwLnVubW91bnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFJlbGVhc2VIYW5kbGVyICYmIGdsb2JhbFJlbGVhc2VIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGkxOG4uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB1bm1vdW50QXBwKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBzZXR1cCB2dWUtZGV2dG9vbHMgcGx1Z2luXG4gICAgICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiAhZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0ID0gYXdhaXQgZW5hYmxlRGV2VG9vbHMoYXBwLCBpMThuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5DQU5OT1RfU0VUVVBfVlVFX0RFVlRPT0xTX1BMVUdJTik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNyZWF0ZUVtaXR0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9fbGVnYWN5TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX3Z1ZUkxOG4gPSBfX2dsb2JhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92dWVJMThuLl9fZW5hYmxlRW1pdHRlciAmJiBfdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIoZW1pdHRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2NvbXBvc2VyID0gX19nbG9iYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0gJiYgX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdKGVtaXR0ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIub24oJyonLCBhZGRUaW1lbGluZUV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZ2xvYmFsIGFjY2Vzc29yXG4gICAgICAgICAgICBnZXQgZ2xvYmFsKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dsb2JhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgIGdsb2JhbFNjb3BlLnN0b3AoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBAaW50ZXJuYWxcbiAgICAgICAgICAgIF9faW5zdGFuY2VzLFxuICAgICAgICAgICAgLy8gQGludGVybmFsXG4gICAgICAgICAgICBfX2dldEluc3RhbmNlLFxuICAgICAgICAgICAgLy8gQGludGVybmFsXG4gICAgICAgICAgICBfX3NldEluc3RhbmNlLFxuICAgICAgICAgICAgLy8gQGludGVybmFsXG4gICAgICAgICAgICBfX2RlbGV0ZUluc3RhbmNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpMThuO1xuICAgIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiB1c2VJMThuKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKGluc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLk1VU1RfQkVfQ0FMTF9TRVRVUF9UT1ApO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlLmlzQ0UgJiZcbiAgICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5hcHAgIT0gbnVsbCAmJlxuICAgICAgICAhaW5zdGFuY2UuYXBwQ29udGV4dC5hcHAuX19WVUVfSTE4Tl9TWU1CT0xfXykge1xuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuTk9UX0lOU1RBTExFRCk7XG4gICAgfVxuICAgIGNvbnN0IGkxOG4gPSBnZXRJMThuSW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIGNvbnN0IGdsID0gZ2V0R2xvYmFsQ29tcG9zZXIoaTE4bik7XG4gICAgY29uc3QgY29tcG9uZW50T3B0aW9ucyA9IGdldENvbXBvbmVudE9wdGlvbnMoaW5zdGFuY2UpO1xuICAgIGNvbnN0IHNjb3BlID0gZ2V0U2NvcGUob3B0aW9ucywgY29tcG9uZW50T3B0aW9ucyk7XG4gICAgaWYgKF9fVlVFX0kxOE5fTEVHQUNZX0FQSV9fKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGlmIChpMThuLm1vZGUgPT09ICdsZWdhY3knICYmICFvcHRpb25zLl9fdXNlQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBpZiAoIWkxOG4uYWxsb3dDb21wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5OT1RfQVZBSUxBQkxFX0lOX0xFR0FDWV9NT0RFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1c2VJMThuRm9yTGVnYWN5KGluc3RhbmNlLCBzY29wZSwgZ2wsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzY29wZSA9PT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgYWRqdXN0STE4blJlc291cmNlcyhnbCwgb3B0aW9ucywgY29tcG9uZW50T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBnbDtcbiAgICB9XG4gICAgaWYgKHNjb3BlID09PSAncGFyZW50Jykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBsZXQgY29tcG9zZXIgPSBnZXRDb21wb3NlcihpMThuLCBpbnN0YW5jZSwgb3B0aW9ucy5fX3VzZUNvbXBvbmVudCk7XG4gICAgICAgIGlmIChjb21wb3NlciA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZShJMThuV2FybkNvZGVzLk5PVF9GT1VORF9QQVJFTlRfU0NPUEUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvc2VyID0gZ2w7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBvc2VyO1xuICAgIH1cbiAgICBjb25zdCBpMThuSW50ZXJuYWwgPSBpMThuO1xuICAgIGxldCBjb21wb3NlciA9IGkxOG5JbnRlcm5hbC5fX2dldEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBpZiAoY29tcG9zZXIgPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBjb21wb3Nlck9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBpZiAoJ19faTE4bicgaW4gY29tcG9uZW50T3B0aW9ucykge1xuICAgICAgICAgICAgY29tcG9zZXJPcHRpb25zLl9faTE4biA9IGNvbXBvbmVudE9wdGlvbnMuX19pMThuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgY29tcG9zZXJPcHRpb25zLl9fcm9vdCA9IGdsO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvc2VyID0gY3JlYXRlQ29tcG9zZXIoY29tcG9zZXJPcHRpb25zKTtcbiAgICAgICAgaWYgKGkxOG5JbnRlcm5hbC5fX2NvbXBvc2VyRXh0ZW5kKSB7XG4gICAgICAgICAgICBjb21wb3NlcltEaXNwb3NlU3ltYm9sXSA9XG4gICAgICAgICAgICAgICAgaTE4bkludGVybmFsLl9fY29tcG9zZXJFeHRlbmQoY29tcG9zZXIpO1xuICAgICAgICB9XG4gICAgICAgIHNldHVwTGlmZUN5Y2xlKGkxOG5JbnRlcm5hbCwgaW5zdGFuY2UsIGNvbXBvc2VyKTtcbiAgICAgICAgaTE4bkludGVybmFsLl9fc2V0SW5zdGFuY2UoaW5zdGFuY2UsIGNvbXBvc2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvc2VyO1xufVxuLyoqXG4gKiBDYXN0IHRvIFZ1ZUkxOG4gbGVnYWN5IGNvbXBhdGlibGUgdHlwZVxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIEFQSSBpcyBwcm92aWRlZCBvbmx5IHdpdGggW3Z1ZS1pMThuLWJyaWRnZV0oaHR0cHM6Ly92dWUtaTE4bi5pbnRsaWZ5LmRldi9ndWlkZS9taWdyYXRpb24vd2F5cy5odG1sI3doYXQtaXMtdnVlLWkxOG4tYnJpZGdlKS5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRvIGNvbnZlcnQgYW4ge0BsaW5rIEkxOG59IGluc3RhbmNlIGNyZWF0ZWQgd2l0aCB7QGxpbmsgY3JlYXRlSTE4biB8IGNyZWF0ZUkxOG4obGVnYWN5OiB0cnVlKX0gaW50byBhIGB2dWUtaTE4bkB2OC54YCBjb21wYXRpYmxlIGluc3RhbmNlIG9mIGBuZXcgVnVlSTE4bmAgaW4gYSBUeXBlU2NyaXB0IGVudmlyb25tZW50LlxuICpcbiAqIEBwYXJhbSBpMThuIC0gQW4gaW5zdGFuY2Ugb2Yge0BsaW5rIEkxOG59XG4gKiBAcmV0dXJucyBBIGkxOG4gaW5zdGFuY2Ugd2hpY2ggaXMgY2FzdGVkIHRvIHtAbGluayBWdWVJMThufSB0eXBlXG4gKlxuICogQFZ1ZUkxOG5UaXBcbiAqIDpuZXc6IHByb3ZpZGVkIGJ5ICoqdnVlLWkxOG4tYnJpZGdlIG9ubHkqKlxuICpcbiAqIEBWdWVJMThuR2VuZXJhbFxuICovXG4vKiAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuY29uc3QgY2FzdFRvVnVlSTE4biA9IChpMThuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSA9PiB7XG4gICAgaWYgKCEoX19WVUVfSTE4Tl9CUklER0VfXyBpbiBpMThuKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuTk9UX0NPTVBBVElCTEVfTEVHQUNZX1ZVRV9JMThOKTtcbiAgICB9XG4gICAgcmV0dXJuIGkxOG47XG59O1xuZnVuY3Rpb24gY3JlYXRlR2xvYmFsKG9wdGlvbnMsIGxlZ2FjeU1vZGUsIFZ1ZUkxOG5MZWdhY3kgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4pIHtcbiAgICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKCk7XG4gICAge1xuICAgICAgICBjb25zdCBvYmogPSBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAmJiBsZWdhY3lNb2RlXG4gICAgICAgICAgICA/IHNjb3BlLnJ1bigoKSA9PiBjcmVhdGVWdWVJMThuKG9wdGlvbnMpKVxuICAgICAgICAgICAgOiBzY29wZS5ydW4oKCkgPT4gY3JlYXRlQ29tcG9zZXIob3B0aW9ucykpO1xuICAgICAgICBpZiAob2JqID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcihJMThuRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3Njb3BlLCBvYmpdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEkxOG5JbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIHtcbiAgICAgICAgY29uc3QgaTE4biA9IGluamVjdCghaW5zdGFuY2UuaXNDRVxuICAgICAgICAgICAgPyBpbnN0YW5jZS5hcHBDb250ZXh0LmFwcC5fX1ZVRV9JMThOX1NZTUJPTF9fXG4gICAgICAgICAgICA6IEkxOG5JbmplY3Rpb25LZXkpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCFpMThuKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoIWluc3RhbmNlLmlzQ0VcbiAgICAgICAgICAgICAgICA/IEkxOG5FcnJvckNvZGVzLlVORVhQRUNURURfRVJST1JcbiAgICAgICAgICAgICAgICA6IEkxOG5FcnJvckNvZGVzLk5PVF9JTlNUQUxMRURfV0lUSF9QUk9WSURFKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTE4bjtcbiAgICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gZ2V0U2NvcGUob3B0aW9ucywgY29tcG9uZW50T3B0aW9ucykge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiBpc0VtcHR5T2JqZWN0KG9wdGlvbnMpXG4gICAgICAgID8gKCdfX2kxOG4nIGluIGNvbXBvbmVudE9wdGlvbnMpXG4gICAgICAgICAgICA/ICdsb2NhbCdcbiAgICAgICAgICAgIDogJ2dsb2JhbCdcbiAgICAgICAgOiAhb3B0aW9ucy51c2VTY29wZVxuICAgICAgICAgICAgPyAnbG9jYWwnXG4gICAgICAgICAgICA6IG9wdGlvbnMudXNlU2NvcGU7XG59XG5mdW5jdGlvbiBnZXRHbG9iYWxDb21wb3NlcihpMThuKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJ1xuICAgICAgICAgICAgPyBpMThuLmdsb2JhbFxuICAgICAgICAgICAgOiBpMThuLmdsb2JhbC5fX2NvbXBvc2VyXG4gICAgICAgIDtcbn1cbmZ1bmN0aW9uIGdldENvbXBvc2VyKGkxOG4sIHRhcmdldCwgdXNlQ29tcG9uZW50ID0gZmFsc2UpIHtcbiAgICBsZXQgY29tcG9zZXIgPSBudWxsO1xuICAgIGNvbnN0IHJvb3QgPSB0YXJnZXQucm9vdDtcbiAgICBsZXQgY3VycmVudCA9IGdldFBhcmVudENvbXBvbmVudEluc3RhbmNlKHRhcmdldCwgdXNlQ29tcG9uZW50KTtcbiAgICB3aGlsZSAoY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGkxOG5JbnRlcm5hbCA9IGkxOG47XG4gICAgICAgIGlmIChpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbicpIHtcbiAgICAgICAgICAgIGNvbXBvc2VyID0gaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX18pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2dWVJMThuID0gaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHZ1ZUkxOG4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb3NlciA9IHZ1ZUkxOG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5fX2NvbXBvc2VyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodXNlQ29tcG9uZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb3NlciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWNvbXBvc2VyW0luZWpjdFdpdGhPcHRpb25TeW1ib2xdIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvc2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcG9zZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvb3QgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvc2VyO1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50Q29tcG9uZW50SW5zdGFuY2UodGFyZ2V0LCB1c2VDb21wb25lbnQgPSBmYWxzZSkge1xuICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAge1xuICAgICAgICAvLyBpZiBgdXNlQ29tcG9uZW50OiB0cnVlYCB3aWxsIGJlIHNwZWNpZmllZCwgd2UgZ2V0IGxleGljYWwgc2NvcGUgb3duZXIgaW5zdGFuY2UgZm9yIHVzZS1jYXNlIHNsb3RzXG4gICAgICAgIHJldHVybiAhdXNlQ29tcG9uZW50XG4gICAgICAgICAgICA/IHRhcmdldC5wYXJlbnRcbiAgICAgICAgICAgIDogdGFyZ2V0LnZub2RlLmN0eCB8fCB0YXJnZXQucGFyZW50OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICB9XG59XG5mdW5jdGlvbiBzZXR1cExpZmVDeWNsZShpMThuLCB0YXJnZXQsIGNvbXBvc2VyKSB7XG4gICAgbGV0IGVtaXR0ZXIgPSBudWxsO1xuICAgIHtcbiAgICAgICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGluamVjdCBjb21wb3NlciBpbnN0YW5jZSB0byBET00gZm9yIGludGxpZnktZGV2dG9vbHNcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiZcbiAgICAgICAgICAgICAgICAhZmFsc2UgJiZcbiAgICAgICAgICAgICAgICB0YXJnZXQudm5vZGUuZWwpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQudm5vZGUuZWwuX19WVUVfSTE4Tl9fID0gY29tcG9zZXI7XG4gICAgICAgICAgICAgICAgZW1pdHRlciA9IGNyZWF0ZUVtaXR0ZXIoKTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIGNvbnN0IF9jb21wb3NlciA9IGNvbXBvc2VyO1xuICAgICAgICAgICAgICAgIF9jb21wb3NlcltFbmFibGVFbWl0dGVyXSAmJiBfY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0oZW1pdHRlcik7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5vbignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0YXJnZXQpO1xuICAgICAgICBvblVubW91bnRlZCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgY29uc3QgX2NvbXBvc2VyID0gY29tcG9zZXI7XG4gICAgICAgICAgICAvLyByZW1vdmUgY29tcG9zZXIgaW5zdGFuY2UgZnJvbSBET00gZm9yIGludGxpZnktZGV2dG9vbHNcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiZcbiAgICAgICAgICAgICAgICAhZmFsc2UgJiZcbiAgICAgICAgICAgICAgICB0YXJnZXQudm5vZGUuZWwgJiZcbiAgICAgICAgICAgICAgICB0YXJnZXQudm5vZGUuZWwuX19WVUVfSTE4Tl9fKSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlciAmJiBlbWl0dGVyLm9mZignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xuICAgICAgICAgICAgICAgIF9jb21wb3NlcltEaXNhYmxlRW1pdHRlcl0gJiYgX2NvbXBvc2VyW0Rpc2FibGVFbWl0dGVyXSgpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXQudm5vZGUuZWwuX19WVUVfSTE4Tl9fO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaTE4bi5fX2RlbGV0ZUluc3RhbmNlKHRhcmdldCk7XG4gICAgICAgICAgICAvLyBkaXNwb3NlIGV4dGVuZGVkIHJlc291cmNlc1xuICAgICAgICAgICAgY29uc3QgZGlzcG9zZSA9IF9jb21wb3NlcltEaXNwb3NlU3ltYm9sXTtcbiAgICAgICAgICAgIGlmIChkaXNwb3NlKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfY29tcG9zZXJbRGlzcG9zZVN5bWJvbF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRhcmdldCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdXNlSTE4bkZvckxlZ2FjeShpbnN0YW5jZSwgc2NvcGUsIHJvb3QsIG9wdGlvbnMgPSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbikge1xuICAgIGNvbnN0IGlzTG9jYWxTY29wZSA9IHNjb3BlID09PSAnbG9jYWwnO1xuICAgIGNvbnN0IF9jb21wb3NlciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gICAgaWYgKGlzTG9jYWxTY29wZSAmJlxuICAgICAgICBpbnN0YW5jZS5wcm94eSAmJlxuICAgICAgICAhKGluc3RhbmNlLnByb3h5LiRvcHRpb25zLmkxOG4gfHwgaW5zdGFuY2UucHJveHkuJG9wdGlvbnMuX19pMThuKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuTVVTVF9ERUZJTkVfSTE4Tl9PUFRJT05fSU5fQUxMT1dfQ09NUE9TSVRJT04pO1xuICAgIH1cbiAgICBjb25zdCBfaW5oZXJpdExvY2FsZSA9IGlzQm9vbGVhbihvcHRpb25zLmluaGVyaXRMb2NhbGUpXG4gICAgICAgID8gb3B0aW9ucy5pbmhlcml0TG9jYWxlXG4gICAgICAgIDogIWlzU3RyaW5nKG9wdGlvbnMubG9jYWxlKTtcbiAgICBjb25zdCBfbG9jYWxlID0gcmVmKFxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICFpc0xvY2FsU2NvcGUgfHwgX2luaGVyaXRMb2NhbGVcbiAgICAgICAgPyByb290LmxvY2FsZS52YWx1ZVxuICAgICAgICA6IGlzU3RyaW5nKG9wdGlvbnMubG9jYWxlKVxuICAgICAgICAgICAgPyBvcHRpb25zLmxvY2FsZVxuICAgICAgICAgICAgOiBERUZBVUxUX0xPQ0FMRSk7XG4gICAgY29uc3QgX2ZhbGxiYWNrTG9jYWxlID0gcmVmKFxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICFpc0xvY2FsU2NvcGUgfHwgX2luaGVyaXRMb2NhbGVcbiAgICAgICAgPyByb290LmZhbGxiYWNrTG9jYWxlLnZhbHVlXG4gICAgICAgIDogaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgICAgIGlzQXJyYXkob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcbiAgICAgICAgICAgIG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUgPT09IGZhbHNlXG4gICAgICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGVcbiAgICAgICAgICAgIDogX2xvY2FsZS52YWx1ZSk7XG4gICAgY29uc3QgX21lc3NhZ2VzID0gcmVmKGdldExvY2FsZU1lc3NhZ2VzKF9sb2NhbGUudmFsdWUsIG9wdGlvbnMpKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfZGF0ZXRpbWVGb3JtYXRzID0gcmVmKGlzUGxhaW5PYmplY3Qob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpXG4gICAgICAgID8gb3B0aW9ucy5kYXRldGltZUZvcm1hdHNcbiAgICAgICAgOiB7IFtfbG9jYWxlLnZhbHVlXToge30gfSk7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX251bWJlckZvcm1hdHMgPSByZWYoaXNQbGFpbk9iamVjdChvcHRpb25zLm51bWJlckZvcm1hdHMpXG4gICAgICAgID8gb3B0aW9ucy5udW1iZXJGb3JtYXRzXG4gICAgICAgIDogeyBbX2xvY2FsZS52YWx1ZV06IHt9IH0pO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9taXNzaW5nV2FybiA9IGlzTG9jYWxTY29wZVxuICAgICAgICA/IHJvb3QubWlzc2luZ1dhcm5cbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybikgfHwgaXNSZWdFeHAob3B0aW9ucy5taXNzaW5nV2FybilcbiAgICAgICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9mYWxsYmFja1dhcm4gPSBpc0xvY2FsU2NvcGVcbiAgICAgICAgPyByb290LmZhbGxiYWNrV2FyblxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybikgfHwgaXNSZWdFeHAob3B0aW9ucy5mYWxsYmFja1dhcm4pXG4gICAgICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX2ZhbGxiYWNrUm9vdCA9IGlzTG9jYWxTY29wZVxuICAgICAgICA/IHJvb3QuZmFsbGJhY2tSb290XG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMuZmFsbGJhY2tSb290KVxuICAgICAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrUm9vdFxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIC8vIGNvbmZpZ3VyZSBmYWxsIGJhY2sgdG8gcm9vdFxuICAgIGNvbnN0IF9mYWxsYmFja0Zvcm1hdCA9ICEhb3B0aW9ucy5mYWxsYmFja0Zvcm1hdDtcbiAgICAvLyBydW50aW1lIG1pc3NpbmdcbiAgICBjb25zdCBfbWlzc2luZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5taXNzaW5nKSA/IG9wdGlvbnMubWlzc2luZyA6IG51bGw7XG4gICAgLy8gcG9zdFRyYW5zbGF0aW9uIGhhbmRsZXJcbiAgICBjb25zdCBfcG9zdFRyYW5zbGF0aW9uID0gaXNGdW5jdGlvbihvcHRpb25zLnBvc3RUcmFuc2xhdGlvbilcbiAgICAgICAgPyBvcHRpb25zLnBvc3RUcmFuc2xhdGlvblxuICAgICAgICA6IG51bGw7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgX3dhcm5IdG1sTWVzc2FnZSA9IGlzTG9jYWxTY29wZVxuICAgICAgICA/IHJvb3Qud2Fybkh0bWxNZXNzYWdlXG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlKVxuICAgICAgICAgICAgPyBvcHRpb25zLndhcm5IdG1sTWVzc2FnZVxuICAgICAgICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IF9lc2NhcGVQYXJhbWV0ZXIgPSAhIW9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF9tb2RpZmllcnMgPSBpc0xvY2FsU2NvcGVcbiAgICAgICAgPyByb290Lm1vZGlmaWVyc1xuICAgICAgICA6IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5tb2RpZmllcnMpXG4gICAgICAgICAgICA/IG9wdGlvbnMubW9kaWZpZXJzXG4gICAgICAgICAgICA6IHt9O1xuICAgIC8vIHBsdXJhbFJ1bGVzXG4gICAgY29uc3QgX3BsdXJhbFJ1bGVzID0gb3B0aW9ucy5wbHVyYWxSdWxlcyB8fCAoaXNMb2NhbFNjb3BlICYmIHJvb3QucGx1cmFsUnVsZXMpO1xuICAgIC8vIHRyYWNrIHJlYWN0aXZpdHlcbiAgICBmdW5jdGlvbiB0cmFja1JlYWN0aXZpdHlWYWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBfbG9jYWxlLnZhbHVlLFxuICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlLFxuICAgICAgICAgICAgX21lc3NhZ2VzLnZhbHVlLFxuICAgICAgICAgICAgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSxcbiAgICAgICAgICAgIF9udW1iZXJGb3JtYXRzLnZhbHVlXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8vIGxvY2FsZVxuICAgIGNvbnN0IGxvY2FsZSA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmxvY2FsZS52YWx1ZSA6IF9sb2NhbGUudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogdmFsID0+IHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUubG9jYWxlLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGZhbGxiYWNrTG9jYWxlXG4gICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBjb21wdXRlZCh7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgICAgID8gX2NvbXBvc2VyLnZhbHVlLmZhbGxiYWNrTG9jYWxlLnZhbHVlXG4gICAgICAgICAgICAgICAgOiBfZmFsbGJhY2tMb2NhbGUudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogdmFsID0+IHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuZmFsbGJhY2tMb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBtZXNzYWdlc1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZS5tZXNzYWdlcy52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICByZXR1cm4gX21lc3NhZ2VzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZGF0ZXRpbWVGb3JtYXRzID0gY29tcHV0ZWQoKCkgPT4gX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSk7XG4gICAgY29uc3QgbnVtYmVyRm9ybWF0cyA9IGNvbXB1dGVkKCgpID0+IF9udW1iZXJGb3JtYXRzLnZhbHVlKTtcbiAgICBmdW5jdGlvbiBnZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKCkge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICA/IF9jb21wb3Nlci52YWx1ZS5nZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKClcbiAgICAgICAgICAgIDogX3Bvc3RUcmFuc2xhdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5zZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE1pc3NpbmdIYW5kbGVyKCkge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmdldE1pc3NpbmdIYW5kbGVyKCkgOiBfbWlzc2luZztcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0TWlzc2luZ0hhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuc2V0TWlzc2luZ0hhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gd2FycFdpdGhEZXBzKGZuKSB7XG4gICAgICAgIHRyYWNrUmVhY3Rpdml0eVZhbHVlcygpO1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdCguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgID8gd2FycFdpdGhEZXBzKCgpID0+IFJlZmxlY3QuYXBwbHkoX2NvbXBvc2VyLnZhbHVlLnQsIG51bGwsIFsuLi5hcmdzXSkpXG4gICAgICAgICAgICA6IHdhcnBXaXRoRGVwcygoKSA9PiAnJyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ0KC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZVxuICAgICAgICAgICAgPyBSZWZsZWN0LmFwcGx5KF9jb21wb3Nlci52YWx1ZS5ydCwgbnVsbCwgWy4uLmFyZ3NdKVxuICAgICAgICAgICAgOiAnJztcbiAgICB9XG4gICAgZnVuY3Rpb24gZCguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgID8gd2FycFdpdGhEZXBzKCgpID0+IFJlZmxlY3QuYXBwbHkoX2NvbXBvc2VyLnZhbHVlLmQsIG51bGwsIFsuLi5hcmdzXSkpXG4gICAgICAgICAgICA6IHdhcnBXaXRoRGVwcygoKSA9PiAnJyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG4oLi4uYXJncykge1xuICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICA/IHdhcnBXaXRoRGVwcygoKSA9PiBSZWZsZWN0LmFwcGx5KF9jb21wb3Nlci52YWx1ZS5uLCBudWxsLCBbLi4uYXJnc10pKVxuICAgICAgICAgICAgOiB3YXJwV2l0aERlcHMoKCkgPT4gJycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0bShrZXkpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS50bShrZXkpIDoge307XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlKGtleSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUudGUoa2V5LCBsb2NhbGUpIDogZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExvY2FsZU1lc3NhZ2UobG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuZ2V0TG9jYWxlTWVzc2FnZShsb2NhbGUpIDoge307XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldExvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5zZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICBfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSA9IG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICBfY29tcG9zZXIudmFsdWUubWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlKSA6IHt9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXREYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xuICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xuICAgICAgICAgICAgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gZm9ybWF0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLm1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE51bWJlckZvcm1hdChsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5nZXROdW1iZXJGb3JtYXQobG9jYWxlKSA6IHt9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXROdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLnNldE51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XG4gICAgICAgICAgICBfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gZm9ybWF0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KSB7XG4gICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5tZXJnZU51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd3JhcHBlciA9IHtcbiAgICAgICAgZ2V0IGlkKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5pZCA6IC0xO1xuICAgICAgICB9LFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgZGF0ZXRpbWVGb3JtYXRzLFxuICAgICAgICBudW1iZXJGb3JtYXRzLFxuICAgICAgICBnZXQgaW5oZXJpdExvY2FsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuaW5oZXJpdExvY2FsZSA6IF9pbmhlcml0TG9jYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgaW5oZXJpdExvY2FsZSh2YWwpIHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUuaW5oZXJpdExvY2FsZSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGF2YWlsYWJsZUxvY2FsZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlXG4gICAgICAgICAgICAgICAgPyBfY29tcG9zZXIudmFsdWUuYXZhaWxhYmxlTG9jYWxlc1xuICAgICAgICAgICAgICAgIDogT2JqZWN0LmtleXMoX21lc3NhZ2VzLnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IG1vZGlmaWVycygpIHtcbiAgICAgICAgICAgIHJldHVybiAoX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLm1vZGlmaWVycyA6IF9tb2RpZmllcnMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgcGx1cmFsUnVsZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gKF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5wbHVyYWxSdWxlcyA6IF9wbHVyYWxSdWxlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBpc0dsb2JhbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuaXNHbG9iYWwgOiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IG1pc3NpbmdXYXJuKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5taXNzaW5nV2FybiA6IF9taXNzaW5nV2FybjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IG1pc3NpbmdXYXJuKHZhbCkge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5taXNzaW5nV2FybiA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGZhbGxiYWNrV2FybigpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWUgPyBfY29tcG9zZXIudmFsdWUuZmFsbGJhY2tXYXJuIDogX2ZhbGxiYWNrV2FybjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGZhbGxiYWNrV2Fybih2YWwpIHtcbiAgICAgICAgICAgIGlmIChfY29tcG9zZXIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfY29tcG9zZXIudmFsdWUubWlzc2luZ1dhcm4gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBmYWxsYmFja1Jvb3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbXBvc2VyLnZhbHVlID8gX2NvbXBvc2VyLnZhbHVlLmZhbGxiYWNrUm9vdCA6IF9mYWxsYmFja1Jvb3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBmYWxsYmFja1Jvb3QodmFsKSB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLmZhbGxiYWNrUm9vdCA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGZhbGxiYWNrRm9ybWF0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb21wb3Nlci52YWx1ZSA/IF9jb21wb3Nlci52YWx1ZS5mYWxsYmFja0Zvcm1hdCA6IF9mYWxsYmFja0Zvcm1hdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGZhbGxiYWNrRm9ybWF0KHZhbCkge1xuICAgICAgICAgICAgaWYgKF9jb21wb3Nlci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9jb21wb3Nlci52YWx1ZS5mYWxsYmFja0Zvcm1hdCA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHdhcm5IdG1sTWVzc2FnZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgICAgICA/IF9jb21wb3Nlci52YWx1ZS53YXJuSHRtbE1lc3NhZ2VcbiAgICAgICAgICAgICAgICA6IF93YXJuSHRtbE1lc3NhZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCB3YXJuSHRtbE1lc3NhZ2UodmFsKSB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLndhcm5IdG1sTWVzc2FnZSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGVzY2FwZVBhcmFtZXRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29tcG9zZXIudmFsdWVcbiAgICAgICAgICAgICAgICA/IF9jb21wb3Nlci52YWx1ZS5lc2NhcGVQYXJhbWV0ZXJcbiAgICAgICAgICAgICAgICA6IF9lc2NhcGVQYXJhbWV0ZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBlc2NhcGVQYXJhbWV0ZXIodmFsKSB7XG4gICAgICAgICAgICBpZiAoX2NvbXBvc2VyLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX2NvbXBvc2VyLnZhbHVlLmVzY2FwZVBhcmFtZXRlciA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdCxcbiAgICAgICAgZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcixcbiAgICAgICAgc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcixcbiAgICAgICAgZ2V0TWlzc2luZ0hhbmRsZXIsXG4gICAgICAgIHNldE1pc3NpbmdIYW5kbGVyLFxuICAgICAgICBydCxcbiAgICAgICAgZCxcbiAgICAgICAgbixcbiAgICAgICAgdG0sXG4gICAgICAgIHRlLFxuICAgICAgICBnZXRMb2NhbGVNZXNzYWdlLFxuICAgICAgICBzZXRMb2NhbGVNZXNzYWdlLFxuICAgICAgICBtZXJnZUxvY2FsZU1lc3NhZ2UsXG4gICAgICAgIGdldERhdGVUaW1lRm9ybWF0LFxuICAgICAgICBzZXREYXRlVGltZUZvcm1hdCxcbiAgICAgICAgbWVyZ2VEYXRlVGltZUZvcm1hdCxcbiAgICAgICAgZ2V0TnVtYmVyRm9ybWF0LFxuICAgICAgICBzZXROdW1iZXJGb3JtYXQsXG4gICAgICAgIG1lcmdlTnVtYmVyRm9ybWF0XG4gICAgfTtcbiAgICBmdW5jdGlvbiBzeW5jKGNvbXBvc2VyKSB7XG4gICAgICAgIGNvbXBvc2VyLmxvY2FsZS52YWx1ZSA9IF9sb2NhbGUudmFsdWU7XG4gICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlID0gX2ZhbGxiYWNrTG9jYWxlLnZhbHVlO1xuICAgICAgICBPYmplY3Qua2V5cyhfbWVzc2FnZXMudmFsdWUpLmZvckVhY2gobG9jYWxlID0+IHtcbiAgICAgICAgICAgIGNvbXBvc2VyLm1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKF9kYXRldGltZUZvcm1hdHMudmFsdWUpLmZvckVhY2gobG9jYWxlID0+IHtcbiAgICAgICAgICAgIGNvbXBvc2VyLm1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmtleXMoX251bWJlckZvcm1hdHMudmFsdWUpLmZvckVhY2gobG9jYWxlID0+IHtcbiAgICAgICAgICAgIGNvbXBvc2VyLm1lcmdlTnVtYmVyRm9ybWF0KGxvY2FsZSwgX251bWJlckZvcm1hdHMudmFsdWVbbG9jYWxlXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb21wb3Nlci5lc2NhcGVQYXJhbWV0ZXIgPSBfZXNjYXBlUGFyYW1ldGVyO1xuICAgICAgICBjb21wb3Nlci5mYWxsYmFja0Zvcm1hdCA9IF9mYWxsYmFja0Zvcm1hdDtcbiAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tSb290ID0gX2ZhbGxiYWNrUm9vdDtcbiAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tXYXJuID0gX2ZhbGxiYWNrV2FybjtcbiAgICAgICAgY29tcG9zZXIubWlzc2luZ1dhcm4gPSBfbWlzc2luZ1dhcm47XG4gICAgICAgIGNvbXBvc2VyLndhcm5IdG1sTWVzc2FnZSA9IF93YXJuSHRtbE1lc3NhZ2U7XG4gICAgfVxuICAgIG9uQmVmb3JlTW91bnQoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UucHJveHkgPT0gbnVsbCB8fCBpbnN0YW5jZS5wcm94eS4kaTE4biA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuTk9UX0FWQUlMQUJMRV9DT01QT1NJVElPTl9JTl9MRUdBQ1kpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IGNvbXBvc2VyID0gKF9jb21wb3Nlci52YWx1ZSA9IGluc3RhbmNlLnByb3h5LiRpMThuXG4gICAgICAgICAgICAuX19jb21wb3Nlcik7XG4gICAgICAgIGlmIChzY29wZSA9PT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgICAgIF9sb2NhbGUudmFsdWUgPSBjb21wb3Nlci5sb2NhbGUudmFsdWU7XG4gICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUgPSBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZTtcbiAgICAgICAgICAgIF9tZXNzYWdlcy52YWx1ZSA9IGNvbXBvc2VyLm1lc3NhZ2VzLnZhbHVlO1xuICAgICAgICAgICAgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSA9IGNvbXBvc2VyLmRhdGV0aW1lRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgICAgIF9udW1iZXJGb3JtYXRzLnZhbHVlID0gY29tcG9zZXIubnVtYmVyRm9ybWF0cy52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xvY2FsU2NvcGUpIHtcbiAgICAgICAgICAgIHN5bmMoY29tcG9zZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHdyYXBwZXI7XG59XG5jb25zdCBnbG9iYWxFeHBvcnRQcm9wcyA9IFtcbiAgICAnbG9jYWxlJyxcbiAgICAnZmFsbGJhY2tMb2NhbGUnLFxuICAgICdhdmFpbGFibGVMb2NhbGVzJ1xuXTtcbmNvbnN0IGdsb2JhbEV4cG9ydE1ldGhvZHMgPSBbJ3QnLCAncnQnLCAnZCcsICduJywgJ3RtJywgJ3RlJ11cbiAgICA7XG5mdW5jdGlvbiBpbmplY3RHbG9iYWxGaWVsZHMoYXBwLCBjb21wb3Nlcikge1xuICAgIGNvbnN0IGkxOG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGdsb2JhbEV4cG9ydFByb3BzLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbXBvc2VyLCBwcm9wKTtcbiAgICAgICAgaWYgKCFkZXNjKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoSTE4bkVycm9yQ29kZXMuVU5FWFBFQ1RFRF9FUlJPUik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzUmVmKGRlc2MudmFsdWUpIC8vIGNoZWNrIGNvbXB1dGVkIHByb3BzXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjLnZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBzZXQodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2MudmFsdWUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzYy5nZXQgJiYgZGVzYy5nZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaTE4biwgcHJvcCwgd3JhcCk7XG4gICAgfSk7XG4gICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRpMThuID0gaTE4bjtcbiAgICBnbG9iYWxFeHBvcnRNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcbiAgICAgICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29tcG9zZXIsIG1ldGhvZCk7XG4gICAgICAgIGlmICghZGVzYyB8fCAhZGVzYy52YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKEkxOG5FcnJvckNvZGVzLlVORVhQRUNURURfRVJST1IpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGAkJHttZXRob2R9YCwgZGVzYyk7XG4gICAgfSk7XG4gICAgY29uc3QgZGlzcG9zZSA9ICgpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgZGVsZXRlIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kaTE4bjtcbiAgICAgICAgZ2xvYmFsRXhwb3J0TWV0aG9kcy5mb3JFYWNoKG1ldGhvZCA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgZGVsZXRlIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllc1tgJCR7bWV0aG9kfWBdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBkaXNwb3NlO1xufVxuXG57XG4gICAgaW5pdEZlYXR1cmVGbGFncygpO1xufVxuLy8gcmVnaXN0ZXIgbWVzc2FnZSBjb21waWxlciBhdCB2dWUtaTE4blxuaWYgKF9fSU5UTElGWV9KSVRfQ09NUElMQVRJT05fXykge1xuICAgIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyKGNvbXBpbGUpO1xufVxuZWxzZSB7XG4gICAgcmVnaXN0ZXJNZXNzYWdlQ29tcGlsZXIoY29tcGlsZVRvRnVuY3Rpb24pO1xufVxuLy8gcmVnaXN0ZXIgbWVzc2FnZSByZXNvbHZlciBhdCB2dWUtaTE4blxucmVnaXN0ZXJNZXNzYWdlUmVzb2x2ZXIocmVzb2x2ZVZhbHVlKTtcbi8vIHJlZ2lzdGVyIGZhbGxiYWNrIGxvY2FsZSBhdCB2dWUtaTE4blxucmVnaXN0ZXJMb2NhbGVGYWxsYmFja2VyKGZhbGxiYWNrV2l0aExvY2FsZUNoYWluKTtcbi8vIE5PVEU6IGV4cGVyaW1lbnRhbCAhIVxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xuICAgIHRhcmdldC5fX0lOVExJRllfXyA9IHRydWU7XG4gICAgc2V0RGV2VG9vbHNIb29rKHRhcmdldC5fX0lOVExJRllfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyk7XG59XG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSA7XG5cbmV4cG9ydCB7IERhdGV0aW1lRm9ybWF0LCBJMThuRCwgSTE4bkluamVjdGlvbktleSwgSTE4bk4sIEkxOG5ULCBOdW1iZXJGb3JtYXQsIFRyYW5zbGF0aW9uLCBWRVJTSU9OLCBjYXN0VG9WdWVJMThuLCBjcmVhdGVJMThuLCB1c2VJMThuLCB2VERpcmVjdGl2ZSB9O1xuIiwiPHRlbXBsYXRlPlxuICA8aGVhZGVyPlxuICAgIDxsYWJlbCBmb3I9XCJsYW5ndWFnZVwiPuivreiogO+8mjwvbGFiZWw+XG4gICAgPHNlbGVjdCB2LW1vZGVsPVwibGFuZ1wiIG5hbWU9XCLor63oqIBcIiBpZD1cImxhbmd1YWdlXCIgQGNoYW5nZT1cImNoYW5nZUxhbmd1YWdlKCRldmVudClcIj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCJ6aC1DTlwiPuS4reaWhzwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiB2YWx1ZT1cImVuLVVTXCI+RW5nbGlzaDwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuICAgIDxsYWJlbCBmb3I9XCJ0aGVtZVwiPuS4u+mimO+8mjwvbGFiZWw+XG4gICAgPHNlbGVjdCB2LW1vZGVsPVwidGhlbWVcIiBuYW1lPVwi5Li76aKYXCIgaWQ9XCJ0aGVtZVwiIEBjaGFuZ2U9XCJjaGFuZ2VUaGVtZSgkZXZlbnQpXCI+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwibGlnaHRcIj7mtYXoibI8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCJkYXJrXCI+5rex6ImyPC9vcHRpb24+XG4gICAgPC9zZWxlY3Q+XG4gIDwvaGVhZGVyPlxuICA8ZGl2IGNsYXNzPVwiY3VycmljdWx1bV92aXRhZVwiPlxuICAgIDxkaXYgY2xhc3M9XCJzdGlja3lfdGl0bGVcIj5cbiAgICAgIDxoND57eyAkdChwZXJzb25hbEluZi50aXRsZSkgfX08L2g0PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtb2R1bGVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbmZvX2l0ZW1cIiB2LWZvcj1cIihpdGVtLCBpbmRleCkgaW4gcGVyc29uYWxJbmYuY29udGVudFwiIDprZXk9XCJpbmRleFwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsXCI+e3skdChpdGVtLmxhYmVsKX19Ojwvc3Bhbj5cbiAgICAgICAgPHNwYW4+e3sgJHQoaXRlbS52YWx1ZSl9fTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzdGlja3lfdGl0bGVcIj5cbiAgICAgIDxoND57eyAkdChza2lsbEludHJvLnRpdGxlKSB9fTwvaDQ+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1vZHVsZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInNraWxsX2l0ZW1cIiB2LWZvcj1cIihpdGVtLCBpbmRleCkgaW4gc2tpbGxJbnRyby5jb250ZW50XCI+XG4gICAgICAgIHt7aW5kZXgrMX19Ont7ICR0KGl0ZW0ubGFiZWwpIH19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic3RpY2t5X3RpdGxlXCI+XG4gICAgICA8aDQ+5bel5L2c57uP5Y6GPC9oND5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibW9kdWxlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiam9iX2l0ZW1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl90aXRsZVwiPuWMl+S6rOWNl+WkqeS/oeaBrzwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfdGltZVwiPjIwMjMuMDIuMjc8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4tPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfdGltZVwiPuiHs+S7ijwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMS7kuLvopoHotJ/otKPkuK3pk7bph5Hnp5Hlj4rova/ku7bkuK3lv4PliY3nq6/lvIDlj5FcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMi7mioDmnK/moIjvvJpWdWXjgIFFbGVtZW50IFVp44CBbWljcm8tYXBw5b6u5YmN56uv5qGG5p62XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl9jb250ZW50X2l0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDMu5byA5Y+R55qE6aG555uu5pyJ5LyB5p6244CBQ09NU+OAgUNPU1NfSkvjgIFjY3BzYm5k5b6B5L+h44CB6KGM5a6277yI56e75Yqo56uv77yJ562JXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImpvYl9pdGVtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl9oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl90aXRsZVwiPuWMl+S6rOS4rei9r+WbvemZheenkeaKgOacjeWKoeaciemZkOWFrOWPuDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX3RpbWVcIj4yMDIwLjEyPC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuPi08L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfdGltZVwiPjIwMjMuMjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfY29udGVudFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMS7kuLvopoHotJ/otKPlubPlronlo7notKbpgJrmlbDmja7mnrbmnoTnu4TliY3nq6/lvIDlj5Hlubblkozkuqflk4HlhYXliIbmsp/pgJrov5vooYzov63ku6PlvIDlj5FcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfY29udGVudF9pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAyLuaKgOacr+agiO+8mlZ1ZeOAgUVsZW1lbnRVaeOAgUVjaGFydHPjgIFTcHJlYWRKc+OAgUFudHYtZzLjgIFBbnR2LWc2562JXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMy7lvIDlj5HnmoTpobnnm67mnIlSTVPjgIHmlbDmja7loavmiqXjgIHmlbDmja7ono3lkIjjgIHmoIfnrb7nrqHnkIbjgIHmlbDmja7mtYHorqHnrpfnrYlcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJqb2JfaXRlbVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfaGVhZGVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfdGl0bGVcIj7kuIrmtbfkuJzmlrnluIzmnbDllYbliqHmnInpmZDlhazlj7g8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl90aW1lXCI+MjAyMC42PC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuPi08L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfdGltZVwiPjIwMjAuMTE8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl9jb250ZW50X2l0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDEu5Li76KaB6LSf6LSj5Lic5pa56LSt54mp5a6Y572R5ZKMTW9iaWxlV2Vi5Lit5ZWG5ZOB6K+m5oOF5qih5p2/55qE5byA5Y+RXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMi7mioDmnK/moIjvvJpWdWXjgIFWYW50562JXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMy7otJ/otKPllYblk4Hor6bmg4VTS1XjgIHllYblk4Hnm7Tmkq3nrYnmqKHlnZflj4pJT1Plkozljp/nlJ/nmoTpobXpnaLltYzlpZflt6XkvZxcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJqb2JfaXRlbVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfaGVhZGVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfdGl0bGVcIj7oi4/lt57ph4flvq7kupLogZTnp5HmioDmnInpmZDlhazlj7g8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl90aW1lXCI+MjAxOS40PC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuPi08L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfdGltZVwiPjIwMjAuMjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfY29udGVudFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMS7kuLvopoHotJ/otKPph4flvq7kvpvlupTpk77ns7vnu5/kuK3ku5PlupPnrqHnkIblkozlrrnlmajnrqHnkIbmqKHlnZdcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfY29udGVudF9pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAyLuaKgOacr+agiO+8mlZ1ZeOAgUVsZW1lbnRVaeOAgeW+ruS/oeWwj+eoi+W6j+etiVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImpvYl9pdGVtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl9oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpvYl90aXRsZVwiPuays+WNl+i2heaehOe9kee7nOenkeaKgOaciemZkOWFrOWPuDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX3RpbWVcIj4yMDE3LjEyPC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuPi08L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfdGltZVwiPjIwMTkuMjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfY29udGVudFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMS7kuLvopoHotJ/otKPlvIDlj5HkvIHkuJrlrpjnvZHlubblj4LkuI7lkI7lj7DnrqHnkIbns7vnu5/nmoTlvIDlj5FcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqb2JfY29udGVudF9pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAyLuaKgOacr+agiO+8mlZ1ZeOAgWlWaWV3XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiam9iX2NvbnRlbnRfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgMy7otJ/otKPllYblk4Hor6bmg4VTS1XjgIHllYblk4Hnm7Tmkq3nrYnmqKHlnZflj4pJT1Plkozljp/nlJ/nmoTpobXpnaLltYzlpZflt6XkvZxcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic3RpY2t5X3RpdGxlXCI+XG4gICAgICA8aDQ+6aG555uu57uP6aqMPC9oND5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibW9kdWxlXCI+XG4gICAgICBlcmHkuK3pk7bpppnmuK/pobnnm64tLTIwMjPlubQxMOaciOW6lVxuICAgICAg57u85ZCI57uP6JCl5pyN5Yqh566h55CGQ09NUy0tMjAyM+W5tDEx5pyIXG4gICAgICBDT1NTX0pLXG4gICAgICBjY3BzYm5kLS3lvoHkv6FcbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuPHNjcmlwdCBzZXR1cD5cbmltcG9ydCByZXN1bWVEYXRhIGZyb20gJ0AvdXRpbHMvcmVzdW1lLmpzJ1xuaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAndnVlLWkxOG4nXG5jb25zdCB7IGxvY2FsZSB9ID0gdXNlSTE4bigpXG4vLyDkuKrkurrkv6Hmga9cbmNvbnN0IHBlcnNvbmFsSW5mID0gcmVzdW1lRGF0YS5wZXJzb25hbEluZm9ybWF0aW9uXG4vLyDmioDog73ku4vnu41cbmNvbnN0IHNraWxsSW50cm8gPSByZXN1bWVEYXRhLnNraWxsSW50cm9kdWN0aW9uXG5cbi8vIOivreiogFxuY29uc3QgbGFuZyA9IHJlZignemgtQ04nKVxuLy8g5Li76aKYXG5jb25zdCB0aGVtZSA9IHJlZignbGlnaHQnKVxuXG4vLyDor63oqIDliIfmjaJcbmNvbnN0IGNoYW5nZUxhbmd1YWdlID0gKGV2ZW50KT0+e1xuICBjb25zdCBsYW5nID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gIGxvY2FsZS52YWx1ZSA9IGxhbmdcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnbGFuZycsIGxhbmcpXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYW5nJywgbGFuZylcbn1cbi8vIOS4u+mimOWIh+aNolxuY29uc3QgY2hhbmdlVGhlbWUgPSAoZXZlbnQpID0+IHtcbiAgY29uc3QgdGhlbWUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIHRoZW1lKVxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCB0aGVtZSlcbn1cblxub25Nb3VudGVkKCgpID0+IHtcbiAgLy8g6K6+572u6K+t6KiAXG4gIGxhbmcudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFuZycpIHx8ICd6aC1DTidcbiAgbG9jYWxlLnZhbHVlID0gbGFuZy52YWx1ZVxuICAvLyDorr7nva7kuLvpophcbiAgdGhlbWUudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSB8fCAnbGlnaHQnXG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCB0aGVtZS52YWx1ZSlcbn0pXG48L3NjcmlwdD5cbjxzdHlsZSBsYW5nPVwibGVzc1wiIHNjb3BlZD5cbkBpbXBvcnQgJy4vc3R5bGVzL2FwcC5sZXNzJztcbjwvc3R5bGU+XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgcGVyc29uYWxJbmZvcm1hdGlvbjogJ1BlcnNvbmFsIEluZm9ybWF0aW9uJyxcbiAgICBwZXJzb25hbDp7XG4gICAgICAgIG5hbWU6ICdOYW1lJyxcbiAgICAgICAgbmFtZVJlczogJ0R1IFhpbnhpbicsXG4gICAgICAgIGVkdWNhdGlvbkJhY2tncm91bmQ6ICdFZHVjYXRpb24gQmFja2dyb3VuZCcsXG4gICAgICAgIGVkdWNhdGlvbkJhY2tncm91bmRSZXM6ICdBc3NvY2lhdGUgRGVncmVlJyxcbiAgICAgICAgbWFqb3I6ICdNYWpvcicsXG4gICAgICAgIG1ham9yUmVzOiAnQ29tcHV0ZXIgQXBwbGljYXRpb24nLFxuICAgICAgICBwaG9uZTogJ1Bob25lJyxcbiAgICAgICAgcGhvbmVSZXM6ICcxNzc1MTIxNjU5NicsXG4gICAgICAgIGVtYWlsOiAnRW1haWwnLFxuICAgICAgICBlbWFpbFJlczogXCIxNzQ2MjE1MDY3eydAJ31xcS5jb21cIixcbiAgICB9LFxuICAgIHNraWxsSW50cm9kdWN0aW9uOiAnU2tpbGwgSW50cm9kdWN0aW9uJyxcbiAgICBza2lsbDp7XG4gICAgICAgIGh0bWw6J1Byb2ZpY2llbnQgaW4gSFRNTDUsIENTUzMsIEphdmFTY3JpcHQgYW5kIG5ldyBmZWF0dXJlcycsXG4gICAgICAgIHVpOidQcm9maWNpZW50IGluIHVzaW5nIHRoaXJkLXBhcnR5IFVJIGZyYW1ld29ya3Mgc3VjaCBhcyBFY2hhcnRzLCBBbnR2LCBFbGVtZW50dWksIGFuZCBWYW50IGlWaWV3J1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgcGVyc29uYWxJbmZvcm1hdGlvbjogJ+S4quS6uuS/oeaBrycsXG4gICAgcGVyc29uYWw6e1xuICAgICAgICBuYW1lOiAn5aeT5ZCNJyxcbiAgICAgICAgbmFtZVJlczon5p2c5qyj5qyjJyxcbiAgICAgICAgZWR1Y2F0aW9uQmFja2dyb3VuZDogJ+WtpuWOhicsXG4gICAgICAgIGVkdWNhdGlvbkJhY2tncm91bmRSZXM6ICfkuJPnp5EnLFxuICAgICAgICBtYWpvcjogJ+S4k+S4micsXG4gICAgICAgIG1ham9yUmVzOiAn6K6h566X5py65bqU55SoJyxcbiAgICAgICAgcGhvbmU6ICfnlLXor50nLFxuICAgICAgICBwaG9uZVJlczogJzE3NzUxMjE2NTk2JyxcbiAgICAgICAgZW1haWw6ICfpgq7nrrEnLFxuICAgICAgICBlbWFpbFJlczogXCIxNzQ2MjE1MDY3eydAJ31xcS5jb21cIlxuICAgIH0sXG4gICAgc2tpbGxJbnRyb2R1Y3Rpb246ICfmioDog73ku4vnu40nLFxuICAgIHNraWxsOntcbiAgICAgICAgaHRtbDon57K+6YCaSFRNTDXjgIFDU1Mz44CBSmF2YVNjcmlwdOWPiuaWsOeJueaApycsXG4gICAgICAgIHVpOifnhp/nu4Pkvb/nlKjnrKzkuInmlrlVSeahhuaetu+8mkVjaGFydHPjgIFBbnR244CBRWxlbWVudHVp44CBVmFudOOAgWlWaWV3562JJ1xuICAgIH1cbn0iLCJpbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tICd2dWUnXG5pbXBvcnQgJy4vc3R5bGUuY3NzJ1xuaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnXG5pbXBvcnQgeyBjcmVhdGVJMThuIH0gZnJvbSAndnVlLWkxOG4nXG5pbXBvcnQgTGFuZ3VhZ2VFTiBmcm9tICdAL2xhbmcvZW4tVVMuanMnXG5pbXBvcnQgTGFuZ3VhZ2VaSCBmcm9tICdAL2xhbmcvemgtQ04uanMnXG5jb25zdCBpMThuID0gbmV3IGNyZWF0ZUkxOG4oe1xuICAgIGxlZ2FjeTogZmFsc2UsXG4gICAgbG9jYWxlOiAnemgtQ04nLFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICdlbi1VUyc6TGFuZ3VhZ2VFTixcbiAgICAgICAgJ3poLUNOJzpMYW5ndWFnZVpIXG4gICAgfVxufSlcbmNyZWF0ZUFwcChBcHApLnVzZShpMThuKS5tb3VudCgnI2FwcCcpIl0sIm5hbWVzIjpbIm1ha2VNYXAiLCJzdHIiLCJtYXAiLCJrZXkiLCJ2YWwiLCJFTVBUWV9PQkoiLCJFTVBUWV9BUlIiLCJOT09QIiwiTk8iLCJpc09uIiwiaXNNb2RlbExpc3RlbmVyIiwiZXh0ZW5kIiwicmVtb3ZlIiwiYXJyIiwiZWwiLCJpIiwiaGFzT3duUHJvcGVydHkiLCJoYXNPd24iLCJpc0FycmF5IiwiaXNNYXAiLCJ0b1R5cGVTdHJpbmciLCJpc1NldCIsImlzRGF0ZSIsImlzRnVuY3Rpb24iLCJpc1N0cmluZyIsImlzU3ltYm9sIiwiaXNPYmplY3QiLCJpc1Byb21pc2UiLCJvYmplY3RUb1N0cmluZyIsInZhbHVlIiwidG9SYXdUeXBlIiwiaXNQbGFpbk9iamVjdCIsImlzSW50ZWdlcktleSIsImlzUmVzZXJ2ZWRQcm9wIiwiY2FjaGVTdHJpbmdGdW5jdGlvbiIsImZuIiwiY2FjaGUiLCJjYW1lbGl6ZVJFIiwiY2FtZWxpemUiLCJfIiwiYyIsImh5cGhlbmF0ZVJFIiwiaHlwaGVuYXRlIiwiY2FwaXRhbGl6ZSIsInRvSGFuZGxlcktleSIsImhhc0NoYW5nZWQiLCJvbGRWYWx1ZSIsImludm9rZUFycmF5Rm5zIiwiZm5zIiwiYXJnIiwiZGVmIiwib2JqIiwid3JpdGFibGUiLCJsb29zZVRvTnVtYmVyIiwibiIsIl9nbG9iYWxUaGlzIiwiZ2V0R2xvYmFsVGhpcyIsIm5vcm1hbGl6ZVN0eWxlIiwicmVzIiwiaXRlbSIsIm5vcm1hbGl6ZWQiLCJwYXJzZVN0cmluZ1N0eWxlIiwibGlzdERlbGltaXRlclJFIiwicHJvcGVydHlEZWxpbWl0ZXJSRSIsInN0eWxlQ29tbWVudFJFIiwiY3NzVGV4dCIsInJldCIsInRtcCIsIm5vcm1hbGl6ZUNsYXNzIiwibmFtZSIsInNwZWNpYWxCb29sZWFuQXR0cnMiLCJpc1NwZWNpYWxCb29sZWFuQXR0ciIsImluY2x1ZGVCb29sZWFuQXR0ciIsImxvb3NlQ29tcGFyZUFycmF5cyIsImEiLCJiIiwiZXF1YWwiLCJsb29zZUVxdWFsIiwiYVZhbGlkVHlwZSIsImJWYWxpZFR5cGUiLCJhS2V5c0NvdW50IiwiYktleXNDb3VudCIsImFIYXNLZXkiLCJiSGFzS2V5IiwibG9vc2VJbmRleE9mIiwiaXNSZWYiLCJ0b0Rpc3BsYXlTdHJpbmciLCJyZXBsYWNlciIsIl9rZXkiLCJlbnRyaWVzIiwidmFsMiIsInN0cmluZ2lmeVN5bWJvbCIsInYiLCJfYSIsImFjdGl2ZUVmZmVjdFNjb3BlIiwiRWZmZWN0U2NvcGUiLCJkZXRhY2hlZCIsImwiLCJjdXJyZW50RWZmZWN0U2NvcGUiLCJmcm9tUGFyZW50IiwibGFzdCIsImVmZmVjdFNjb3BlIiwiZ2V0Q3VycmVudFNjb3BlIiwiYWN0aXZlU3ViIiwicGF1c2VkUXVldWVFZmZlY3RzIiwiUmVhY3RpdmVFZmZlY3QiLCJiYXRjaCIsImNsZWFudXBFZmZlY3QiLCJwcmVwYXJlRGVwcyIsInByZXZFZmZlY3QiLCJwcmV2U2hvdWxkVHJhY2siLCJzaG91bGRUcmFjayIsImNsZWFudXBEZXBzIiwibGluayIsInJlbW92ZVN1YiIsImlzRGlydHkiLCJiYXRjaERlcHRoIiwiYmF0Y2hlZFN1YiIsImJhdGNoZWRDb21wdXRlZCIsInN1YiIsImlzQ29tcHV0ZWQiLCJzdGFydEJhdGNoIiwiZW5kQmF0Y2giLCJlIiwibmV4dCIsImVycm9yIiwiZXJyIiwiaGVhZCIsInRhaWwiLCJwcmV2IiwicmVtb3ZlRGVwIiwicmVmcmVzaENvbXB1dGVkIiwiY29tcHV0ZWQiLCJnbG9iYWxWZXJzaW9uIiwiZGVwIiwicHJldlN1YiIsInNvZnQiLCJuZXh0U3ViIiwicHJldkRlcCIsIm5leHREZXAiLCJ0cmFja1N0YWNrIiwicGF1c2VUcmFja2luZyIsInJlc2V0VHJhY2tpbmciLCJjbGVhbnVwIiwiTGluayIsIkRlcCIsImRlYnVnSW5mbyIsImFkZFN1YiIsImN1cnJlbnRUYWlsIiwidGFyZ2V0TWFwIiwiSVRFUkFURV9LRVkiLCJNQVBfS0VZX0lURVJBVEVfS0VZIiwiQVJSQVlfSVRFUkFURV9LRVkiLCJ0cmFjayIsInRhcmdldCIsInR5cGUiLCJkZXBzTWFwIiwidHJpZ2dlciIsIm5ld1ZhbHVlIiwib2xkVGFyZ2V0IiwicnVuIiwidGFyZ2V0SXNBcnJheSIsImlzQXJyYXlJbmRleCIsIm5ld0xlbmd0aCIsImtleTIiLCJyZWFjdGl2ZVJlYWRBcnJheSIsImFycmF5IiwicmF3IiwidG9SYXciLCJpc1NoYWxsb3ciLCJ0b1JlYWN0aXZlIiwic2hhbGxvd1JlYWRBcnJheSIsImFycmF5SW5zdHJ1bWVudGF0aW9ucyIsIml0ZXJhdG9yIiwiYXJncyIsIngiLCJ0aGlzQXJnIiwiYXBwbHkiLCJzZWFyY2hQcm94eSIsInNlcGFyYXRvciIsIm5vVHJhY2tpbmciLCJyZWR1Y2UiLCJjb21wYXJlciIsInNlbGYiLCJtZXRob2QiLCJ3cmFwVmFsdWUiLCJpdGVyIiwicmVzdWx0IiwiYXJyYXlQcm90byIsIndyYXBwZWRSZXRGbiIsIm5lZWRzV3JhcCIsIm1ldGhvZEZuIiwicmVzdWx0MiIsIndyYXBwZWRGbiIsImluZGV4IiwiYWNjIiwiaXNQcm94eSIsImlzTm9uVHJhY2thYmxlS2V5cyIsImJ1aWx0SW5TeW1ib2xzIiwiQmFzZVJlYWN0aXZlSGFuZGxlciIsIl9pc1JlYWRvbmx5IiwiX2lzU2hhbGxvdyIsInJlY2VpdmVyIiwiaXNSZWFkb25seTIiLCJpc1NoYWxsb3cyIiwic2hhbGxvd1JlYWRvbmx5TWFwIiwicmVhZG9ubHlNYXAiLCJzaGFsbG93UmVhY3RpdmVNYXAiLCJyZWFjdGl2ZU1hcCIsInJlYWRvbmx5IiwicmVhY3RpdmUiLCJNdXRhYmxlUmVhY3RpdmVIYW5kbGVyIiwiaXNPbGRWYWx1ZVJlYWRvbmx5IiwiaXNSZWFkb25seSIsImhhZEtleSIsIlJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyIiwibXV0YWJsZUhhbmRsZXJzIiwicmVhZG9ubHlIYW5kbGVycyIsInNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzIiwidG9TaGFsbG93IiwiZ2V0UHJvdG8iLCJjcmVhdGVJdGVyYWJsZU1ldGhvZCIsInJhd1RhcmdldCIsInRhcmdldElzTWFwIiwiaXNQYWlyIiwiaXNLZXlPbmx5IiwiaW5uZXJJdGVyYXRvciIsIndyYXAiLCJ0b1JlYWRvbmx5IiwiZG9uZSIsImNyZWF0ZVJlYWRvbmx5TWV0aG9kIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyIsInNoYWxsb3ciLCJpbnN0cnVtZW50YXRpb25zIiwicmF3S2V5IiwiaGFzIiwiY2FsbGJhY2siLCJvYnNlcnZlZCIsImdldCIsImhhZEl0ZW1zIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyIiwibXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyIsInNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMiLCJyZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyIsInRhcmdldFR5cGVNYXAiLCJyYXdUeXBlIiwiZ2V0VGFyZ2V0VHlwZSIsImNyZWF0ZVJlYWN0aXZlT2JqZWN0Iiwic2hhbGxvd1JlYWN0aXZlIiwiYmFzZUhhbmRsZXJzIiwiY29sbGVjdGlvbkhhbmRsZXJzIiwicHJveHlNYXAiLCJleGlzdGluZ1Byb3h5IiwidGFyZ2V0VHlwZSIsInByb3h5IiwiaXNSZWFjdGl2ZSIsIm1hcmtSYXciLCJyIiwicmVmIiwiY3JlYXRlUmVmIiwic2hhbGxvd1JlZiIsInJhd1ZhbHVlIiwiUmVmSW1wbCIsInVzZURpcmVjdFZhbHVlIiwidW5yZWYiLCJyZWYyIiwic2hhbGxvd1Vud3JhcEhhbmRsZXJzIiwicHJveHlSZWZzIiwib2JqZWN0V2l0aFJlZnMiLCJDb21wdXRlZFJlZkltcGwiLCJzZXR0ZXIiLCJpc1NTUiIsImdldHRlck9yT3B0aW9ucyIsImRlYnVnT3B0aW9ucyIsImdldHRlciIsIklOSVRJQUxfV0FUQ0hFUl9WQUxVRSIsImNsZWFudXBNYXAiLCJhY3RpdmVXYXRjaGVyIiwib25XYXRjaGVyQ2xlYW51cCIsImNsZWFudXBGbiIsImZhaWxTaWxlbnRseSIsIm93bmVyIiwiY2xlYW51cHMiLCJ3YXRjaCIsInNvdXJjZSIsImNiIiwib3B0aW9ucyIsImltbWVkaWF0ZSIsImRlZXAiLCJvbmNlIiwic2NoZWR1bGVyIiwiYXVnbWVudEpvYiIsImNhbGwiLCJyZWFjdGl2ZUdldHRlciIsInNvdXJjZTIiLCJ0cmF2ZXJzZSIsImVmZmVjdCIsImJvdW5kQ2xlYW51cCIsImZvcmNlVHJpZ2dlciIsImlzTXVsdGlTb3VyY2UiLCJzIiwiY3VycmVudEVmZmVjdCIsImJhc2VHZXR0ZXIiLCJkZXB0aCIsInNjb3BlIiwid2F0Y2hIYW5kbGUiLCJfY2IiLCJqb2IiLCJpbW1lZGlhdGVGaXJzdFJ1biIsImN1cnJlbnRXYXRjaGVyIiwiY2xlYW51cDIiLCJzZWVuIiwiY2FsbFdpdGhFcnJvckhhbmRsaW5nIiwiaW5zdGFuY2UiLCJoYW5kbGVFcnJvciIsImNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nIiwidmFsdWVzIiwidGhyb3dJbkRldiIsImNvbnRleHRWTm9kZSIsImVycm9ySGFuZGxlciIsInRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24iLCJjdXIiLCJleHBvc2VkSW5zdGFuY2UiLCJlcnJvckluZm8iLCJlcnJvckNhcHR1cmVkSG9va3MiLCJsb2dFcnJvciIsInRocm93SW5Qcm9kIiwicXVldWUiLCJmbHVzaEluZGV4IiwicGVuZGluZ1Bvc3RGbHVzaENicyIsImFjdGl2ZVBvc3RGbHVzaENicyIsInBvc3RGbHVzaEluZGV4IiwicmVzb2x2ZWRQcm9taXNlIiwiY3VycmVudEZsdXNoUHJvbWlzZSIsIm5leHRUaWNrIiwicCIsImZpbmRJbnNlcnRpb25JbmRleCIsImlkIiwic3RhcnQiLCJlbmQiLCJtaWRkbGUiLCJtaWRkbGVKb2IiLCJtaWRkbGVKb2JJZCIsImdldElkIiwicXVldWVKb2IiLCJqb2JJZCIsImxhc3RKb2IiLCJxdWV1ZUZsdXNoIiwiZmx1c2hKb2JzIiwicXVldWVQb3N0Rmx1c2hDYiIsImZsdXNoUHJlRmx1c2hDYnMiLCJmbHVzaFBvc3RGbHVzaENicyIsImRlZHVwZWQiLCJjaGVjayIsImN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsImN1cnJlbnRTY29wZUlkIiwic2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwid2l0aEN0eCIsImN0eCIsImlzTm9uU2NvcGVkU2xvdCIsInJlbmRlckZuV2l0aENvbnRleHQiLCJzZXRCbG9ja1RyYWNraW5nIiwicHJldkluc3RhbmNlIiwid2l0aERpcmVjdGl2ZXMiLCJ2bm9kZSIsImRpcmVjdGl2ZXMiLCJnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSIsImJpbmRpbmdzIiwiZGlyIiwibW9kaWZpZXJzIiwiaW52b2tlRGlyZWN0aXZlSG9vayIsInByZXZWTm9kZSIsIm9sZEJpbmRpbmdzIiwiYmluZGluZyIsImhvb2siLCJUZWxlcG9ydEVuZEtleSIsImlzVGVsZXBvcnQiLCJzZXRUcmFuc2l0aW9uSG9va3MiLCJob29rcyIsImRlZmluZUNvbXBvbmVudCIsImV4dHJhT3B0aW9ucyIsIm1hcmtBc3luY0JvdW5kYXJ5Iiwic2V0UmVmIiwicmF3UmVmIiwib2xkUmF3UmVmIiwicGFyZW50U3VzcGVuc2UiLCJpc1VubW91bnQiLCJpc0FzeW5jV3JhcHBlciIsInJlZlZhbHVlIiwib2xkUmVmIiwicmVmcyIsInNldHVwU3RhdGUiLCJyYXdTZXR1cFN0YXRlIiwiY2FuU2V0U2V0dXBSZWYiLCJfaXNTdHJpbmciLCJfaXNSZWYiLCJkb1NldCIsImV4aXN0aW5nIiwicXVldWVQb3N0UmVuZGVyRWZmZWN0IiwiaXNLZWVwQWxpdmUiLCJvbkFjdGl2YXRlZCIsInJlZ2lzdGVyS2VlcEFsaXZlSG9vayIsIm9uRGVhY3RpdmF0ZWQiLCJjdXJyZW50SW5zdGFuY2UiLCJ3cmFwcGVkSG9vayIsImN1cnJlbnQiLCJpbmplY3RIb29rIiwiaW5qZWN0VG9LZWVwQWxpdmVSb290Iiwia2VlcEFsaXZlUm9vdCIsImluamVjdGVkIiwib25Vbm1vdW50ZWQiLCJwcmVwZW5kIiwicmVzZXQiLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJjcmVhdGVIb29rIiwibGlmZWN5Y2xlIiwiaXNJblNTUkNvbXBvbmVudFNldHVwIiwib25CZWZvcmVNb3VudCIsIm9uTW91bnRlZCIsIm9uQmVmb3JlVXBkYXRlIiwib25VcGRhdGVkIiwib25CZWZvcmVVbm1vdW50Iiwib25TZXJ2ZXJQcmVmZXRjaCIsIm9uUmVuZGVyVHJpZ2dlcmVkIiwib25SZW5kZXJUcmFja2VkIiwib25FcnJvckNhcHR1cmVkIiwiTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCIsInJlbmRlckxpc3QiLCJyZW5kZXJJdGVtIiwiY2FjaGVkIiwic291cmNlSXNBcnJheSIsInNvdXJjZUlzUmVhY3RpdmVBcnJheSIsImtleXMiLCJnZXRQdWJsaWNJbnN0YW5jZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJwdWJsaWNQcm9wZXJ0aWVzTWFwIiwicmVzb2x2ZU1lcmdlZE9wdGlvbnMiLCJpbnN0YW5jZVdhdGNoIiwiaGFzU2V0dXBCaW5kaW5nIiwic3RhdGUiLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJkYXRhIiwicHJvcHMiLCJhY2Nlc3NDYWNoZSIsImFwcENvbnRleHQiLCJub3JtYWxpemVkUHJvcHMiLCJzaG91bGRDYWNoZUFjY2VzcyIsInB1YmxpY0dldHRlciIsImNzc01vZHVsZSIsImdsb2JhbFByb3BlcnRpZXMiLCJwcm9wc09wdGlvbnMiLCJkZXNjcmlwdG9yIiwibm9ybWFsaXplUHJvcHNPckVtaXRzIiwiYXBwbHlPcHRpb25zIiwicHVibGljVGhpcyIsImNhbGxIb29rIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJtZXRob2RzIiwid2F0Y2hPcHRpb25zIiwicHJvdmlkZU9wdGlvbnMiLCJpbmplY3RPcHRpb25zIiwiY3JlYXRlZCIsImJlZm9yZU1vdW50IiwibW91bnRlZCIsImJlZm9yZVVwZGF0ZSIsInVwZGF0ZWQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsImJlZm9yZURlc3Ryb3kiLCJiZWZvcmVVbm1vdW50IiwiZGVzdHJveWVkIiwidW5tb3VudGVkIiwicmVuZGVyIiwicmVuZGVyVHJhY2tlZCIsInJlbmRlclRyaWdnZXJlZCIsImVycm9yQ2FwdHVyZWQiLCJzZXJ2ZXJQcmVmZXRjaCIsImV4cG9zZSIsImluaGVyaXRBdHRycyIsImNvbXBvbmVudHMiLCJmaWx0ZXJzIiwicmVzb2x2ZUluamVjdGlvbnMiLCJtZXRob2RIYW5kbGVyIiwib3B0Iiwic2V0IiwiY3JlYXRlV2F0Y2hlciIsInByb3ZpZGVzIiwicHJvdmlkZSIsInJlZ2lzdGVyTGlmZWN5Y2xlSG9vayIsInJlZ2lzdGVyIiwiX2hvb2siLCJleHBvc2VkIiwiY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzIiwibm9ybWFsaXplSW5qZWN0IiwiaW5qZWN0IiwiaCIsImNyZWF0ZVBhdGhHZXR0ZXIiLCJoYW5kbGVyIiwiYmFzZSIsIm1peGlucyIsImV4dGVuZHNPcHRpb25zIiwiZ2xvYmFsTWl4aW5zIiwib3B0aW9uTWVyZ2VTdHJhdGVnaWVzIiwicmVzb2x2ZWQiLCJtIiwibWVyZ2VPcHRpb25zIiwidG8iLCJmcm9tIiwic3RyYXRzIiwiYXNNaXhpbiIsInN0cmF0IiwiaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyIsIm1lcmdlRGF0YUZuIiwibWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zIiwibWVyZ2VPYmplY3RPcHRpb25zIiwibWVyZ2VBc0FycmF5IiwibWVyZ2VXYXRjaE9wdGlvbnMiLCJtZXJnZUluamVjdCIsIm1lcmdlZCIsImNyZWF0ZUFwcENvbnRleHQiLCJ1aWQkMSIsImNyZWF0ZUFwcEFQSSIsImh5ZHJhdGUiLCJyb290Q29tcG9uZW50Iiwicm9vdFByb3BzIiwiY29udGV4dCIsImluc3RhbGxlZFBsdWdpbnMiLCJwbHVnaW5DbGVhbnVwRm5zIiwiaXNNb3VudGVkIiwiYXBwIiwidmVyc2lvbiIsInBsdWdpbiIsIm1peGluIiwiY29tcG9uZW50IiwiZGlyZWN0aXZlIiwicm9vdENvbnRhaW5lciIsImlzSHlkcmF0ZSIsIm5hbWVzcGFjZSIsImNyZWF0ZVZOb2RlIiwibGFzdEFwcCIsImN1cnJlbnRBcHAiLCJwYXJlbnRQcm92aWRlcyIsImRlZmF1bHRWYWx1ZSIsInRyZWF0RGVmYXVsdEFzRmFjdG9yeSIsImludGVybmFsT2JqZWN0UHJvdG8iLCJjcmVhdGVJbnRlcm5hbE9iamVjdCIsImlzSW50ZXJuYWxPYmplY3QiLCJpbml0UHJvcHMiLCJyYXdQcm9wcyIsImlzU3RhdGVmdWwiLCJhdHRycyIsInNldEZ1bGxQcm9wcyIsInVwZGF0ZVByb3BzIiwicmF3UHJldlByb3BzIiwib3B0aW1pemVkIiwicGF0Y2hGbGFnIiwicmF3Q3VycmVudFByb3BzIiwiaGFzQXR0cnNDaGFuZ2VkIiwicHJvcHNUb1VwZGF0ZSIsImlzRW1pdExpc3RlbmVyIiwiY2FtZWxpemVkS2V5IiwicmVzb2x2ZVByb3BWYWx1ZSIsImtlYmFiS2V5IiwibmVlZENhc3RLZXlzIiwicmF3Q2FzdFZhbHVlcyIsImNhbWVsS2V5IiwiY2FzdFZhbHVlcyIsImlzQWJzZW50IiwiaGFzRGVmYXVsdCIsInByb3BzRGVmYXVsdHMiLCJtaXhpblByb3BzQ2FjaGUiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJjb21wIiwiaGFzRXh0ZW5kcyIsImV4dGVuZFByb3BzIiwicmF3MiIsIm5vcm1hbGl6ZWRLZXkiLCJ2YWxpZGF0ZVByb3BOYW1lIiwicHJvcCIsInByb3BUeXBlIiwic2hvdWxkQ2FzdCIsInNob3VsZENhc3RUcnVlIiwidHlwZU5hbWUiLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplVk5vZGUiLCJub3JtYWxpemVTbG90IiwicmF3U2xvdCIsIm5vcm1hbGl6ZU9iamVjdFNsb3RzIiwicmF3U2xvdHMiLCJzbG90cyIsIm5vcm1hbGl6ZVZOb2RlU2xvdHMiLCJjaGlsZHJlbiIsImFzc2lnblNsb3RzIiwiaW5pdFNsb3RzIiwidXBkYXRlU2xvdHMiLCJuZWVkRGVsZXRpb25DaGVjayIsImRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCIsInF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIiwiY3JlYXRlUmVuZGVyZXIiLCJiYXNlQ3JlYXRlUmVuZGVyZXIiLCJjcmVhdGVIeWRyYXRpb25GbnMiLCJob3N0SW5zZXJ0IiwiaG9zdFJlbW92ZSIsImhvc3RQYXRjaFByb3AiLCJob3N0Q3JlYXRlRWxlbWVudCIsImhvc3RDcmVhdGVUZXh0IiwiaG9zdENyZWF0ZUNvbW1lbnQiLCJob3N0U2V0VGV4dCIsImhvc3RTZXRFbGVtZW50VGV4dCIsImhvc3RQYXJlbnROb2RlIiwiaG9zdE5leHRTaWJsaW5nIiwiaG9zdFNldFNjb3BlSWQiLCJob3N0SW5zZXJ0U3RhdGljQ29udGVudCIsInBhdGNoIiwibjEiLCJuMiIsImNvbnRhaW5lciIsImFuY2hvciIsInBhcmVudENvbXBvbmVudCIsInNsb3RTY29wZUlkcyIsImlzU2FtZVZOb2RlVHlwZSIsImdldE5leHRIb3N0Tm9kZSIsInVubW91bnQiLCJzaGFwZUZsYWciLCJUZXh0IiwicHJvY2Vzc1RleHQiLCJDb21tZW50IiwicHJvY2Vzc0NvbW1lbnROb2RlIiwiU3RhdGljIiwibW91bnRTdGF0aWNOb2RlIiwiRnJhZ21lbnQiLCJwcm9jZXNzRnJhZ21lbnQiLCJwcm9jZXNzRWxlbWVudCIsInByb2Nlc3NDb21wb25lbnQiLCJpbnRlcm5hbHMiLCJtb3ZlU3RhdGljTm9kZSIsIm5leHRTaWJsaW5nIiwicmVtb3ZlU3RhdGljTm9kZSIsIm1vdW50RWxlbWVudCIsInBhdGNoRWxlbWVudCIsInZub2RlSG9vayIsInRyYW5zaXRpb24iLCJkaXJzIiwibW91bnRDaGlsZHJlbiIsInJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSIsInNldFNjb3BlSWQiLCJpbnZva2VWTm9kZUhvb2siLCJuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyIsIm5lZWRUcmFuc2l0aW9uIiwic2NvcGVJZCIsInN1YlRyZWUiLCJpc1N1c3BlbnNlIiwicGFyZW50Vk5vZGUiLCJjaGlsZCIsImNsb25lSWZNb3VudGVkIiwiZHluYW1pY0NoaWxkcmVuIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsInRvZ2dsZVJlY3Vyc2UiLCJwYXRjaEJsb2NrQ2hpbGRyZW4iLCJwYXRjaENoaWxkcmVuIiwicGF0Y2hQcm9wcyIsIm9sZENoaWxkcmVuIiwibmV3Q2hpbGRyZW4iLCJmYWxsYmFja0NvbnRhaW5lciIsIm9sZFZOb2RlIiwibmV3Vk5vZGUiLCJmcmFnbWVudFN0YXJ0QW5jaG9yIiwiZnJhZ21lbnRFbmRBbmNob3IiLCJmcmFnbWVudFNsb3RTY29wZUlkcyIsInRyYXZlcnNlU3RhdGljQ2hpbGRyZW4iLCJtb3VudENvbXBvbmVudCIsInVwZGF0ZUNvbXBvbmVudCIsImluaXRpYWxWTm9kZSIsImNyZWF0ZUNvbXBvbmVudEluc3RhbmNlIiwic2V0dXBDb21wb25lbnQiLCJzZXR1cFJlbmRlckVmZmVjdCIsInBsYWNlaG9sZGVyIiwic2hvdWxkVXBkYXRlQ29tcG9uZW50IiwidXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyIiwiY29tcG9uZW50VXBkYXRlRm4iLCJidSIsInUiLCJwYXJlbnQiLCJub25IeWRyYXRlZEFzeW5jUm9vdCIsImxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290Iiwib3JpZ2luTmV4dCIsIm5leHRUcmVlIiwicmVuZGVyQ29tcG9uZW50Um9vdCIsInByZXZUcmVlIiwidXBkYXRlSE9DSG9zdEVsIiwiYm0iLCJyb290IiwiaXNBc3luY1dyYXBwZXJWTm9kZSIsImh5ZHJhdGVOb2RlIiwiaHlkcmF0ZVN1YlRyZWUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJ1cGRhdGUiLCJuZXh0Vk5vZGUiLCJwcmV2UHJvcHMiLCJjMSIsInByZXZTaGFwZUZsYWciLCJjMiIsInBhdGNoS2V5ZWRDaGlsZHJlbiIsInBhdGNoVW5rZXllZENoaWxkcmVuIiwidW5tb3VudENoaWxkcmVuIiwib2xkTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwicGFyZW50QW5jaG9yIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwiaiIsInBhdGNoZWQiLCJ0b0JlUGF0Y2hlZCIsIm1vdmVkIiwibWF4TmV3SW5kZXhTb0ZhciIsIm5ld0luZGV4VG9PbGRJbmRleE1hcCIsInByZXZDaGlsZCIsIm5ld0luZGV4IiwiaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UiLCJnZXRTZXF1ZW5jZSIsIm5leHRJbmRleCIsIm1vdmUiLCJtb3ZlVHlwZSIsImxlYXZlIiwiZGVsYXlMZWF2ZSIsImFmdGVyTGVhdmUiLCJyZW1vdmUyIiwicGVyZm9ybUxlYXZlIiwiZG9SZW1vdmUiLCJjYWNoZUluZGV4Iiwic2hvdWxkSW52b2tlRGlycyIsInNob3VsZEludm9rZVZub2RlSG9vayIsInVubW91bnRDb21wb25lbnQiLCJyZW1vdmVGcmFnbWVudCIsInBlcmZvcm1SZW1vdmUiLCJidW0iLCJ1bSIsImludmFsaWRhdGVNb3VudCIsInRlbGVwb3J0RW5kIiwiaXNGbHVzaGluZyIsImN1cnJlbnROYW1lc3BhY2UiLCJhbGxvd2VkIiwiY2gxIiwiY2gyIiwibGVuIiwiYXJySSIsInN1YkNvbXBvbmVudCIsInNzckNvbnRleHRLZXkiLCJ1c2VTU1JDb250ZXh0IiwiZG9XYXRjaCIsImZsdXNoIiwiYmFzZVdhdGNoT3B0aW9ucyIsInJ1bnNJbW1lZGlhdGVseSIsInNzckNsZWFudXAiLCJ3YXRjaFN0b3BIYW5kbGUiLCJpc1ByZSIsImlzRmlyc3RSdW4iLCJ3YXRjaCQxIiwicGF0aCIsInNlZ21lbnRzIiwiZ2V0TW9kZWxNb2RpZmllcnMiLCJtb2RlbE5hbWUiLCJlbWl0IiwiZXZlbnQiLCJyYXdBcmdzIiwiaGFuZGxlck5hbWUiLCJvbmNlSGFuZGxlciIsIm5vcm1hbGl6ZUVtaXRzT3B0aW9ucyIsImV4dGVuZEVtaXRzIiwibm9ybWFsaXplZEZyb21FeHRlbmQiLCJDb21wb25lbnQiLCJ3aXRoUHJveHkiLCJyZW5kZXJDYWNoZSIsImZhbGx0aHJvdWdoQXR0cnMiLCJwcm94eVRvVXNlIiwidGhpc1Byb3h5IiwicmVuZGVyMiIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsImJsb2NrU3RhY2siLCJmaWx0ZXJNb2RlbExpc3RlbmVycyIsImNsb25lVk5vZGUiLCJwcmV2Q2hpbGRyZW4iLCJuZXh0UHJvcHMiLCJuZXh0Q2hpbGRyZW4iLCJlbWl0cyIsImhhc1Byb3BzQ2hhbmdlZCIsImR5bmFtaWNQcm9wcyIsImVtaXRzT3B0aW9ucyIsIm5leHRLZXlzIiwic3VzcGVuc2UiLCJjdXJyZW50QmxvY2siLCJvcGVuQmxvY2siLCJkaXNhYmxlVHJhY2tpbmciLCJjbG9zZUJsb2NrIiwiaXNCbG9ja1RyZWVFbmFibGVkIiwiaW5WT25jZSIsInNldHVwQmxvY2siLCJjcmVhdGVFbGVtZW50QmxvY2siLCJjcmVhdGVCYXNlVk5vZGUiLCJpc1ZOb2RlIiwibm9ybWFsaXplS2V5Iiwibm9ybWFsaXplUmVmIiwicmVmX2tleSIsInJlZl9mb3IiLCJpc0Jsb2NrTm9kZSIsIm5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJfY3JlYXRlVk5vZGUiLCJjbG9uZWQiLCJpc0NsYXNzQ29tcG9uZW50IiwiZ3VhcmRSZWFjdGl2ZVByb3BzIiwia2xhc3MiLCJzdHlsZSIsImV4dHJhUHJvcHMiLCJtZXJnZVJlZiIsImNsb25lVHJhbnNpdGlvbiIsIm1lcmdlZFByb3BzIiwibWVyZ2VQcm9wcyIsImNyZWF0ZVRleHRWTm9kZSIsInRleHQiLCJmbGFnIiwiY3JlYXRlU3RhdGljVk5vZGUiLCJjb250ZW50IiwibnVtYmVyT2ZOb2RlcyIsInNsb3QiLCJzbG90RmxhZyIsInRvTWVyZ2UiLCJpbmNvbWluZyIsImVtcHR5QXBwQ29udGV4dCIsInVpZCIsImdldEN1cnJlbnRJbnN0YW5jZSIsImludGVybmFsU2V0Q3VycmVudEluc3RhbmNlIiwic2V0SW5TU1JTZXR1cFN0YXRlIiwiZyIsInJlZ2lzdGVyR2xvYmFsU2V0dGVyIiwic2V0dGVycyIsInVuc2V0Q3VycmVudEluc3RhbmNlIiwic2V0dXBSZXN1bHQiLCJzZXR1cFN0YXRlZnVsQ29tcG9uZW50Iiwic2V0dXAiLCJzZXR1cENvbnRleHQiLCJjcmVhdGVTZXR1cENvbnRleHQiLCJpc0FzeW5jU2V0dXAiLCJyZXNvbHZlZFJlc3VsdCIsImhhbmRsZVNldHVwUmVzdWx0IiwiZmluaXNoQ29tcG9uZW50U2V0dXAiLCJjb21waWxlIiwic2tpcE9wdGlvbnMiLCJ0ZW1wbGF0ZSIsImlzQ3VzdG9tRWxlbWVudCIsImNvbXBpbGVyT3B0aW9ucyIsImRlbGltaXRlcnMiLCJjb21wb25lbnRDb21waWxlck9wdGlvbnMiLCJmaW5hbENvbXBpbGVyT3B0aW9ucyIsImF0dHJzUHJveHlIYW5kbGVycyIsImNvbXB1dGVkJDEiLCJwcm9wc09yQ2hpbGRyZW4iLCJwb2xpY3kiLCJ0dCIsInVuc2FmZVRvVHJ1c3RlZEhUTUwiLCJzdmdOUyIsIm1hdGhtbE5TIiwiZG9jIiwidGVtcGxhdGVDb250YWluZXIiLCJub2RlT3BzIiwidGFnIiwiaXMiLCJub2RlIiwic2VsZWN0b3IiLCJiZWZvcmUiLCJ3cmFwcGVyIiwidnRjS2V5IiwicGF0Y2hDbGFzcyIsImlzU1ZHIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJ2U2hvd09yaWdpbmFsRGlzcGxheSIsInZTaG93SGlkZGVuIiwiQ1NTX1ZBUl9URVhUIiwiZGlzcGxheVJFIiwicGF0Y2hTdHlsZSIsImlzQ3NzU3RyaW5nIiwiaGFzQ29udHJvbGxlZERpc3BsYXkiLCJwcmV2U3R5bGUiLCJzZXRTdHlsZSIsImNzc1ZhclRleHQiLCJpbXBvcnRhbnRSRSIsInByZWZpeGVkIiwiYXV0b1ByZWZpeCIsInByZWZpeGVzIiwicHJlZml4Q2FjaGUiLCJyYXdOYW1lIiwieGxpbmtOUyIsInBhdGNoQXR0ciIsImlzQm9vbGVhbiIsInBhdGNoRE9NUHJvcCIsImF0dHJOYW1lIiwibmVlZFJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidmVpS2V5IiwicGF0Y2hFdmVudCIsInByZXZWYWx1ZSIsIm5leHRWYWx1ZSIsImludm9rZXJzIiwiZXhpc3RpbmdJbnZva2VyIiwicGFyc2VOYW1lIiwiaW52b2tlciIsImNyZWF0ZUludm9rZXIiLCJvcHRpb25zTW9kaWZpZXJSRSIsImNhY2hlZE5vdyIsImdldE5vdyIsImluaXRpYWxWYWx1ZSIsInBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwib3JpZ2luYWxTdG9wIiwiaXNOYXRpdmVPbiIsInBhdGNoUHJvcCIsInNob3VsZFNldEFzUHJvcCIsImNhbWVsaXplJDEiLCJnZXRNb2RlbEFzc2lnbmVyIiwiYXNzaWduS2V5Iiwidk1vZGVsU2VsZWN0IiwibnVtYmVyIiwiaXNTZXRNb2RlbCIsInNlbGVjdGVkVmFsIiwibyIsImdldFZhbHVlIiwic2V0U2VsZWN0ZWQiLCJfYmluZGluZyIsImlzTXVsdGlwbGUiLCJpc0FycmF5VmFsdWUiLCJvcHRpb24iLCJvcHRpb25WYWx1ZSIsIm9wdGlvblR5cGUiLCJyZW5kZXJlck9wdGlvbnMiLCJyZW5kZXJlciIsImVuc3VyZVJlbmRlcmVyIiwiY3JlYXRlQXBwIiwibW91bnQiLCJjb250YWluZXJPclNlbGVjdG9yIiwibm9ybWFsaXplQ29udGFpbmVyIiwicmVzb2x2ZVJvb3ROYW1lc3BhY2UiLCJyZXN1bWVEYXRhIiwiaW5Ccm93c2VyIiwibWFrZVN5bWJvbCIsInNoYXJlYWJsZSIsImdlbmVyYXRlRm9ybWF0Q2FjaGVLZXkiLCJsb2NhbGUiLCJmcmllbmRseUpTT05zdHJpbmdpZnkiLCJqc29uIiwiaXNOdW1iZXIiLCJpc1JlZ0V4cCIsImlzRW1wdHlPYmplY3QiLCJhc3NpZ24iLCJfY3JlYXRlIiwiY3JlYXRlIiwiZXNjYXBlSHRtbCIsInJhd1RleHQiLCJwcm90byIsImpvaW4iLCJpdGVtcyIsImluY3JlbWVudGVyIiwiY29kZSIsIndhcm4iLCJtc2ciLCJpc05vdE9iamVjdE9ySXNBcnJheSIsImRlZXBDb3B5Iiwic3JjIiwiZGVzIiwic3RhY2siLCJjcmVhdGVQb3NpdGlvbiIsImxpbmUiLCJjb2x1bW4iLCJvZmZzZXQiLCJjcmVhdGVMb2NhdGlvbiIsImxvYyIsIlJFX0FSR1MiLCJmb3JtYXQiLCJtZXNzYWdlIiwibWF0Y2giLCJpZGVudGlmaWVyIiwiQ29tcGlsZVdhcm5Db2RlcyIsIndhcm5NZXNzYWdlcyIsImNyZWF0ZUNvbXBpbGVXYXJuIiwiQ29tcGlsZUVycm9yQ29kZXMiLCJlcnJvck1lc3NhZ2VzIiwiY3JlYXRlQ29tcGlsZUVycm9yIiwiZG9tYWluIiwibWVzc2FnZXMiLCJkZWZhdWx0T25FcnJvciIsIkNIQVJfU1AiLCJDSEFSX0NSIiwiQ0hBUl9MRiIsIkNIQVJfTFMiLCJDSEFSX1BTIiwiY3JlYXRlU2Nhbm5lciIsIl9idWYiLCJfaW5kZXgiLCJfbGluZSIsIl9jb2x1bW4iLCJfcGVla09mZnNldCIsImlzQ1JMRiIsImlzTEYiLCJpc1BTIiwiaXNMUyIsImlzTGluZUVuZCIsInBlZWtPZmZzZXQiLCJjaGFyQXQiLCJjdXJyZW50Q2hhciIsImN1cnJlbnRQZWVrIiwicGVlayIsInJlc2V0UGVlayIsInNraXBUb1BlZWsiLCJFT0YiLCJET1QiLCJMSVRFUkFMX0RFTElNSVRFUiIsIkVSUk9SX0RPTUFJTiQzIiwiY3JlYXRlVG9rZW5pemVyIiwibG9jYXRpb24iLCJfc2NuciIsImN1cnJlbnRPZmZzZXQiLCJjdXJyZW50UG9zaXRpb24iLCJfaW5pdExvYyIsIl9pbml0T2Zmc2V0IiwiX2NvbnRleHQiLCJvbkVycm9yIiwiZW1pdEVycm9yIiwicG9zIiwiZ2V0VG9rZW4iLCJ0b2tlbiIsImdldEVuZFRva2VuIiwiZWF0Iiwic2NuciIsImNoIiwicGVla1NwYWNlcyIsImJ1ZiIsInNraXBTcGFjZXMiLCJpc0lkZW50aWZpZXJTdGFydCIsImNjIiwiaXNOdW1iZXJTdGFydCIsImlzTmFtZWRJZGVudGlmaWVyU3RhcnQiLCJjdXJyZW50VHlwZSIsImlzTGlzdElkZW50aWZpZXJTdGFydCIsImlzTGl0ZXJhbFN0YXJ0IiwiaXNMaW5rZWREb3RTdGFydCIsImlzTGlua2VkTW9kaWZpZXJTdGFydCIsImlzTGlua2VkRGVsaW1pdGVyU3RhcnQiLCJpc0xpbmtlZFJlZmVyU3RhcnQiLCJpc1RleHRTdGFydCIsImlzUGx1cmFsU3RhcnQiLCJkZXRlY3RNb2R1bG9TdGFydCIsInNwYWNlcyIsImhhc1NwYWNlIiwiZGV0ZWN0TW9kdWxvIiwidGFrZUNoYXIiLCJpc0lkZW50aWZpZXIiLCJ0YWtlSWRlbnRpZmllckNoYXIiLCJpc05hbWVkSWRlbnRpZmllciIsInRha2VOYW1lZElkZW50aWZpZXJDaGFyIiwiaXNEaWdpdCIsInRha2VEaWdpdCIsImlzSGV4RGlnaXQiLCJ0YWtlSGV4RGlnaXQiLCJnZXREaWdpdHMiLCJudW0iLCJyZWFkTW9kdWxvIiwicmVhZFRleHQiLCJyZWFkTmFtZWRJZGVudGlmaWVyIiwicmVhZExpc3RJZGVudGlmaWVyIiwiaXNMaXRlcmFsIiwicmVhZExpdGVyYWwiLCJsaXRlcmFsIiwicmVhZEVzY2FwZVNlcXVlbmNlIiwicmVhZFVuaWNvZGVFc2NhcGVTZXF1ZW5jZSIsInVuaWNvZGUiLCJkaWdpdHMiLCJzZXF1ZW5jZSIsImlzSW52YWxpZElkZW50aWZpZXIiLCJyZWFkSW52YWxpZElkZW50aWZpZXIiLCJpZGVudGlmaWVycyIsInJlYWRMaW5rZWRNb2RpZmllciIsInJlYWRMaW5rZWRSZWZlciIsInJlYWRQbHVyYWwiLCJwbHVyYWwiLCJyZWFkVG9rZW5JblBsYWNlaG9sZGVyIiwicmVhZFRva2VuSW5MaW5rZWQiLCJ2YWxpZE5hbWVkSWRlbnRpZmllciIsInZhbGlkTGlzdElkZW50aWZpZXIiLCJ2YWxpZExpdGVyYWwiLCJyZWFkVG9rZW4iLCJpc01vZHVsbyIsIm5leHRUb2tlbiIsInN0YXJ0TG9jIiwiZW5kTG9jIiwiRVJST1JfRE9NQUlOJDIiLCJLTk9XTl9FU0NBUEVTIiwiZnJvbUVzY2FwZVNlcXVlbmNlIiwiY29kZVBvaW50NCIsImNvZGVQb2ludDYiLCJjb2RlUG9pbnQiLCJjcmVhdGVQYXJzZXIiLCJvbldhcm4iLCJ0b2tlbnplciIsImVtaXRXYXJuIiwic3RhcnROb2RlIiwiZW5kTm9kZSIsInBhcnNlVGV4dCIsInRva2VuaXplciIsInBhcnNlTGlzdCIsInBhcnNlTmFtZWQiLCJtb2R1bG8iLCJwYXJzZUxpdGVyYWwiLCJwYXJzZUxpbmtlZE1vZGlmaWVyIiwiZ2V0VG9rZW5DYXB0aW9uIiwicGFyc2VMaW5rZWRLZXkiLCJwYXJzZUxpbmtlZCIsImxpbmtlZE5vZGUiLCJwYXJzZWQiLCJuZXh0Q29udGV4dCIsImVtcHR5TGlua2VkS2V5Tm9kZSIsInBhcnNlTWVzc2FnZSIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwicGFyc2VQbHVyYWwiLCJtc2dOb2RlIiwiaGFzRW1wdHlNZXNzYWdlIiwicGFyc2VSZXNvdXJjZSIsInBhcnNlIiwiY3JlYXRlVHJhbnNmb3JtZXIiLCJhc3QiLCJ0cmF2ZXJzZU5vZGVzIiwibm9kZXMiLCJ0cmFuc2Zvcm1lciIsInRyYXZlcnNlTm9kZSIsInRyYW5zZm9ybSIsIm9wdGltaXplIiwiYm9keSIsIm9wdGltaXplTWVzc2FnZU5vZGUiLCJFUlJPUl9ET01BSU4kMSIsIm1pbmlmeSIsInJlc291cmNlIiwiY2FzZXMiLCJ2YWx1ZU5vZGUiLCJsaW5rZWQiLCJsaXN0IiwibmFtZWQiLCJFUlJPUl9ET01BSU4iLCJjcmVhdGVDb2RlR2VuZXJhdG9yIiwic291cmNlTWFwIiwiZmlsZW5hbWUiLCJicmVha0xpbmVDb2RlIiwiX25lZWRJbmRlbnQiLCJwdXNoIiwiX25ld2xpbmUiLCJ3aXRoQnJlYWtMaW5lIiwiX2JyZWFrTGluZUNvZGUiLCJpbmRlbnQiLCJ3aXRoTmV3TGluZSIsImxldmVsIiwiZGVpbmRlbnQiLCJuZXdsaW5lIiwiZ2VuZXJhdGVMaW5rZWROb2RlIiwiZ2VuZXJhdG9yIiwiaGVscGVyIiwiZ2VuZXJhdGVOb2RlIiwiZ2VuZXJhdGVNZXNzYWdlTm9kZSIsIm5lZWRJbmRlbnQiLCJsZW5ndGgiLCJnZW5lcmF0ZVBsdXJhbE5vZGUiLCJnZW5lcmF0ZVJlc291cmNlIiwiZ2VuZXJhdGUiLCJtb2RlIiwiaGVscGVycyIsImJhc2VDb21waWxlIiwiYXNzaWduZWRPcHRpb25zIiwiaml0IiwiZW5hbGJlTWluaWZ5IiwiZW5hbWJlT3B0aW1pemUiLCJpbml0RmVhdHVyZUZsYWdzIiwiaXNNZXNzYWdlQVNUIiwicmVzb2x2ZVR5cGUiLCJQUk9QU19CT0RZIiwicmVzb2x2ZUJvZHkiLCJyZXNvbHZlUHJvcHMiLCJQUk9QU19DQVNFUyIsInJlc29sdmVDYXNlcyIsIlBST1BTX1NUQVRJQyIsInJlc29sdmVTdGF0aWMiLCJQUk9QU19JVEVNUyIsInJlc29sdmVJdGVtcyIsIlBST1BTX1RZUEUiLCJQUk9QU19WQUxVRSIsInJlc29sdmVWYWx1ZSQxIiwiY3JlYXRlVW5oYW5kbGVOb2RlRXJyb3IiLCJQUk9QU19NT0RJRklFUiIsInJlc29sdmVMaW5rZWRNb2RpZmllciIsIlBST1BTX0tFWSIsInJlc29sdmVMaW5rZWRLZXkiLCJBU1RfTk9ERV9QUk9QU19LRVlTIiwicGF0aFN0YXRlTWFjaGluZSIsImxpdGVyYWxWYWx1ZVJFIiwiZXhwIiwic3RyaXBRdW90ZXMiLCJnZXRQYXRoQ2hhclR5cGUiLCJmb3JtYXRTdWJQYXRoIiwidHJpbW1lZCIsInN1YlBhdGhEZXB0aCIsIm5ld0NoYXIiLCJhY3Rpb24iLCJ0eXBlTWFwIiwiYWN0aW9ucyIsIm1heWJlVW5lc2NhcGVRdW90ZSIsIm5leHRDaGFyIiwicmVzb2x2ZVdpdGhLZXlWYWx1ZSIsInJlc29sdmVWYWx1ZSIsImhpdCIsIkRFRkFVTFRfTU9ESUZJRVIiLCJERUZBVUxUX01FU1NBR0UiLCJERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFIiwiREVGQVVMVF9OT1JNQUxJWkUiLCJERUZBVUxUX0lOVEVSUE9MQVRFIiwicGx1cmFsRGVmYXVsdCIsImNob2ljZSIsImNob2ljZXNMZW5ndGgiLCJnZXRQbHVyYWxJbmRleCIsIm5vcm1hbGl6ZU5hbWVkIiwicGx1cmFsSW5kZXgiLCJjcmVhdGVNZXNzYWdlQ29udGV4dCIsInBsdXJhbFJ1bGUiLCJvcmdQbHVyYWxSdWxlIiwiX2xpc3QiLCJfbmFtZWQiLCJfbW9kaWZpZXIiLCJub3JtYWxpemUiLCJpbnRlcnBvbGF0ZSIsImFyZzEiLCJhcmcyIiwibW9kaWZpZXIiLCJkZXZ0b29scyIsInNldERldlRvb2xzSG9vayIsImluaXRJMThuRGV2VG9vbHMiLCJpMThuIiwibWV0YSIsInRyYW5zbGF0ZURldlRvb2xzIiwiY3JlYXRlRGV2VG9vbHNIb29rIiwicGF5bG9hZHMiLCJjb2RlJDEiLCJpbmMkMSIsIkNvcmVXYXJuQ29kZXMiLCJpbmMiLCJDb3JlRXJyb3JDb2RlcyIsImNyZWF0ZUNvcmVFcnJvciIsImdldExvY2FsZSIsInJlc29sdmVMb2NhbGUiLCJfcmVzb2x2ZUxvY2FsZSIsInJlc29sdmUiLCJmYWxsYmFja1dpdGhTaW1wbGUiLCJmYWxsYmFjayIsImZhbGxiYWNrV2l0aExvY2FsZUNoYWluIiwic3RhcnRMb2NhbGUiLCJERUZBVUxUX0xPQ0FMRSIsImNoYWluIiwiYmxvY2siLCJhcHBlbmRCbG9ja1RvQ2hhaW4iLCJkZWZhdWx0cyIsImJsb2NrcyIsImZvbGxvdyIsImFwcGVuZExvY2FsZVRvQ2hhaW4iLCJ0b2tlbnMiLCJhcHBlbmRJdGVtVG9DaGFpbiIsIlZFUlNJT04iLCJOT1RfUkVPU0xWRUQiLCJNSVNTSU5HX1JFU09MVkVfVkFMVUUiLCJnZXREZWZhdWx0TGlua2VkTW9kaWZpZXJzIiwiX2NvbXBpbGVyIiwicmVnaXN0ZXJNZXNzYWdlQ29tcGlsZXIiLCJjb21waWxlciIsIl9yZXNvbHZlciIsInJlZ2lzdGVyTWVzc2FnZVJlc29sdmVyIiwicmVzb2x2ZXIiLCJfZmFsbGJhY2tlciIsInJlZ2lzdGVyTG9jYWxlRmFsbGJhY2tlciIsImZhbGxiYWNrZXIiLCJfYWRkaXRpb25hbE1ldGEiLCJzZXRBZGRpdGlvbmFsTWV0YSIsImdldEFkZGl0aW9uYWxNZXRhIiwiX2ZhbGxiYWNrQ29udGV4dCIsInNldEZhbGxiYWNrQ29udGV4dCIsImdldEZhbGxiYWNrQ29udGV4dCIsIl9jaWQiLCJjcmVhdGVDb3JlQ29udGV4dCIsIl9sb2NhbGUiLCJmYWxsYmFja0xvY2FsZSIsImNyZWF0ZVJlc291cmNlcyIsImRhdGV0aW1lRm9ybWF0cyIsIm51bWJlckZvcm1hdHMiLCJwbHVyYWxSdWxlcyIsIm1pc3NpbmciLCJtaXNzaW5nV2FybiIsImZhbGxiYWNrV2FybiIsImZhbGxiYWNrRm9ybWF0IiwidW5yZXNvbHZpbmciLCJwb3N0VHJhbnNsYXRpb24iLCJwcm9jZXNzb3IiLCJ3YXJuSHRtbE1lc3NhZ2UiLCJlc2NhcGVQYXJhbWV0ZXIiLCJtZXNzYWdlQ29tcGlsZXIiLCJtZXNzYWdlUmVzb2x2ZXIiLCJsb2NhbGVGYWxsYmFja2VyIiwiZmFsbGJhY2tDb250ZXh0IiwiaW50ZXJuYWxPcHRpb25zIiwiX19kYXRldGltZUZvcm1hdHRlcnMiLCJfX251bWJlckZvcm1hdHRlcnMiLCJfX21ldGEiLCJoYW5kbGVNaXNzaW5nIiwidXBkYXRlRmFsbGJhY2tMb2NhbGUiLCJpc0FsbW9zdFNhbWVMb2NhbGUiLCJjb21wYXJlTG9jYWxlIiwiaXNJbXBsaWNpdEZhbGxiYWNrIiwidGFyZ2V0TG9jYWxlIiwibG9jYWxlcyIsImZvcm1hdFBhcnRzIiwiZm9ybWF0TWVzc2FnZVBhcnRzIiwic3RhdGljXyIsImFjbSIsImZvcm1hdE1lc3NhZ2VQYXJ0IiwiZGVmYXVsdE9uQ2FjaGVLZXkiLCJjb21waWxlQ2FjaGUiLCJkZXRlY3RFcnJvciIsImJhc2VDb21waWxlJDEiLCJjb21waWxlVG9GdW5jdGlvbiIsImNhY2hlS2V5IiwiTk9PUF9NRVNTQUdFX0ZVTkNUSU9OIiwiaXNNZXNzYWdlRnVuY3Rpb24iLCJ0cmFuc2xhdGUiLCJwYXJzZVRyYW5zbGF0ZUFyZ3MiLCJyZXNvbHZlZE1lc3NhZ2UiLCJkZWZhdWx0TXNnT3JLZXkiLCJlbmFibGVEZWZhdWx0TXNnIiwiZXNjYXBlUGFyYW1zIiwiZm9ybWF0U2NvcGUiLCJyZXNvbHZlTWVzc2FnZUZvcm1hdCIsImNhY2hlQmFzZUtleSIsIm9jY3VycmVkIiwiY29tcGlsZU1lc3NhZ2VGb3JtYXQiLCJjdHhPcHRpb25zIiwiZ2V0TWVzc2FnZUNvbnRleHRPcHRpb25zIiwibXNnQ29udGV4dCIsIm1lc3NhZ2VkIiwiZXZhbHVhdGVNZXNzYWdlIiwibWlzc2luZ1JldCIsImdldENvbXBpbGVDb250ZXh0IiwibXNnQ3R4IiwiYXJnMyIsImRhdGV0aW1lIiwib3ZlcnJpZGVzIiwicGFyc2VEYXRlVGltZUFyZ3MiLCJwYXJ0IiwiZGF0ZXRpbWVGb3JtYXQiLCJmb3JtYXR0ZXIiLCJEQVRFVElNRV9GT1JNQVRfT1BUSU9OU19LRVlTIiwiYXJnNCIsIm1hdGNoZXMiLCJkYXRlVGltZSIsImNsZWFyRGF0ZVRpbWVGb3JtYXQiLCJwYXJzZU51bWJlckFyZ3MiLCJudW1iZXJGb3JtYXQiLCJOVU1CRVJfRk9STUFUX09QVElPTlNfS0VZUyIsImNsZWFyTnVtYmVyRm9ybWF0IiwiSTE4bkVycm9yQ29kZXMiLCJjcmVhdGVJMThuRXJyb3IiLCJUcmFuc2xhdGVWTm9kZVN5bWJvbCIsIkRhdGV0aW1lUGFydHNTeW1ib2wiLCJOdW1iZXJQYXJ0c1N5bWJvbCIsIlNldFBsdXJhbFJ1bGVzU3ltYm9sIiwiSW5lamN0V2l0aE9wdGlvblN5bWJvbCIsIkRpc3Bvc2VTeW1ib2wiLCJoYW5kbGVGbGF0SnNvbiIsInN1YktleXMiLCJsYXN0SW5kZXgiLCJjdXJyZW50T2JqIiwiaGFzU3RyaW5nVmFsdWUiLCJnZXRMb2NhbGVNZXNzYWdlcyIsIl9faTE4biIsImZsYXRKc29uIiwiY3VzdG9tIiwiZ2V0Q29tcG9uZW50T3B0aW9ucyIsImFkanVzdEkxOG5SZXNvdXJjZXMiLCJnbCIsImNvbXBvbmVudE9wdGlvbnMiLCJjcmVhdGVUZXh0Tm9kZSIsIkRFVlRPT0xTX01FVEEiLCJOT09QX1JFVFVSTl9BUlJBWSIsIk5PT1BfUkVUVVJOX0ZBTFNFIiwiY29tcG9zZXJJRCIsImRlZmluZUNvcmVNaXNzaW5nSGFuZGxlciIsImdldE1ldGFJbmZvIiwiY3JlYXRlQ29tcG9zZXIiLCJWdWVJMThuTGVnYWN5IiwiX19yb290IiwiX19pbmplY3RXaXRoT3B0aW9uIiwiX2lzR2xvYmFsIiwiX3JlZiIsInRyYW5zbGF0ZUV4aXN0Q29tcGF0aWJsZSIsIl9pbmhlcml0TG9jYWxlIiwiX2ZhbGxiYWNrTG9jYWxlIiwiX21lc3NhZ2VzIiwiX2RhdGV0aW1lRm9ybWF0cyIsIl9udW1iZXJGb3JtYXRzIiwiX21pc3NpbmdXYXJuIiwiX2ZhbGxiYWNrV2FybiIsIl9mYWxsYmFja1Jvb3QiLCJfZmFsbGJhY2tGb3JtYXQiLCJfbWlzc2luZyIsIl9ydW50aW1lTWlzc2luZyIsIl9wb3N0VHJhbnNsYXRpb24iLCJfd2Fybkh0bWxNZXNzYWdlIiwiX2VzY2FwZVBhcmFtZXRlciIsIl9tb2RpZmllcnMiLCJfcGx1cmFsUnVsZXMiLCJ0cmFja1JlYWN0aXZpdHlWYWx1ZXMiLCJnZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyIiwic2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlciIsImdldE1pc3NpbmdIYW5kbGVyIiwic2V0TWlzc2luZ0hhbmRsZXIiLCJ3cmFwV2l0aERlcHMiLCJhcmd1bWVudFBhcnNlciIsIndhcm5UeXBlIiwiZmFsbGJhY2tTdWNjZXNzIiwiZmFsbGJhY2tGYWlsIiwic3VjY2Vzc0NvbmRpdGlvbiIsInQiLCJydCIsImQiLCJ0cmFuc2xhdGVWTm9kZSIsIm51bWJlclBhcnRzIiwiZGF0ZXRpbWVQYXJ0cyIsInNldFBsdXJhbFJ1bGVzIiwicnVsZXMiLCJ0ZSIsImdldExvY2FsZU1lc3NhZ2UiLCJyZXNvbHZlTWVzc2FnZXMiLCJ0YXJnZXRMb2NhbGVNZXNzYWdlcyIsIm1lc3NhZ2VWYWx1ZSIsInRtIiwic2V0TG9jYWxlTWVzc2FnZSIsIl9tZXNzYWdlIiwibWVyZ2VMb2NhbGVNZXNzYWdlIiwiZ2V0RGF0ZVRpbWVGb3JtYXQiLCJzZXREYXRlVGltZUZvcm1hdCIsIm1lcmdlRGF0ZVRpbWVGb3JtYXQiLCJnZXROdW1iZXJGb3JtYXQiLCJzZXROdW1iZXJGb3JtYXQiLCJtZXJnZU51bWJlckZvcm1hdCIsImNvbXBvc2VyIiwiY29udmVydENvbXBvc2VyT3B0aW9ucyIsImZhbGxiYWNrUm9vdCIsInBsdXJhbGl6YXRpb25SdWxlcyIsImluaGVyaXRMb2NhbGUiLCJzaGFyZWRNZXNzYWdlcyIsImNyZWF0ZVZ1ZUkxOG4iLCJfX2V4dGVuZGVyIiwidnVlSTE4biIsImJhc2VGb3JtYXRQcm9wcyIsImdldEludGVycG9sYXRlQXJnIiwiZ2V0RnJhZ21lbnRhYmxlVGFnIiwiVHJhbnNsYXRpb25JbXBsIiwidXNlSTE4biIsImFzc2lnbmVkQXR0cnMiLCJUcmFuc2xhdGlvbiIsInJlbmRlckZvcm1hdHRlciIsInNsb3RLZXlzIiwicGFydEZvcm1hdHRlciIsInBhcnRzIiwiTnVtYmVyRm9ybWF0SW1wbCIsIk51bWJlckZvcm1hdCIsIkRhdGV0aW1lRm9ybWF0SW1wbCIsIkRhdGV0aW1lRm9ybWF0IiwiZ2V0Q29tcG9zZXIkMiIsImkxOG5JbnRlcm5hbCIsInZURGlyZWN0aXZlIiwiX3Byb2Nlc3MiLCJwYXJzZWRWYWx1ZSIsInBhcnNlVmFsdWUiLCJtYWtlUGFyYW1zIiwidGV4dENvbnRlbnQiLCJwbHVnaW5PcHRpb25zIiwidXNlSTE4bkNvbXBvbmVudE5hbWUiLCJkZWZpbmVNaXhpbiIsInZ1ZWkxOG4iLCJvcHRpb25zSTE4biIsIm1lcmdlVG9HbG9iYWwiLCJfdnVlSTE4biIsIkkxOG5JbmplY3Rpb25LZXkiLCJjcmVhdGVJMThuIiwiX19sZWdhY3lNb2RlIiwiX19nbG9iYWxJbmplY3Rpb24iLCJfX2FsbG93Q29tcG9zaXRpb24iLCJfX2luc3RhbmNlcyIsImdsb2JhbFNjb3BlIiwiX19nbG9iYWwiLCJjcmVhdGVHbG9iYWwiLCJzeW1ib2wiLCJfX2dldEluc3RhbmNlIiwiX19zZXRJbnN0YW5jZSIsIl9fZGVsZXRlSW5zdGFuY2UiLCJvcHRzIiwiZ2xvYmFsUmVsZWFzZUhhbmRsZXIiLCJpbmplY3RHbG9iYWxGaWVsZHMiLCJ1bm1vdW50QXBwIiwiZ2V0STE4bkluc3RhbmNlIiwiZ2V0R2xvYmFsQ29tcG9zZXIiLCJnZXRTY29wZSIsInVzZUkxOG5Gb3JMZWdhY3kiLCJnZXRDb21wb3NlciIsImNvbXBvc2VyT3B0aW9ucyIsInNldHVwTGlmZUN5Y2xlIiwibGVnYWN5TW9kZSIsInVzZUNvbXBvbmVudCIsImdldFBhcmVudENvbXBvbmVudEluc3RhbmNlIiwiX2NvbXBvc2VyIiwiZGlzcG9zZSIsImlzTG9jYWxTY29wZSIsIndhcnBXaXRoRGVwcyIsInN5bmMiLCJnbG9iYWxFeHBvcnRQcm9wcyIsImdsb2JhbEV4cG9ydE1ldGhvZHMiLCJkZXNjIiwicGVyc29uYWxJbmYiLCJza2lsbEludHJvIiwibGFuZyIsInRoZW1lIiwiY2hhbmdlTGFuZ3VhZ2UiLCJjaGFuZ2VUaGVtZSIsIkxhbmd1YWdlRU4iLCJMYW5ndWFnZVpIIiwiQXBwIl0sIm1hcHBpbmdzIjoic3NCQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FLQSwyQkFFQSxTQUFTQSxHQUFRQyxFQUFLLENBQ3BCLE1BQU1DLEVBQXNCLE9BQU8sT0FBTyxJQUFJLEVBQzlDLFVBQVdDLEtBQU9GLEVBQUksTUFBTSxHQUFHLEVBQUdDLEVBQUlDLENBQUcsRUFBSSxFQUM3QyxPQUFRQyxHQUFRQSxLQUFPRixDQUN6QixDQUVBLE1BQU1HLEdBQTRFLENBQUEsRUFDNUVDLEdBQTRFLENBQUEsRUFDNUVDLEdBQU8sSUFBTSxDQUNuQixFQUNNQyxH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
